;/*FB_PKG_DELIM*/

__d("LSGroupPollEventType",[],(function(t,n,r,o,a,i){var e=Object.freeze({QUESTION_CREATION:1,ADD_OPTION:2,ADD_UNVOTED_OPTION:3,UPDATE_VOTE:4,MULTIPLE_UPDATES:5,QUESTION_CLOSED:6,QUESTION_BUMPED:7,QUESTION_DELETION_SUCCESS:8,QUESTION_DELETION_FAILURE:9});i.default=e}),66);
__d("LSPollQuestionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({CHOOSE_MULTIPLE:0,MOST_LIKELY_TO:1,NON_POLL:2});i.default=e}),66);
__d("LsMessageSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4190"),s=o("FalcoLoggerInternal").create("ls_message_search_end",e),u=s;l.default=u}),98);
__d("LsMessageSearchMsgImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4191"),s=o("FalcoLoggerInternal").create("ls_message_search_msg_impression",e),u=s;l.default=u}),98);
__d("LsMessageSearchMsgResultChosenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4231"),s=o("FalcoLoggerInternal").create("ls_message_search_msg_result_chosen",e),u=s;l.default=u}),98);
__d("LsMessageSearchSearchClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4464"),s=o("FalcoLoggerInternal").create("ls_message_search_search_clicked",e),u=s;l.default=u}),98);
__d("LsMessageSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4683"),s=o("FalcoLoggerInternal").create("ls_message_search_start",e),u=s;l.default=u}),98);
__d("LsMessageSearchThreadImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6727"),s=o("FalcoLoggerInternal").create("ls_message_search_thread_impression",e),u=s;l.default=u}),98);
__d("LsMessageSearchThreadListClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6293"),s=o("FalcoLoggerInternal").create("ls_message_search_thread_list_click",e),u=s;l.default=u}),98);
__d("MAWBridgeDeleteMessagesHandler",["EntMessageReplyType","FBLogger","I64","LSIntEnum","MAWCurrentUser","MAWDbMsg","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWReplyBuilder","MAWTimeUtils","MsgrWebGating","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"MAWBridgeDeleteMessagesHandler",async function(e,n){await Promise.all(t.messages.map(async function(t){if(o("MsgrWebGating").isQuotedMessagesInLsEnabled()){var r=await e.messages.index("messageId").get(t.msgId);r!=null&&(await c({callbackTxn:e,messageId:r.messageId,threadKey:r.threadKey,timestampMs:r.timestampMs}),await d(e,r))}else await c({callbackTxn:e,messageId:t.msgId,threadKey:n,timestampMs:o("MAWTimeUtils").toTimestamp(t.ts)})}))})}async function c(e){var t=e.callbackTxn,n=e.messageId,r=e.threadKey,a=e.timestampMs;if(await t.messages.delete(r,a,n),o("MAWMpsGating").isMpsMessageRendering()){var i=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(r,n));await Promise.all(i.map(function(e){var n=[e.defaultCtaId,e.attachmentCta1Id,e.attachmentCta2Id,e.attachmentCta3Id].filter(Boolean),r=n.map(function(e){return t.attachment_ctas.delete(e)});return Promise.all(r).then(function(){return t.attachments.delete(e.threadKey,e.messageId,e.attachmentFbid)})}))}}async function d(t,n){var a=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.messages.index("replySourceIdMessageID")).getKeyRange(n.messageId)),i=o("MAWDbMsg").toMsgId(n.messageId);if(i==null){r("FBLogger")("messenger_e2ee_web").mustfix("[MAWBridgeDeleteMessagesHandler] Error extracting message id from message");return}await Promise.all(a.map(function(a){var l={isBumpMsg:a.replyType===(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP),replyToLSMessage:babelHelpers.extends({},n,{isUnsent:!0}),replyToMsgId:i,replyType:"MESSAGE"},u=babelHelpers.extends({},a,{replyAttachmentId:void 0,replyAttachmentPlaintextHash:void 0,replyAttachmentType:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaPreviewHeight:void 0,replyMediaPreviewWidth:void 0,replySnippet:o("MAWReplyBuilder").getReplyBuilder(l.replyType).buildReplySnippet(l,(s||(s=o("I64"))).to_string(a.senderId),o("MAWCurrentUser").getID()),replyStatus:o("MAWReplyBuilder").getReplyBuilder(l.replyType).buildReplyStatus(l)});return t.messages.put(u)}))}l.call=u}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.chatJid,"MAWBridgeDeleteReactionHandler",function(t,r){return t.reactions.delete(r,n.messageId,(e||(e=o("I64"))).of_string(n.actorId))})}l.call=s}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["FBLogger","I64","LSMessageSendStatus","MAWChatJid","ReQL","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("optimistic")).getKeyRange(t));return n==null?void 0:n.messageId}async function u(t,n,a){var i=await s(t,n.originalMsgExternalId);if(i==null){r("FBLogger")("messenger_web_e2ee").warn("original message for edit msg history is not present in lsdb");return}var l={messageContent:n.msgContent.content,originalMessagePk:i,sendStatus:n.sendStatus!=null?(e||(e=o("I64"))).of_int32(n.sendStatus):(e||(e=o("I64"))).of_int32(r("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(e||(e=o("I64"))).of_int32(n.editTs),threadKey:a};return t.edit_message_history.put(l)}function c(t,n,a,i,l){var s={messageContent:n.msgContent.content,originalMessagePk:l,pk:i,sendStatus:n.sendStatus!=null?(e||(e=o("I64"))).of_int32(n.sendStatus):(e||(e=o("I64"))).of_int32(r("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(e||(e=o("I64"))).of_int32(n.editTs),threadKey:a};return t.edit_message_history.put(s)}async function d(e,t,n){var r=await o("MAWChatJid").toThreadKeyMaybe(e.tables,n.threadJid);if(r!=null){var a=n.editMsgHistoryId,i=n.originalMsgId,l=i==null||a==null?u(t,n,r):c(t,n,r,a,i);return l}}function m(e,t,n){return Promise.all(n.map(function(n){return d(e,t,n)})).then(r("emptyFunction"))}l.call=m}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MessagingAttachmentType","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n,a){var i,l,u,c=n.contentRef,d=n.defaultPreviewMediaId,m=n.msgId,p=n.subtitleText,_=n.titleText,f=n.xmaId;if(m!=null){var g=(i=n==null||(l=n.defaultCTA)==null?void 0:l.actionUrl)!=null?i:n==null||(u=n.defaultCTA)==null?void 0:u.nativeUrl,h=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(a,m)),y=String(f),C=(e||(e=o("I64"))).zero,b;if(c!=null)try{var v=JSON.parse(c);v!=null&&(b=JSON.stringify(v))}catch(e){r("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}else r("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");var S=await o("MAWBridgeXMAUtils").addAttachmentCtas(t,n,a,m,y,{}),R=S.attachmentCta1Id,L=S.attachmentCta2Id,E=S.attachmentCta3Id,k=S.defaultCtaId,I={actionUrl:g!=null?g:void 0,attachmentCta1Id:R,attachmentCta2Id:L,attachmentCta3Id:E,attachmentFbid:y,attachmentIndex:e.zero,attachmentType:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),authorityLevel:e.zero,defaultCtaId:k,hasMedia:!1,hasXma:!0,hasXmaPreview:d!=null,isSharable:!0,messageId:m,receiverFetchId:b,subtitleText:p,threadKey:a,timestampMs:C,titleText:_,transportKey:"WhatsApp",xmaContentType:s.ofNumber(r("LSXmaContentType").MSG_RECEIVER_FETCH)};h!=null?await t.attachments.upsert([h.threadKey,h.messageId,h.attachmentFbid],I):await t.attachments.add(I)}}l.call=u}),98);
__d("MAWMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","ReQL","clearTimeout","promiseDone","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map;async function u(e,t,n){await Promise.all(t.map(function(t){var n=t.ts,r=t.msgId,a={msgId:r,ts:n},i=t.threadJid,l=[a],s={messages:l,threadJid:i};return o("MAWBridgeDeleteMessagesHandler").call(e,s)})),s.delete(n)}async function c(e,t,n){await Promise.all(t.map(async function(t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(t.msgId));if(n!=null){var r=babelHelpers.extends({},n,{replyAttachmentPlaintextHash:void 0});await e.messages.put(r)}})),s.delete(n)}async function d(e,t,n){await Promise.all(t.map(async function(t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(t.msgId));if(n!=null){var r=babelHelpers.extends({},n,{replyMessageText:void 0});await e.messages.put(r)}})),s.delete(n)}function m(t,n,a,l){return r("setTimeout")(async function(){var a=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r("promiseDone")(a.runInTransaction(async function(e){await l(e,t,n)},"readwrite",void 0,void 0,i.id+":127"))},a)}function p(e){var t=e.bridgeMsgStartCountdown,n=e.expirationEvent,o=t.countdownTs,a=t.millisecondsUntilCountdownTs,i=s.get(o),l;if(i==null)l=[t];else{r("clearTimeout")(i.timeoutId);var u=i.msgs.map(function(e){return e.msgId}).indexOf(t.msgId)===-1;u&&i.msgs.push(t),l=i.msgs}var c=m(l,o,a,n);s.set(o,{expirationTs:o,msgs:l,timeoutId:c})}function _(e){var t=e.msgId,n=s.get(e.countdownTs);if(n!=null){var r=n.msgs.map(function(e){return e.msgId}).indexOf(t);if(r>-1){n.msgs.splice(r,1);return}}}l.expirationDeletionEvent=u,l.expirationStoryReplyEvent=c,l.expirationNoteReplyEvent=d,l.setMessageForExpiration=p,l.clearMessageFromExpiration=_}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return n.msgs.reduce(function(n,r){return n.then(function(){return o("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:r,expirationEvent:o("MAWMessageExpirationStorage").expirationDeletionEvent}),(e||(e=o("I64"))).of_int32(r.millisecondsUntilCountdownTs),o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,r.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(t,n){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.messages).getKeyRange(n,o("MAWTimeUtils").toTimestamp(r.ts),r.msgId)).then(async function(n){if(n==null)return Promise.resolve();var a=babelHelpers.extends({},n,{ephemeralExpirationTs:(e||(e=o("I64"))).of_float(r.countdownTs)});await t.messages.put(a)})})})},Promise.resolve())}l.call=s}),98);
__d("MAWBridgePollUtils",["fbt","FBLogger","I64","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t){return t.toSorted(function(t,n){return t.numVotes!==n.numVotes?n.numVotes-t.numVotes:(e||(e=o("I64"))).equal(t.sortKeyVotingTimestamp,n.sortKeyVotingTimestamp)?(e||(e=o("I64"))).compare(t.sortKeyCreationTimestamp,n.sortKeyCreationTimestamp):(e||(e=o("I64"))).compare(n.sortKeyVotingTimestamp,t.sortKeyVotingTimestamp)})}function c(t){if(t===o("WAJids").AUTHOR_SYSTEM)throw r("FBLogger")("messenger_web").mustfixThrow("Not a valid author for poll vote");return t===o("WAJids").AUTHOR_ME?(e||(e=o("I64"))).of_string(o("WAJids").userIdFromJid(o("MAWUserJidWrapper").getMyUserJid())):(e||(e=o("I64"))).of_string(o("WAJids").userIdFromJid(t))}function d(e,t){switch(e.length){case 0:return s._(/*BTDS*/"{option_name}, no votes",[s._param("option_name",t)]);case 1:return s._(/*BTDS*/"{option_name}, Voted for by {voter_name}",[s._param("option_name",t),s._param("voter_name",e[0])]);case 2:return s._(/*BTDS*/"{option_name}, Voted for by {first_voter_name}, {second_voter_name}",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1])]);case 3:return s._(/*BTDS*/"{option_name}, Voted for by {first_voter_name}, {second_voter_name} and {third_voter_name}",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1]),s._param("third_voter_name",e[2])]);default:return s._(/*BTDS*/"{option_name}, Voted for by {first_voter_name}, {second_voter_name} and {remaining_count} others",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1]),s._param("remaining_count",e.length-2)])}}l.sortPollXMAOptions=u,l.getContactIdForAuthor=c,l.getListItemAccessibilityText=d}),226);
__d("MNLSXMATemplateType",[],(function(t,n,r,o,a,i){var e=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});i.default=e}),66);
__d("QuestionPollStage",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOMINATING:0,VOTING:1,CLOSED:2});i.default=e}),66);
__d("MAWBridgeNewPollHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSGroupPollEventType","LSIntEnum","LSPollQuestionType","MAWBridgePollUtils","MAWDbPoll","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","QuestionPollStage","ReQL","WAJids","nullthrows"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=3;async function d(t,n,r){var a=n.contactIdForCurrentUser,i=n.dbPoll,l=n.latestUpdateMsgId,s=n.latestUpdateTimestampMs,u=n.transportKey,c=i.pollStanzaId,d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments.index("idx_attachments_collapsible_id")).getKeyRange(r,(e||(e=o("I64"))).of_string(c)));d!=null&&await t.attachments.delete(d.threadKey,d.messageId,d.attachmentFbid),await p(t,i,r,l,s,a,u)}function m(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.dbPoll.chatJid,"BridgeNewPollHandler",function(e,n){return d(e,t,n)})}async function p(t,n,a,i,l,s,u){var d=n.latestSenderTimestampsMs,m=n.pollParticipantCount,p=n.pollStanzaId,h=(e||(e=o("I64"))).of_string(p),y=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.polls).getKeyRange(h));y==null&&await f(t,h,i,l,a);var C=await o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(t.poll_options_v2).getKeyRange(h)),b=new Map(n.pollOptions.entries().map(function(e){var t=e[0],n=e[1];return[o("MAWDbPoll").generateStableIdFromOptionHash(t,p).toString(),n]})),v=new Map;C.forEach(function(t){var n=(e||(e=o("I64"))).to_string(t.optionId);v.set(n,babelHelpers.extends({},v.get(n),{lsOption:t}))}),b.entries().forEach(function(e){var t=e[0],n=e[1];n.optionText!=null&&v.set(t,babelHelpers.extends({},v.get(t),{mawDbOption:n}))});var S=v.entries().toArray().sort(function(e,t){var n,o,a=e[0],i=e[1],l=i.lsOption,s=i.mawDbOption,u=t[0],c=t[1],d=c.lsOption,m=c.mawDbOption,p=r("nullthrows")((n=l==null?void 0:l.optionText)!=null?n:s==null?void 0:s.optionText),_=r("nullthrows")((o=d==null?void 0:d.optionText)!=null?o:m==null?void 0:m.optionText);return p.localeCompare(_)}),R=await Promise.all(S.map(async function(n,a){var i=n[0],l=n[1],u=l.lsOption,c=l.mawDbOption,p=(e||(e=o("I64"))).of_int32(a);if(u==null&&c==null)return null;var f=e.of_string(i);if(c==null){var g=r("nullthrows")(u),y=g.optionText;await t.poll_options_v2.upsert([h,f],babelHelpers.extends({},r("nullthrows")(u),{sortKeyCreationTimestamp:p}));var C=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.poll_votes_v2).getKeyRange(h,f,s));return{contactIds:[s],hasVoteFromCurrentUser:!0,numVotes:1,optionId:f,optionText:y,progressBarFilledPercentage:Math.floor(1/m*100),sortKeyCreationTimestamp:p,sortKeyVotingTimestamp:C!=null?C.timestampMs:(e||(e=o("I64"))).zero}}return _(t,h,f,r("nullthrows")(c.optionText),u,c,p,d,s,m)})).then(function(e){return e.filter(Boolean)}),L=R.some(function(e){return e.hasVoteFromCurrentUser}),E=o("MAWBridgePollUtils").sortPollXMAOptions(R).slice(0,c);await g(t,n,a,i,l,E,L,u)}async function _(t,n,a,i,l,s,u,c,d,m){var p=s.voteAuthors,_=Array.from(p).map(function(e){var t=c.get(e);if(t==null)throw r("FBLogger")("messenger_web").mustfixThrow("Missing latest sender timestamp for poll voter from dbPoll");return{contactId:o("MAWBridgePollUtils").getContactIdForAuthor(e),latestSenderTimestampMs:t}}),f=l!=null?await o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(t.poll_votes_v2).getKeyRange(n,a)):[],g=f.find(function(t){return(e||(e=o("I64"))).equal(t.contactId,d)}),h=c.get(o("WAJids").AUTHOR_ME),y=g!=null&&(h==null||h<(e||(e=o("I64"))).to_float(g.timestampMs));await Promise.all(f.map(async function(r){(e||(e=o("I64"))).equal(r.contactId,d)&&y||await t.poll_votes_v2.delete(n,a,r.contactId)})),await Promise.all(_.map(async function(r){var i=r.contactId,l=r.latestSenderTimestampMs;await t.poll_votes_v2.put({contactId:i,optionId:a,pollId:n,timestampMs:(e||(e=o("I64"))).of_float(l)})}));var C=(e||(e=o("I64"))).of_float(Math.max.apply(Math,_.map(function(e){return e.latestSenderTimestampMs}).concat([0]))),b=y?(e||(e=o("I64"))).max(r("nullthrows")(g==null?void 0:g.timestampMs),C):C,v=_.length+(y?1:0),S={optionId:a,optionText:i,pollId:n,sortKeyCreationTimestamp:u,sortKeyVotingTimestamp:b,voteCount:e.of_int32(v)};l!=null?await t.poll_options_v2.upsert([n,a],S):await t.poll_options_v2.add(S);var R=_.map(function(e){return e.contactId});return y&&R.push(d),{contactIds:R,hasVoteFromCurrentUser:y||_.find(function(t){return(e||(e=o("I64"))).equal(t.contactId,d)})!=null,numVotes:v,optionId:a,optionText:i,progressBarFilledPercentage:Math.floor(v/m*100),sortKeyCreationTimestamp:u,sortKeyVotingTimestamp:b}}async function f(t,n,a,i,l){var s={authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),lastUpdateMessageEventType:u.ofNumber(r("LSGroupPollEventType").QUESTION_CREATION),lastUpdateMessageId:a,lastUpdateMessageTimestampMs:(e||(e=o("I64"))).of_float(i),pollId:n,pollStage:u.ofNumber(r("QuestionPollStage").VOTING),pollType:u.ofNumber(r("LSPollQuestionType").CHOOSE_MULTIPLE),threadKey:l};await t.polls.put(s)}async function g(t,n,a,i,l,d,m,p){var _=n.pollStanzaId,f=n.title;if(d.length===0){r("FBLogger")("messenger_web").mustfix("Items length for poll XMA should be greater than 0");return}var g=await o("ReQL").toArrayAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(t.participants,[]).getKeyRange(a),o("ReQL").fromTableAscending(t.contacts,["name","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"])).map(function(e){var t=e[0],n=e[1];return n}).filter(Boolean)),h=new Map(g.map(function(t){return[(e||(e=o("I64"))).to_string(t.id),t]})),y=d.map(function(t){var n=t.contactIds,r=t.optionId,a=t.optionText,i=t.progressBarFilledPercentage,l=n.reduce(function(t,n){var r,a,i=h.get((e||(e=o("I64"))).to_string(n));return t.contactUrlExpirations.push((i==null?void 0:i.profilePictureUrlExpirationTimestampMs)!=null?(e||(e=o("I64"))).to_string(i.profilePictureUrlExpirationTimestampMs):""),t.contactUrlFallbacks.push((r=i==null?void 0:i.profilePictureFallbackUrl)!=null?r:""),t.contactUrls.push((a=i==null?void 0:i.profilePictureUrl)!=null?a:""),(i==null?void 0:i.name)!=null&&t.contactNames.push(i.name),t},{contactNames:[],contactUrlExpirations:[],contactUrlFallbacks:[],contactUrls:[]}),s=l.contactNames,u=l.contactUrlExpirations,c=l.contactUrlFallbacks,d=l.contactUrls;return{listItemAccessibilityText:o("MAWBridgePollUtils").getListItemAccessibilityText(s,a).toString(),listItemContactUrlExpirationTimestampList:u.length>0?u.join(", "):void 0,listItemContactUrlFallbackList:c.length>0?c.join(", "):void 0,listItemContactUrlList:d.length>0?d.join(", "):void 0,listItemId:r,listItemProgressBarFilledPercentage:(e||(e=o("I64"))).of_int32(i),listItemTitleText:a,listItemTotalCount:e.of_int32(n.length)}}),C=(e||(e=o("I64"))).of_string(_),b=m?s._(/*BTDS*/"Change vote").toString():s._(/*BTDS*/"Vote").toString(),v={actionContentBlob:f,attachmentFbid:_,attachmentIndex:e.zero,ctaId:C,messageId:i,targetId:e.of_string(_),threadKey:a,title:b,type_:"xma_poll_details_card"},S={attachmentCta1Id:C,attachmentFbid:_,attachmentIndex:e.zero,cta1Title:b,cta1Type:"xma_poll_details_card",defaultActionEnableExtensions:!1,defaultCtaId:C,defaultCtaTitle:b,defaultCtaType:"xma_poll_details_card",faviconUrlExpirationTimestampMs:e.zero,messageId:i,threadKey:a},R={attachmentCta1Id:C,attachmentFbid:_,attachmentIndex:e.zero,attachmentType:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),authorityLevel:u.ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),collapsibleId:e.of_string(_),cta1Title:b,cta1Type:"xma_poll_details_card",defaultCtaId:C,defaultCtaTitle:b,defaultCtaType:"xma_poll_details_card",hasMedia:!1,hasXma:!0,isSharable:!1,listItemsDescriptionText:f,listItemsId:e.of_string(_),messageId:i,threadKey:a,timestampMs:e.of_float(l),transportKey:p!=null?p:"WhatsApp",xmaLayoutType:u.ofNumber(r("MNLSXMALayoutType").XCENTER),xmasTemplateType:u.ofNumber(r("MNLSXMATemplateType").GENERIC_SHARE)},L=n.pollOptions.values().filter(function(e){return e.optionText!=null}).toArray().length,E=L>c?s._(/*BTDS*/"_j{\"*\":\"{additional_option_count} more options\",\"_1\":\"{additional_option_count} more option\"}",[s._plural(L-c),s._param("additional_option_count",L-c)]).toString():void 0,k=babelHelpers.extends({},R,{listItemAccessibilityText1:y[0].listItemAccessibilityText,listItemAccessibilityText2:y.length>1?y[1].listItemAccessibilityText:void 0,listItemAccessibilityText3:y.length>2?y[2].listItemAccessibilityText:void 0,listItemContactUrlExpirationTimestampList1:y[0].listItemContactUrlExpirationTimestampList,listItemContactUrlExpirationTimestampList2:y.length>1?y[1].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlExpirationTimestampList3:y.length>2?y[2].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlFallbackList1:y[0].listItemContactUrlFallbackList,listItemContactUrlFallbackList2:y.length>1?y[1].listItemContactUrlFallbackList:void 0,listItemContactUrlFallbackList3:y.length>2?y[2].listItemContactUrlFallbackList:void 0,listItemContactUrlList1:y[0].listItemContactUrlList,listItemContactUrlList2:y.length>1?y[1].listItemContactUrlList:void 0,listItemContactUrlList3:y.length>2?y[2].listItemContactUrlList:void 0,listItemId1:y[0].listItemId,listItemId2:y.length>1?y[1].listItemId:void 0,listItemId3:y.length>2?y[2].listItemId:void 0,listItemProgressBarFilledPercentage1:y[0].listItemProgressBarFilledPercentage,listItemProgressBarFilledPercentage2:y.length>1?y[1].listItemProgressBarFilledPercentage:void 0,listItemProgressBarFilledPercentage3:y.length>2?y[2].listItemProgressBarFilledPercentage:void 0,listItemsSecondaryDescriptionText:E,listItemTitleText1:d[0].optionText,listItemTitleText2:d.length>1?d[1].optionText:void 0,listItemTitleText3:d.length>2?d[2].optionText:void 0,listItemTotalCount1:y[0].listItemTotalCount,listItemTotalCount2:y.length>1?y[1].listItemTotalCount:void 0,listItemTotalCount3:y.length>2?y[2].listItemTotalCount:void 0});await Promise.all([t.attachments.upsert([a,i,_],k),t.attachment_ctas.upsert([C],v),t.attachment_items.upsert([_,e.zero],S)])}l.POLL_OPTIONS_THRESHOLD=c,l.call=m}),226);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWBridgeSendAndReceive","MAWImageUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MessagingAttachmentType","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(e){if(!o("MAWMpsGating").isMpsMessageRendering())return e;var t=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getReceiverFetchInfo",{receiverFetchId:e.receiverFetchId});return babelHelpers.extends({},e,t)}async function c(e,t,n){var r=await u(t),a=r.msgId,i=r.receiverFetchId,l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(n,a)),s=m(r,n,l);await e.attachments.upsert([n,a,i],s)}function d(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"BridgeNewReceiverFetchInfoHandler",function(e,n){return c(e,t,n)})}function m(t,n,a){var i=t.accessibilitySummaryText,l=t.mimetype,u=t.msgId,c=t.previewHeight,d=t.previewUrl,m=t.previewUrlExpirationTimestampMs,_=t.previewWidth,f=t.ravenSettings,g=t.receiverFetchId,h=t.sortOrderMs,y=t.transportKey,C=t.type,b=p(C),v=o("MAWImageUtils").boundHeightWidth(c,_,o("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE),S=v.height,R=v.width,L=d!=null?d:a==null?void 0:a.previewUrl,E=m!=null?(e||(e=o("I64"))).of_float(m):a==null?void 0:a.previewUrlExpirationTimestampMs,k=o("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(L,E);return{accessibilitySummaryText:i,attachmentFbid:g,attachmentIndex:(e||(e=o("I64"))).zero,attachmentType:b,authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(f==null?void 0:f.ephemeralMediaState)!=null?(e||(e=o("I64"))).of_int32(f.ephemeralMediaState):void 0,ephemeralMediaViewMode:(f==null?void 0:f.ephemeralMediaViewMode)!=null?(e||(e=o("I64"))).of_int32(f.ephemeralMediaViewMode):void 0,hasMedia:k,hasXma:!1,isSharable:!1,messageId:u,previewHeight:e.of_int32(S),previewUrl:d!=null?d:a==null?void 0:a.previewUrl,previewUrlExpirationTimestampMs:m!=null?(e||(e=o("I64"))).of_float(m):a==null?void 0:a.previewUrlExpirationTimestampMs,previewUrlMimeType:l,previewWidth:e.of_int32(R),receiverFetchId:g,threadKey:n,timestampMs:e.of_float(h),transportKey:y!=null?y:"WhatsApp"}}function p(e){switch(e){case"sticker":return(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER);default:throw r("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}l.call=d,l.composeAttachment=m}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n){var r=String(t.xmaId),a=t.msgId;if(a!=null){var i=t.targetType===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(i)return o("MAWBridgeHandleReceiverFetchXMA").call(e,t,n);var l=await o("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(e,n,a),s=l[0],u=l[1],c=await o("MAWBridgeXMAUtils").addAttachmentCtas(e,t,n,a,r,u),d=c.attachmentCta1Id,m=c.attachmentCta2Id,p=c.attachmentCta3Id,_=c.defaultCtaId,f=o("MAWBridgeXMAUtils").composeAttachmentXMA(t,n,r,a,d,m,p,_,"MAWBridgeNewXMAHandler");s!=null?await e.attachments.upsert([s.threadKey,s.messageId,s.attachmentFbid],f):await e.attachments.add(f)}}function s(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.threadJid,"MAWBridgeNewXMAHandler",function(t,r){return e(t,n,r)})}function u(e,t){return s(e,t)}l.callWithoutWaitingForAnything=e,l.call=u}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i,l){return{actorId:(e||(e=o("I64"))).of_string(t),authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),messageId:a,reaction:l,reactionCreationTimestampMs:o("MAWTimeUtils").toTimestamp(i),threadKey:n,timestampMs:o("MAWTimeUtils").toTimestamp(i),transportKey:"WhatsApp"}}function c(t,n,r,a,i,l){return t.reactions.upsert([r,a,(e||(e=o("I64"))).of_string(n)],u(n,r,a,i,l))}function d(e,t,n,r,o,a){return c(e,t,n,r,o,a)}function m(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.chatJid,"MAWBridgeReactionUpsertHandler",function(e,n){return c(e,t.actorId,n,t.messageId,t.ts,t.reaction)})}l.composeReaction=u,l.attachmentMutationsOptimisticHandler=d,l.call=m}),98);
__d("MAWQPLLogger",["QPLUserFlow","Random","cr:10049"],(function(t,n,r,o,a,i,l){"use strict";n("cr:10049")==null||n("cr:10049").overwriteSamplingRate();function e(e){return{addQPLAnnotations:function(n,o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:n})},markQPLCancel:function(n){r("QPLUserFlow").endCancel(e,{instanceKey:n})},markQPLFailure:function(n,o){var t;r("QPLUserFlow").endFailure(e,(t=o==null?void 0:o.name)!=null?t:"fail",{error:o,instanceKey:n})},markQPLFailureWithMsg:function(n,o){r("QPLUserFlow").endFailure(e,o,{instanceKey:n})},markQPLPoint:function(n,o,a){r("QPLUserFlow").addPoint(e,o,{debugInfo:a,instanceKey:n})},markQPLStart:function(){var t=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(e,{instanceKey:t}),t},markQPLSuccess:function(n){r("QPLUserFlow").endSuccess(e,{instanceKey:n})}}}l.default=e}),98);
__d("MAWDataSourceLogger",["I64","MAWQPLLogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){return s==null&&(s=r("MAWQPLLogger")(r("qpl")._(25303796,"1974"))),s}function c(t){var n=u().markQPLStart();return u().addQPLAnnotations(n,{string:{threadType:(e||(e=o("I64"))).to_string(t)}}),n}function d(t,n,r){u().markQPLPoint(t,"wait_act_thread_start","before fetching messages range from table"),u().addQPLAnnotations(t,{int:{version:1},string:{direction:n,thread_id:(e||(e=o("I64"))).to_string(r)}})}function m(e,t){u().markQPLFailureWithMsg(e,t)}function p(e){u().markQPLCancel(e)}function _(e){u().markQPLPoint(e,"wait_act_thread_end","before fetching messages range from table"),u().markQPLPoint(e,"load_more_msgs_start","load more messages from MAW DB")}function f(e){u().markQPLPoint(e,"load_messages_from_eb_start","load more messages from EB")}function g(e){u().markQPLPoint(e,"load_messages_from_eb_end","load more messages from EB")}function h(e){u().markQPLPoint(e,"load_messages_from_local_db_start")}function y(e){u().markQPLPoint(e,"load_messages_from_local_db_end")}function C(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_start")}function b(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_end")}function v(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_dispatch_download_state_updates_start")}function S(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_dispatch_download_state_updates_end")}function R(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_call_bridge_handlers_start")}function L(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_call_bridge_handlers_end")}function E(e,t){u().markQPLPoint(e,"load_more_msgs_end","Note: OLD SOLUTION DOES NOT FETCH messages. they are fetched in afterTransaction that we cannot control"),u().addQPLAnnotations(e,{bool:{hasMoreBefore:t}})}function k(e){u().markQPLSuccess(e)}function I(e,t){u().markQPLPoint(e,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+t)}function T(e,t){u().markQPLFailure(e,t)}l.logLoadMoreMsgsStart=c,l.logLoadMoreMsgsThreadWaiting=d,l.logLoadMoreMsgsFailure=m,l.logLoadMoreMsgsCancel=p,l.logLoadMoreMsgsThreadReadyFetchMsgs=_,l.logLoadMessagesFromEBStart=f,l.logLoadMessagesFromEBEnd=g,l.logLoadMessagesFromLocalDBStart=h,l.logLoadMessagesFromLocalDBEnd=y,l.logInsertMessageResponseToLSDBStart=C,l.logInsertMessageResponseToLSDBEnd=b,l.logDispatchDownloadStateUpdatesStart=v,l.logDispatchDownloadStateUpdatesEnd=S,l.logCallBridgeHandlersStart=R,l.logCallBridgeHandlersEnd=L,l.logLoadMoreMsgsFetched=E,l.logLoadMoreMsgsSuccess=k,l.logLoadMoreMsgsRangeQuery=I,l.logLoadMoreMsgsRuntimeError=T}),98);
__d("MAWMessageIntegrityTruncateStatus",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e=["threadKey"],s,u=0,c=new Map;function d(t,n,r){var a,i=(a=c.get((s||(s=o("I64"))).to_float(t)))!=null?a:{},l=n.threadKey,u=babelHelpers.objectWithoutPropertiesLoose(n,e),d=babelHelpers.extends({},i,{lastUpsertedRange:babelHelpers.extends({},u,r,{maxTimestampMs:(s||(s=o("I64"))).to_float(n.maxTimestampMs),minTimestampMs:s.to_float(n.minTimestampMs)}),updateRangeTimestamp:Date.now()});c.set(s.to_float(t),d)}function m(e){var t,n=(t=c.get((s||(s=o("I64"))).to_float(e)))!=null?t:{},r=babelHelpers.extends({},n,{truncateTimestamp:n.truncateTimestamp==null?u:Date.now()});c.set((s||(s=o("I64"))).to_float(e),r)}function p(e){var t=c.get((s||(s=o("I64"))).to_float(e));return(t==null?void 0:t.truncateTimestamp)==null?null:t}l.setThreadLastUpsertedRange=d,l.setThreadThuncated=m,l.getThreadThuncateState=p}),98);
__d("MAWPutMessagesToDB",["MAWBridgeDeleteReactionHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeReactionUpsertHandler","MAWDataSourceLogger","gkx"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,a){var i=n.editMsgHistory,l=n.expiringCountdown,s=n.medias,u=n.msgs,c=n.polls,d=n.quotedMsgs,m=n.reactions,p=n.receiverFetchInfoPayloads,_=n.xmas;a!=null&&o("MAWDataSourceLogger").logDispatchDownloadStateUpdatesStart(a),a!=null&&(o("MAWDataSourceLogger").logDispatchDownloadStateUpdatesEnd(a),o("MAWDataSourceLogger").logCallBridgeHandlersStart(a));var f=r("gkx")("17154");f&&await Promise.all(s.map(function(e){return o("MAWBridgeNewMediaHandler").call(t,e)})),d!=null&&d.length>0&&await o("MAWBridgeNewMsgHandler").bulkCall(t,d),await o("MAWBridgeNewMsgHandler").bulkCall(t,u),f||await Promise.all(s.map(function(e){return o("MAWBridgeNewMediaHandler").call(t,e)})),await Promise.all(_.map(function(e){return o("MAWBridgeNewXMAHandler").call(t,e)})),await Promise.all(p.map(function(e){return o("MAWBridgeNewReceiverFetchInfoHandler").call(t,e)})),await Promise.all(c.map(function(e){return o("MAWBridgeNewPollHandler").call(t,e)})),await o("MAWBridgeMsgsStartCountdownHandler").call(t,{msgs:l}),await Promise.all(m.map(function(e){return e.type==="delete"?o("MAWBridgeDeleteReactionHandler").call(t,e.reaction):o("MAWBridgeReactionUpsertHandler").call(t,e.reaction)})),await o("MAWBridgeEditMsgHistoryAddedHandler").call(e,t,i),a!=null&&o("MAWDataSourceLogger").logCallBridgeHandlersEnd(a)}function s(t,n,r){return t.runInTransaction(function(o){return e(t,o,n,r)},"readwrite","ui",void 0,i.id+":112")}function u(t,n){return t.runInTransaction(function(r){return e(t,r,babelHelpers.extends({},n,{expiringCountdown:[],hasMoreAfter:!1,hasMoreBefore:!1,noteReplyCountdown:[],xmaCountdown:[]}))},"readwrite","ui",void 0,i.id+":130")}l.insertMessageResponseToDBInExistingTransaction=e,l.insertMessageResponseIntoDatabase=s,l.insertMessageResponseIntoDatabaseByExternalId=u}),98);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","deepEquals","getErrorSafe","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=["count"],s,u=o("CometLruCache").create(20,2e3);async function c(t,n){var a=t.chatJid,i=t.config,l=t.count,s=t.direction,c=t.offsetMsg,p=t.timestampMs,_=u.get(a);if(_!=null){var f=_&&_.options,g=f.count,h=babelHelpers.objectWithoutPropertiesLoose(f,e);if(r("deepEquals")(h,{config:i,direction:s,offsetMsg:c,timestampMs:p})&&l<=g)try{return o("WAResultOrError").makeResult(babelHelpers.extends({},await _.result))}catch(e){}}return r("qex")._("18")?m(t,n):d(t,n)}async function d(e,t){var n=e.actionType,a=e.chatJid,i=e.config,l=e.count,c=e.direction,d=e.offsetMsg,m=e.timestampMs;try{var p,_=o("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:n,chatJid:a,config:i,direction:c,externalId:d==null?void 0:d.externalId,includeOriginalMsg:(p=d==null?void 0:d.includeOriginalMsg)!=null?p:!1,msgId:(d==null?void 0:d.messageId)==null?null:o("MAWDbMsg").toMsgId(d.messageId),numMsgs:l,sortOrderMs:m!=null?(s||(s=o("I64"))).to_float(m):null},{timeoutMs:t==null?void 0:t.timeoutMs});u.set(a,{options:{config:i,count:l,direction:c,offsetMsg:d,timestampMs:m},result:_});var f=babelHelpers.extends({},await _);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web").catching(g).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed"),o("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",g)}}async function m(e,t){var n=e.actionType,a=e.chatJid,i=e.config,l=e.count,c=e.direction,d=e.offsetMsg,m=e.timestampMs;try{var p,_=o("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:n,chatJid:a,config:i,direction:c,range:{includeLowerBoundMsg:(p=d==null?void 0:d.includeOriginalMsg)!=null?p:!1,lowerBoundExternalId:(d==null?void 0:d.externalId)==null?void 0:d.externalId,lowerBoundSortOrderMs:m!=null?(s||(s=o("I64"))).to_float(m):void 0,numMsgs:l}},{timeoutMs:t==null?void 0:t.timeoutMs});u.set(a,{options:{config:i,count:l,direction:c,offsetMsg:d,timestampMs:m},result:_});var f=babelHelpers.extends({},await _);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web").catching(g).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed"),o("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",g)}}l.default=c}),98);
__d("MDSScrollableAreaStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={themed:{scrollbarColor:"x16o0dkt",$$css:!0},unthemed:{scrollbarColor:"xgjnz6y",$$css:!0}},s=e;l.default=s}),98);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","getErrorSafe","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useRef,m=u.useSyncExternalStore,p=new Map,_=new Map;function f(e){var t;(t=p.get(e))==null||t.forEach(function(e){return e()})}function g(t,n){var o=d(t).current,a=d({parsed:o,stringified:void 0}),i=c(function(e){var t=p.get(n),r=t!=null?t:new Set;return r.add(e),p.set(n,r),function(){r.delete(e)}},[n]),l=c(function(){var t=(e||(e=r("WebStorage"))).getLocalStorageForRead(),i=t==null?_.get(n):t.getItem(n);if(i==null)return o;if(i===a.current.stringified)return a.current.parsed;try{var l=JSON.parse(i);return a.current={parsed:l,stringified:i},l}catch(e){return o}},[o,n]),s=m(i,l),u=c(function(t){var o=t instanceof Function?t(a.current.parsed):t,i=(e||(e=r("WebStorage"))).getLocalStorage(),l=JSON.stringify(o);if(i!=null)if(l==null)i.removeItem(n);else try{i.setItem(n,l)}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(s).mustfix("Failed to setItem")}else _.set(n,l);f(n)},[n]);return[s,u]}l.usePersistedUIState=g}),98);
__d("coerceMessagingThreadTypeToLSThreadType",["LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t)}l.default=s}),98);
__d("MWPConversationSearchLogger",["I64","LSMessagingThreadTypeUtil","LsMessageSearchEndFalcoEvent","LsMessageSearchMsgImpressionFalcoEvent","LsMessageSearchMsgResultChosenFalcoEvent","LsMessageSearchSearchClickedFalcoEvent","LsMessageSearchStartFalcoEvent","LsMessageSearchThreadImpressionFalcoEvent","LsMessageSearchThreadListClickFalcoEvent","coerceMessagingThreadTypeToLSThreadType","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=void 0;function c(e,t,n){var o=e?u!=null?u:d():r("uuidv4")(),a={instanceId:o,threadKey:t,threadType:n,universalSearchInstanceId:e?o:void 0};return s=a,a}function d(){var e=r("uuidv4")();return u=e,e}function m(){var e=d();r("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:2,message_search:{instance_id:e,surface_name:0,universal_search_instance_id:e}}})}function p(t,n){var a=u;if(a!=null){var i=t.threadKey,l=t.threadType;c(!0,i,l),r("LsMessageSearchThreadListClickFalcoEvent").log(function(){var i;return{message_search:{instance_id:a,msg_match_cnt:(e||(e=o("I64"))).to_string((i=t.matchCount)!=null?i:(e||(e=o("I64"))).zero),secure_msg_match_cnt:n!=null?n.toString():null,universal_search_instance_id:a},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(l)}}})}}function _(t,n){var a=u;if(a!=null){var i=t.threadType;r("LsMessageSearchThreadImpressionFalcoEvent").log(function(){var l;return{message_search:{instance_id:a,msg_match_cnt:(e||(e=o("I64"))).to_string((l=t.matchCount)!=null?l:(e||(e=o("I64"))).zero),secure_msg_match_cnt:n!=null?n.toString():null,surface_name:0,universal_search_instance_id:a},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(i)}}})}}function f(){var e=s;e!=null&&(r("LsMessageSearchEndFalcoEvent").log(function(){return{end_action:0,message_search:{instance_id:e.instanceId,universal_search_instance_id:e.universalSearchInstanceId}}}),s=void 0)}function g(e,t){f();var n=c(!1,e,t),a=o("LSMessagingThreadTypeUtil").isArmadilloSecure(t);r("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:0,is_fts:a,message_search:{instance_id:n.instanceId,surface_name:1},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(t)}}})}function h(){var e=s;e!=null&&r("LsMessageSearchSearchClickedFalcoEvent").log(function(){return{message_search:{instance_id:e.instanceId,universal_search_instance_id:e.universalSearchInstanceId},thread:{type:e.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(e.threadType):void 0}}})}function y(e){if((e==null?void 0:e.threadType)!=null)return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)?1:0}function C(t,n,a){var i=s;i!=null&&r("LsMessageSearchMsgResultChosenFalcoEvent").log(function(){return{click_surface_name:1,message:{message_type:y(a),sent_time:(a==null?void 0:a.messageTimestampMs)!=null?(e||(e=o("I64"))).to_float(a.messageTimestampMs):void 0},message_search:{instance_id:i.instanceId,universal_search_instance_id:i.universalSearchInstanceId},position:n.toString(),prev_or_next:t,thread:{type:i.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(i.threadType):void 0}}})}function b(t){var n=s;n!=null&&r("LsMessageSearchMsgImpressionFalcoEvent").log(function(){return{message:{message_type:y(t),sent_time:(t==null?void 0:t.messageTimestampMs)!=null?(e||(e=o("I64"))).to_float(t.messageTimestampMs):void 0},message_search:{instance_id:n.instanceId,surface_name:5,universal_search_instance_id:n.universalSearchInstanceId},thread:{type:n.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(n.threadType):void 0}}})}var v={logMessageSearchEnd:f,logMessageSearchMsgImpression:b,logMessageSearchMsgResultChosen:C,logMessageSearchSearchClicked:h,logMessageSearchStart:g,logUniversalMessageSearch:m,logUniversalMessageSearchThreadClicked:p,logUniversalMessageSearchThreadImpression:_};l.default=v}),98);
__d("MWPThreadIsPageContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("MWPThreadIsPage.react",["FBLogger","I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useContext;function p(t){var n=o("react-compiler-runtime").c(11),a=t.children,l=t.threadKey,c=(e||(e=r("useReStore")))(),m=o("MWPActor.react").useActor(),p;n[0]!==m||n[1]!==c||n[2]!==l?(p=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(c.tables.participants,["contactId"]).getKeyRange(l).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,m)}),o("ReQL").fromTableAscending(c.tables.contacts))},n[0]=m,n[1]=c,n[2]=l,n[3]=p):p=n[3];var _;n[4]!==l?(_=[l],n[4]=l,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":29"),g=f!=null?f[1]:null,h;n[6]!==g?(h=g!=null?(s||(s=o("I64"))).equal(g.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE)):!1,n[6]=g,n[7]=h):h=n[7];var y=h,C;return n[8]!==a||n[9]!==y?(C=d.jsx(r("MWPThreadIsPageContext").Provider,{value:y,children:a}),n[8]=a,n[9]=y,n[10]=C):C=n[10],C}function _(){var e=m(r("MWPThreadIsPageContext"));return e!=null?e:(r("FBLogger")("messenger_web_ia").mustfix("Using hook useIsPage in a place where we didn't include the context"),!1)}l.Provider=p,l.useIsPage=_}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2}),l=[e.MESSAGE_LIST_PANEL,e.INFO_PANEL],s=375,u=320,c=e.THREAD_LIST_PANEL,d=e.MESSAGE_LIST_PANEL,m=3;i.MWLayoutPanel=e,i.MWInboxMainContentPanels=l,i.DENSE_LAYOUT_BREAKPOINT_WIDTH=s,i.DENSE_LAYOUT_BREAKPOINT_HEIGHT=u,i.DEFAULT_ONE_CARD_INDEX=c,i.DEFAULT_TWO_CARDS_INDEX=d,i.DEFAULT_MAX_CARDS_VISIBLE=m}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({_mountCard:r("emptyFunction"),_unmountCard:r("emptyFunction"),cardsVisible:o("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:o("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:r("emptyFunction"),primaryCardIndex:o("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:r("emptyFunction"),secondaryCardIndex:null}),c=u;l.default=c}),98);
__d("MpsMessageToLoadResponse",["FBLogger","MpsMessageToBridge","MpsMessageToBridgeWrapper","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=[],i=[],l=[],u=[],c=[],d=[],m=[],p=[],_=[],f=0,g=new Set,h=function(){var t,n=(t=o("MpsMessageToBridge").mpsFullMessagetoBridge(y))!=null?t:{},h=n.supplementals,C=n.topLevel;h==null||h.forEach(function(e){e.kind==="bridgeEditHistoryMsg"?a.push(e.value):e.kind==="bridgeReactionAction"?i.push(e.value):e.kind==="bridgeMsgsStartCountdown"?c.push.apply(c,e.value.msgs):e.kind==="bridgeXMAStartCountdown"?d.push.apply(d,e.value.msgs):e.kind==="bridgeNoteReplyStartCountdown"?m.push.apply(m,e.value.msgs):e.kind==="bridgeMedia"?_.push(e.value):e.kind==="bridgeReceiverFetchInfo"?p.push(e.value):e.kind==="bridgeXMA"&&u.push(e.value)}),(C==null?void 0:C.kind)==="bridgeMsg"&&l.push(C.value);var b=C!=null&&C.kind==="bridgeMsg"&&C.value.type_===o("WAMsgType").MSG_TYPE.FUTUREPROOF;if(C==null||b){f++,r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).INFO(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Could not convert MPS msg to Bridge msg, id: ",", isFutureProof: ",""])),y.toplevelProtobuf.messageId,b);var v=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(y.toplevelProtobuf),S=v.deserialize(),R=S.encryptedTransportMessage(),L="unknownFieldCount",E=R==null?void 0:R.subProtocol(),k=S.adminMessage();if(E!=null)e:{if((typeof E=="object"&&E!==null||typeof E=="function")&&E.kind==="consumerApplication"){var I,T;Object.keys((I=R==null||(T=R.consumerMessage())==null||(T=T.payload)==null?void 0:T.content)!=null?I:{}).forEach(function(e){e!==L&&g.add("consumer:"+e)});break e}if((typeof E=="object"&&E!==null||typeof E=="function")&&E.kind==="armadillo"){var D,x;Object.keys((D=R==null||(x=R.armadillo())==null||(x=x.payload)==null?void 0:x.content)!=null?D:{}).forEach(function(e){e!==L&&g.add("armadillo:"+e)});break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+E)}else if(k!=null){var $;Object.keys(($=k.proto)!=null?$:{}).forEach(function(e){e!==L&&g.add("admin:"+e)})}else S.encryptedTransportEvent()!=null?g.add("transportEvent"):S.locallyTransformedMessage()!=null?g.add("locallyTransformed"):(g.add("unknown"),r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).mustfix("Unrecognised message"));r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Unrendered msg type, id: ",", type: ",""])),y.toplevelProtobuf.messageId,Array.from(g).join(","))}};for(var y of t)h();var C={editMsgHistory:a,expiringCountdown:c,medias:_,msgs:l,noteReplyCountdown:m,polls:[],reactions:i,receiverFetchInfoPayloads:p,xmaCountdown:d,xmas:u};return f>0&&(n==null||n.addQPLAnnotations({int:{mpsUnrenderedCount:f},string_array:{mpsUnkownMsgTypes:Array.from(g)}})),C}l.messageToLoadMsgsResponse=u}),98);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=["hasMissingMessage"],s;function u(t,n,a,i){var l=t.threadKey,u=t.threadType;if(a!=null){var c=o("LSMessagingThreadTypeUtil").isArmadilloSecure(u),d=o("LSMessagingThreadTypeUtil").isGroup(u),m=(s||(s=o("I64"))).to_string(l),p=i!=null?i:{},_=p.hasMissingMessage,f=babelHelpers.objectWithoutPropertiesLoose(p,e),g=i!=null?i:{},h=g.MAW_vs_EB_numOfMissingInReference,y=g.MAW_vs_EB_numOfMissingInTarget,C=g.UI_vs_EB_numOfMissingInReference,b=g.UI_vs_EB_numOfMissingInTarget,v=g.UI_vs_MAW_numOfMissingInReference,S=g.UI_vs_MAW_numOfMissingInTarget,R=g.pageSize;r("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:a,event_name:n,extra_data:f,has_message_missing:_,is_secured:c,missing_messages_maw_vs_eb_missing_in_reference_count:h,missing_messages_maw_vs_eb_missing_in_target_count:y,missing_messages_page_size:R,missing_messages_ui_vs_eb_missing_in_reference_count:C,missing_messages_ui_vs_eb_missing_in_target_count:b,missing_messages_ui_vs_maw_missing_in_reference_count:v,missing_messages_ui_vs_maw_missing_in_target_count:S,other_user_fbid:d||c?void 0:m,thread_fbid:m}})}}l.default=u}),98);/*FB_PKG_DELIM*/
__d("FocusTableUtils",["FocusManager","filterNulls","focusKeyboardEventPropagation","focusScopeQueries","setElementCanTab"],(function(t,n,r,o,a,i,l){function e(e){return e.length===1}function s(e){return e instanceof HTMLElement||e instanceof SVGElement}function u(e,t){for(var n,o,a,i=t instanceof HTMLElement&&t.id!==""?t.id:null,l=new Set(t instanceof HTMLElement?r("filterNulls")([].concat(((n=t.getAttribute("aria-labelledby"))!=null?n:"").split(" "),((o=t.getAttribute("aria-describedby"))!=null?o:"").split(" "),((a=t.getAttribute("aria-owns"))!=null?a:"").split(" "),[t.getAttribute("aria-errormessage")])).filter(function(e){return e!==""}):[]),u=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(n){return n===t||n.nodeType===Node.TEXT_NODE&&n.textContent.trim()===""||s(n)&&l.has(n.id)||s(n)&&n.getAttribute("aria-hidden")==="true"||n instanceof HTMLLabelElement&&(n.htmlFor===i||n.contains(t))?NodeFilter.FILTER_REJECT:n.hasChildNodes()?NodeFilter.FILTER_SKIP:s(n)&&n.getAttribute("aria-label")==null&&n.getAttribute("aria-labelledby")==null&&n.getAttribute("aria-describedby")==null&&n.getAttribute("alt")==null&&n.getAttribute("title")==null?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),c=u.currentNode;c===e;)c=u.nextNode();return c!=null}var c=new Set(["button","checkbox","radio","reset","submit"]),d=new Set(["checkbox","link","switch","radio","button"]),m=new Set(["a","button"]);function p(e){var t=e.getAttribute("role"),n=e.tagName.toLowerCase(),r=e instanceof HTMLInputElement?e.type:null;return!!(e instanceof HTMLInputElement&&c.has(r)||d.has(t)||m.has(n))}function _(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return t instanceof HTMLElement&&p(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),r=n.nextNode();r;)t.push(r),r=n.nextNode();return t}function f(e,t){if(!t)return null;var n=e.DO_NOT_USE_queryFirstNode(o("focusScopeQueries").tableCellScopeQuery);if(n==null)return null;var r=_(n),a=r!=null?r:[],i=a[0],l=babelHelpers.arrayLikeToArray(a).slice(1);if(i!=null&&l.length===0&&!u(n,i))return i}function g(e,t,n){if(t){var r=t.scopeRef.current;if(r!==null){var a,i,l=f(r,(a=t.allowWithinCellNavigation)!=null?a:!1),s=(i=l!=null?l:r.DO_NOT_USE_queryFirstNode(e))!=null?i:t.focusStaticCells===!0?r.DO_NOT_USE_queryFirstNode(o("focusScopeQueries").tableCellScopeQuery):null;s!==null&&(document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!1,t.focusStaticCells),o("setElementCanTab").setElementCanTab(s,!0,t.focusStaticCells),o("FocusManager").focusElement(s),n!=null&&(n.preventDefault(),o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n)))}}}function h(e,t,n){if(t!=null){var r=t.DO_NOT_USE_queryFirstNode(e);r!==null&&(o("setElementCanTab").setElementCanTab(r,!0),o("FocusManager").focusElement(r),n.preventDefault(),o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n))}}function y(e,t,n,r,o){var a=r[n],i=S(a,o),l=0,s,u,c;do{if(s=t-l,s>=0&&(c=b(a,s,o,e),c)||(u=t+l,u<=i&&(c=b(a,u,o,e),c)))return c;l++}while(s>=0&&u<=i);return null}function C(e,t,n,r,o,a,i,l){var s=t.onNavigate;if(s){var u=!1,c=I(o,r,l),d=c[1],m=D(t,r,i),p=m[0],_=m[1];if(p===null)return!1;var f={currentCellIndex:d,currentRowIndex:_,event:n,focusCell:function(t,r){g(r||a,t,n)},getCell:function(t,n){var e=p[t];return e!=null?b(e,n,l):null},getCellByTag:function(t){var e=y(t,d,_,p,l);if(e)return e;for(var n=p.length,r=_+1;;){if(r===_)return null;if(r>n-1){r=0;continue}if(e=y(t,d,r,p,l),e)return e;r++}return null},preventDefault:function(){u=!0},type:e};if(s(f),u)return!0}return!1}function b(e,t,n,r){for(var o=e.getChildContextValues(n).filter(function(e){return e!=null&&(r===void 0||e.tag===r)}),a=0,i=0;i<o.length;i++){var l=o[i];if(l&&(a+=l&&l.colSpan||1,a>t))return l}return null}function v(e,t,n,r,o){var a=b(t,n,r);if(a!==null){g(e,a,o);return}var i=t.getChildContextValues(r).filter(Boolean);i.length>0&&g(e,i[i.length-1],o)}function S(e,t){for(var n,r=(n=e.getChildContextValues(t).filter(Boolean))!=null?n:[],o=0,a=0;a<r.length;a++){var i,l=r[a],s=l&&((i=l.colSpan)!=null?i:1);o+=s}return o}function R(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r],a=b(o,e,n);if(a!==null)return r+1}return 0}function L(e,t,n){for(var r=0;r<e.length;r++){var o=e[r],a=b(o,t,n);if(a!==null)return r}return-1}function E(e,t){for(var n=0,r=0;r<e.length;r++){var o=e[r];if(o!==null){if(o.scopeRef.current===t)return[r,r+n];var a=o.colSpan;typeof a=="number"&&(n+=a-1)}}return[-1,-1]}function k(e,t){return e.getChildContextValues(t).filter(Boolean)}function I(e,t,n){var r=k(t,n);if(r.length>0){var o=E(r,e),a=o[0],i=o[1];return[r,a,i]}return[null,-1,-1]}function T(e,t,n){if(e){var r=e.scopeRef.current;if(r!==null){for(var o=r.getChildContextValues(t),a=[],i=0;i<o.length;i++){var l=o[i];if(l){var s,u,c=(s=l.scopeRef)==null?void 0:s.current,d=(u=n==null?void 0:n(l))!=null?u:!0;c&&d&&a.push(c)}}return a}}return null}function D(e,t,n,r){var o=T(e,n,r);if(t&&o&&o.length>0){var a=o.indexOf(t);return[o,a]}return[null,-1]}function x(e){var t=e.altKey,n=e.ctrlKey,r=e.metaKey,o=e.shiftKey;return t===!0||n===!0||r===!0||o===!0}l.isPrintableCharacter=e,l.hasUnassociatedLeafNodes=u,l.isArrowKeyLessOperationElement=p,l.getCellSingleInteractiveContentNode=f,l.focusCell=g,l.focusRow=h,l.checkRowForMatch=y,l.handleOnNavigateBehavior=C,l.getCellByColumnIndex=b,l.focusCellByColumnIndex=v,l.getTotalSpan=S,l.getLastRowNumInColumn=R,l.getFirstRowIndexInColumn=L,l.getCellIndexes=E,l.getRowCells=k,l.getRowCellsWithIndexes=I,l.getRows=T,l.getRowsWithIndex=D,l.hasModifierKey=x}),98);
__d("FocusTable.react",["FocusManager","FocusTableUtils","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useRef,p=5;function _(e){var t=s.unstable_Scope,n=s.createContext(null),r=s.createContext(null),a=s.createContext(null);function l(r){var a=r.children,i=r.wrapX,l=r.wrapY,u=r.wrapXToNextLine,c=r.wrapYToNextColumn,f=c===void 0?!1:c,g=r.tabScopeQuery,h=r.allowModifiers,y=r.pageJumpSize,C=y===void 0?p:y,b=r.onNavigate,v=r.disabled,S=r.withinCellTabScopeQuery,R=r.focusStaticCells,L=R===void 0?!1:R,E=m(null),k=d(function(){return{scopeRef:E,wrapXToNextLine:u,wrapYToNextColumn:f,wrapX:i,wrapY:l,tabScopeQuery:g,allowModifiers:h,pageJumpSize:C,onNavigate:b,disabled:v,withinCellTabScopeQuery:S,focusStaticCells:L}},[u,f,i,l,g,h,C,b,v,S,L]),I=m(!1),T=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(E,d(function(){return{onFocusWithin:function(n){I.current||(I.current=!0,E.current&&e&&(_(E.current,e,!1),o("setElementCanTab").setElementCanTab(n.target,!0,L)))}}},[I,L]));return s.jsx(n.Provider,{value:k,children:s.jsx(t,{ref:T,children:a})})}l.displayName=l.name+" [from "+i.id+"]";function u(e){var n=e.children,o=m(null),a=d(function(){return{scopeRef:o}},[]);return s.jsx(r.Provider,{value:a,children:s.jsx(t,{ref:o,children:n})})}u.displayName=u.name+" [from "+i.id+"]";function _(e,t,n){var r=e.DO_NOT_USE_queryAllNodes(t);if(r!=null)for(var a=0;a<r.length;a++){var i=r[a];o("setElementCanTab").setElementCanTab(i,n)}}function g(i){var l,u=i.children,p=i.colSpan,g=i.tag,h=c(n),y=(l=c(r))==null?void 0:l.scopeRef,C=m(null),b=m(!1),v=(h==null?void 0:h.withinCellTabScopeQuery)!=null,S=h==null?void 0:h.focusStaticCells;o("ReactKeyboardEvent.react").useKeyboard(C,d(function(){return{onKeyDown:function(n){if(!(h&&h.disabled===!0)&&!o("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(n)){var t=C.current;if(!(t===null||h===null)&&y!=null){var i=y.current;if(i!==null){var l=n.key,s=v&&o("FocusTableUtils").getCellSingleInteractiveContentNode(t,v)==null,u=b.current;if(l==="Tab"&&h){var c=h.tabScopeQuery,d=h.scopeRef.current;if(c&&d){if(o("FocusTableUtils").handleOnNavigateBehavior("TAB",h,n,i,t,c,r,a))return;var m=h.withinCellTabScopeQuery;u&&m!=null?n.shiftKey?o("FocusManager").focusPreviousContained(m,t,n,!0):o("FocusManager").focusNextContained(m,t,n,!0):(_(d,c,!1),document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!0,S))}return}var p=n.ctrlKey||n.metaKey,g=l;switch(o("Locale").isRTL()&&(l==="ArrowRight"?g="ArrowLeft":l==="ArrowLeft"&&(g="ArrowRight")),g){case"Home":{if(o("FocusTableUtils").handleOnNavigateBehavior("HOME",h,n,i,t,e,r,a)||u)return;var R=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),L=R[0],E=R[1],k=o("FocusTableUtils").getRowsWithIndex(h,i,r),I=k[0],T=k[1];if(L!==null&&I!==null){if(p){if(T!==0||E!==0){var D=I[0];o("FocusTableUtils").focusCellByColumnIndex(e,D,0,a,n)}}else if(E!==0){var x=I[T];o("FocusTableUtils").focusCellByColumnIndex(e,x,0,a,n)}}return}case"End":{if(o("FocusTableUtils").handleOnNavigateBehavior("END",h,n,i,t,e,r,a)||u)return;var $=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),P=$[0],N=$[1],M=o("FocusTableUtils").getRowsWithIndex(h,i,r),w=M[0],A=M[1];if(P!==null&&w!==null)if(p){if(A!==w.length-1||N!==P.length-1){var F=w[w.length-1],O=F.getChildContextValues(a).filter(Boolean);O.length>0&&o("FocusTableUtils").focusCell(e,O[O.length-1],n)}}else N!==P[P.length-1]&&o("FocusTableUtils").focusCell(e,P[P.length-1],n);return}case"ArrowUp":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("PREV_ROW",h,n,i,t,e,r,a)||u)return;var B=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),W=B[0],q=B[1],U=B[2];if(W!==null&&h){var V=o("FocusTableUtils").getRowsWithIndex(h,i,r),H=V[0],G=V[1];if(H!==null)if(G===0){var z=h.wrapY,j=h.wrapYToNextColumn;if(z===!0&&!p){var K=H[H.length-1];o("FocusTableUtils").focusCellByColumnIndex(e,K,U,a,n)}else if(j===!0&&!p&&q>0){var Q=U-1,X=o("FocusTableUtils").getLastRowNumInColumn(Q,H,a),Y=H[X-1];o("FocusTableUtils").focusCellByColumnIndex(e,Y,Q,a,n)}}else if(p){var J=H[0];o("FocusTableUtils").focusCellByColumnIndex(e,J,U,a,n)}else{var Z=H[G-1];o("FocusTableUtils").focusCellByColumnIndex(e,Z,U,a,n)}}return}case"PageUp":{if(o("FocusTableUtils").handleOnNavigateBehavior("PAGE_UP",h,n,i,t,e,r,a)||u)return;var ee=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),te=ee[0],ne=ee[2],re=o("FocusTableUtils").getRowsWithIndex(h,i,r),oe=re[0],ae=re[1];if(te!==null&&oe!==null&&h&&ae!==0){var ie=h.pageJumpSize,le=oe[Math.max(0,ae-ie)];o("FocusTableUtils").focusCellByColumnIndex(e,le,ne,a,n)}return}case"ArrowDown":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("NEXT_ROW",h,n,i,t,e,r,a)||u)return;var se=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),ue=se[0],ce=se[2],de=o("FocusTableUtils").getRowsWithIndex(h,i,r),me=de[0],pe=de[1];if(ue!==null&&me!==null&&h&&pe!==-1)if(pe===me.length-1){var _e=h.wrapY,fe=h.wrapYToNextColumn;if(_e===!0&&!p){var ge=me[0];o("FocusTableUtils").focusCellByColumnIndex(e,ge,ce,a,n)}else if(fe===!0&&!p){var he=ce+1,ye=o("FocusTableUtils").getFirstRowIndexInColumn(me,he,a);if(ye!==-1){var Ce=me[ye];o("FocusTableUtils").focusCellByColumnIndex(e,Ce,he,a,n)}}}else if(p){var be=me[me.length-1];o("FocusTableUtils").focusCellByColumnIndex(e,be,ce,a,n)}else{var ve=me[pe+1];o("FocusTableUtils").focusCellByColumnIndex(e,ve,ce,a,n)}return}case"PageDown":{if(o("FocusTableUtils").handleOnNavigateBehavior("PAGE_DOWN",h,n,i,t,e,r,a)||u)return;var Se=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),Re=Se[0],Le=Se[2],Ee=o("FocusTableUtils").getRowsWithIndex(h,i,r),ke=Ee[0],Ie=Ee[1];if(Re!==null&&ke!==null&&h&&Ie!==ke.length-1){var Te=h.pageJumpSize,De=ke[Math.min(ke.length-1,Ie+Te)];o("FocusTableUtils").focusCellByColumnIndex(e,De,Le,a,n)}return}case"ArrowLeft":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("PREV_CELL",h,n,i,t,e,r,a)||u)return;var xe=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),$e=xe[0],Pe=xe[1],Ne=o("FocusTableUtils").getRowsWithIndex(h,i,r),Me=Ne[0],we=Ne[1];if($e!==null&&Me!==null&&h){if(Pe>0)o("FocusTableUtils").focusCell(e,$e[Pe-1],n);else if(Pe===0){var Ae=h.wrapX,Fe=h.wrapXToNextLine;Ae===!0?o("FocusTableUtils").focusCell(e,$e[$e.length-1],n):Fe===!0&&Me[we-1]&&o("FocusTableUtils").focusCellByColumnIndex(e,Me[we-1],o("FocusTableUtils").getTotalSpan(Me[we-1],a),a,n)}}return}case"ArrowRight":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("NEXT_CELL",h,n,i,t,e,r,a)||u)return;var Oe=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),Be=Oe[0],We=Oe[1],qe=o("FocusTableUtils").getRowsWithIndex(h,i,r),Ue=qe[0],Ve=qe[1];if(Be!==null&&Ue!==null&&h&&We!==-1)if(We===Be.length-1){var He=h.wrapX,Ge=h.wrapXToNextLine;He===!0?o("FocusTableUtils").focusCell(e,Be[0],n):Ge===!0&&Ue[Ve+1]&&o("FocusTableUtils").focusCellByColumnIndex(e,Ue[Ve+1],0,a,n)}else o("FocusTableUtils").focusCell(e,Be[We+1],n);return}case"Enter":{if(!s||u||o("FocusTableUtils").handleOnNavigateBehavior("ENTER",h,n,i,t,e,r,a))return;var ze=h==null?void 0:h.withinCellTabScopeQuery;if(ze){var je=t.DO_NOT_USE_queryFirstNode(ze);je!=null&&(b.current=!0,_(t,ze,!0),o("FocusManager").focusElement(je))}return}case"Escape":{if(!s||!u||o("FocusTableUtils").handleOnNavigateBehavior("ESC",h,n,i,t,e,r,a))return;var Ke=h==null?void 0:h.tabScopeQuery;if(Ke){b.current=!1;var Qe=t.DO_NOT_USE_queryAllNodes(Ke);if(Qe!==null)for(var Xe=0;Xe<Qe.length;Xe++){var Ye=Qe[Xe];o("setElementCanTab").setElementCanTab(Ye,!1,S)}o("FocusTableUtils").focusCell(Ke,{scopeRef:C},n)}return}default:o("FocusTableUtils").isPrintableCharacter(l)&&o("FocusTableUtils").handleOnNavigateBehavior("PRINT_CHAR",h,n,i,t,e,r,a)}}}}}}},[y,h,v]));var R=d(function(){return{scopeRef:C,colSpan:p,tag:g,allowWithinCellNavigation:v,focusStaticCells:S}},[p,v,g,S]),L=h==null?void 0:h.tabScopeQuery,E=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(C,d(function(){return{onFocusWithin:function(n){if(e!=null){var t,r=(t=C.current)==null?void 0:t.DO_NOT_USE_queryFirstNode(e),a=n.target===r;if(a&&r&&!o("setElementCanTab").canElementTab(r)){var i=h==null?void 0:h.scopeRef.current;i&&_(i,e,!1),o("setElementCanTab").setElementCanTab(r,!0,S)}}if(L!=null){var l,s=(l=C.current)==null?void 0:l.DO_NOT_USE_queryFirstNode(L),u=n.target===s,c=R.allowWithinCellNavigation===!0;u&&c&&o("FocusTableUtils").focusCell(L,R),s!=null&&!u&&c&&n.target instanceof HTMLElement&&!o("FocusTableUtils").isArrowKeyLessOperationElement(n.target)&&(b.current=!0)}},onBlurWithin:function(){b.current=!1}}},[L,R,h==null?void 0:h.scopeRef]));return s.jsx(a.Provider,{value:R,children:s.jsx(t,{ref:E,children:u})})}return g.displayName=g.name+" [from "+i.id+"]",[l,u,g]}function f(e,t){if(o("FocusTableUtils").hasModifierKey(e)&&t){var n=t.allowModifiers;if(n!==!0)return!0}}l.createFocusTable=_}),98);
__d("BaseGridFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(t,n,r,o,a,i,l){"use strict";var e=o("FocusTable.react").createFocusTable(o("focusScopeQueries").focusableScopeQuery),s=e[0],u=e[1],c=e[2];l.BaseGridFocusTable=s,l.BaseGridFocusRow=u,l.BaseGridFocusCell=c}),98);
__d("BaseGrid.react",["BaseGridFocusTable.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e["aria-describedby"],r=e["aria-multiselectable"],a=e.children,i=e.wrapNavigation,l=e.xstyle,u=e["aria-label"],d=e["aria-labelledby"],m=i===void 0?"none":i,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=["row","both"],t[0]=p):p=t[0];var _=p.includes(m),f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=["column","both"],t[1]=f):f=t[1];var g=f.includes(m),h;t[2]!==n||t[3]!==u||t[4]!==d||t[5]!==r||t[6]!==a||t[7]!==l?(h=s.jsx(o("react-strict-dom").html.div,{"aria-describedby":n,"aria-label":u,"aria-labelledby":d,"aria-multiselectable":r,role:"grid",style:l,children:a}),t[2]=n,t[3]=u,t[4]=d,t[5]=r,t[6]=a,t[7]=l,t[8]=h):h=t[8];var y;return t[9]!==_||t[10]!==g||t[11]!==h?(y=s.jsx(o("BaseGridFocusTable.react").BaseGridFocusTable,{tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,withinCellTabScopeQuery:c,wrapXToNextLine:_,wrapYToNextColumn:g,children:h}),t[9]=_,t[10]=g,t[11]=h,t[12]=y):y=t[12],y}var c=function(t,n){return n.role==="gridcell"||n.role==="row"?!1:o("focusScopeQueries").tabbableScopeQuery(t,n)};l.default=u}),98);
__d("BaseGridCell.react",["BaseGridFocusTable.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-selected","children","data-type","ref","testid","xstyle"],s,u,c=u||(u=o("react")),d={focusRing:{boxShadow:"x59fq91",outline:"x1a2a7pz x1uvtmcs x1i4ix8p",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(18),a,i,l,u,m,p,_;n[0]!==t?(i=t["aria-selected"],l=t.children,u=t["data-type"],m=t.ref,p=t.testid,_=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=m,n[6]=p,n[7]=_):(a=n[1],i=n[2],l=n[3],u=n[4],m=n[5],p=n[6],_=n[7]);var f;n[8]!==_?(f=(s||(s=r("stylex"))).props(_,d.focusRing),n[8]=_,n[9]=f):f=n[9];var g;return n[10]!==a||n[11]!==i||n[12]!==l||n[13]!==u||n[14]!==m||n[15]!==f||n[16]!==p?(g=c.jsx(o("BaseGridFocusTable.react").BaseGridFocusCell,{children:c.jsx("div",babelHelpers.extends({},a,{"aria-selected":i,"data-testid":void 0,"data-type":u,ref:m,role:"gridcell"},f,{tabIndex:0,children:l}))}),n[10]=a,n[11]=i,n[12]=l,n[13]=u,n[14]=m,n[15]=f,n[16]=p,n[17]=g):g=n[17],g}l.default=m}),98);
__d("BaseGridRow.react",["BaseGridFocusTable.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.xstyle,a;return t[0]!==n||t[1]!==r?(a=s.jsx(o("BaseGridFocusTable.react").BaseGridFocusRow,{children:s.jsx(o("react-strict-dom").html.div,{role:"row",style:r,children:n})}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.default=u}),98);
__d("BaseGridRowScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["addonEnd","addonStart","children","ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(12),a,i,l,s,c;n[0]!==t?(a=t.addonEnd,i=t.addonStart,l=t.children,s=t.ref,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d;return n[6]!==a||n[7]!==i||n[8]!==l||n[9]!==s||n[10]!==c?(d=u.jsxs(r("BaseScrollableArea.react"),babelHelpers.extends({},c,{ref:s,children:[i,l,a]})),n[6]=a,n[7]=i,n[8]=l,n[9]=s,n[10]=c,n[11]=d):d=n[11],d}l.default=c}),98);
__d("BaseHScrollContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({role:void 0,spacing:void 0});l.default=u}),98);
__d("BaseHScrollChild",["BaseGridCell.react","BaseHScrollContext","FocusInertRegion.react","Locale","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-hidden","children","expanding","role","testid","type","xstyle"],s,u,c=u||(u=o("react")),d=u.useContext,m={flexBasis:"x1mz2wy7",$$css:!0},p={":last-of-type_marginInlineEnd":"x10xlvfm",$$css:!0},_={card:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",minWidth:"xeuugli",scrollSnapAlign:"x1bhewko",$$css:!0},cardExpanding:{display:"x78zum5",$$css:!0},cardRTL:{scrollSnapAlign:"x83psoy",$$css:!0},flexBasis:function(t){return[{flexBasis:t!=null?"x1mz2wy7":t,$$css:!0},{"--x-flexBasis":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},flexBasisDoubleWidth:function(t,n){return[m,{"--x-flexBasis":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})("calc(("+t+") * 2 + "+n+"px)")}]},gap:function(t){return[p,{marginInlineEnd:t!=null?"x1c9tiao":t,$$css:!0},{"--x-marginInlineEnd":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}},f=o("Locale").isRTL();function g(t){var n=o("react-compiler-runtime").c(21),a,i,l,u,m,p,g,h;n[0]!==t?(u=t["aria-hidden"],i=t.children,m=t.expanding,l=t.role,g=t.testid,p=t.type,h=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=m,n[6]=p,n[7]=g,n[8]=h):(a=n[1],i=n[2],l=n[3],u=n[4],m=n[5],p=n[6],g=n[7],h=n[8]);var y=u===void 0?!1:u,C=m===void 0?!1:m,b=p===void 0?"default":p,v=d(r("BaseHScrollContext")),S=v.role,R=v.spacing;if(R==null)return null;var L=R.gap,E=R.width,k;if(n[9]!==a||n[10]!==i||n[11]!==C||n[12]!==L||n[13]!==y||n[14]!==S||n[15]!==l||n[16]!==g||n[17]!==b||n[18]!==E||n[19]!==h){var I;e:switch(b){case"custom":{I=void 0;break e}case"doubleWidth":{I=_.flexBasisDoubleWidth(E,L);break e}default:I=_.flexBasis(E)}var T=[_.card,f&&_.cardRTL,_.gap(L),C&&_.cardExpanding,h,I];k=S==="grid"?c.jsx(r("BaseGridCell.react"),babelHelpers.extends({},a,{"data-type":"hscroll-child",testid:void 0,xstyle:T,children:i})):c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(T),{"data-testid":void 0,"data-type":"hscroll-child",role:S==="list"?"listitem":l,children:c.jsx(r("FocusInertRegion.react"),{disabled:!y,children:i})})),n[9]=a,n[10]=i,n[11]=C,n[12]=L,n[13]=y,n[14]=S,n[15]=l,n[16]=g,n[17]=b,n[18]=E,n[19]=h,n[20]=k}else k=n[20];return k}l.default=g}),98);
__d("BaseHScrollConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1600,l=10;i.MAX_CONTAINER_WIDTH=e,i.WIGGLE_ROOM=l}),66);
__d("BaseHScrollPeek.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.maxContentWindowWidth,r=e.padding,a=e.width,i;return t[0]!==n||t[1]!==r||t[2]!==a?(i=n!=null&&r==null?s.jsx("span",{style:{flexShrink:0,minWidth:a,width:"calc((100% - "+n+"px) / 2)"}}):s.jsx("span",{style:{minWidth:r!=null?r:a}}),t[0]=n,t[1]=r,t[2]=a,t[3]=i):i=t[3],i}l.default=u}),98);
__d("BaseHScrollScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["addonEnd","addonStart"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a,i,l;n[0]!==t?(a=t.addonEnd,i=t.addonStart,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s;return n[4]!==a||n[5]!==i||n[6]!==l?(s=u.jsxs(r("BaseScrollableArea.react"),babelHelpers.extends({},l,{children:[i,l.children,a]})),n[4]=a,n[5]=i,n[6]=l,n[7]=s):s=n[7],s}l.default=c}),98);
__d("compactMap",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){for(var n=e.length,r=[],o=0,a=0;a<n;++a){var i=t(e[a],a);i!=null&&(r[o++]=i)}return r}i.default=e}),66);
__d("getBaseHScrollAccessibilityAlert",["fbt","compactMap","intlList"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t,n,o,a){var i=r("compactMap")(n,function(n,r){var i=n.getBoundingClientRect(),l=Math.round(i.left+i.width-e+a-o)<=0,s=Math.round(i.left-e-t.clientWidth-a-o)>=0;return!l&&!s?(r+1).toString():null});return s._(/*BTDS*/"Item {number} of {total}",[s._param("number",r("intlList")(i)),s._param("total",n.length)])}l.default=e}),226);
__d("setBaseHscrollChildrenAriaHidden",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=Array.from(e.children[0].children).filter(function(e){return e.tagName==="DIV"}),n=e.getBoundingClientRect();t.forEach(function(e){var t=e.getBoundingClientRect();if(n!=null){var r=t.right<n.left,o=t.left>n.right;(o||r)&&e.getAttribute("aria-hidden")!=="true"&&e.setAttribute("aria-hidden","true"),!o&&!r&&e.getAttribute("aria-hidden")==="true"&&e.removeAttribute("aria-hidden")}})}i.default=e}),66);
__d("smoothScrollTo",["ExecutionEnvironment","UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("UserAgent").isBrowser("Firefox"),u=(e||(e=r("ExecutionEnvironment"))).canUseDOM&&window.matchMedia("(prefers-reduced-motion: reduce)"),c=u&&u.matches,d=(e||(e=r("ExecutionEnvironment"))).canUseDOM&&document.documentElement!=null&&"scrollBehavior"in document.documentElement.style,m=new WeakMap;function p(e,t,n){var r=t.left,o=r===void 0?0:r,a=t.top,i=a===void 0?0:a;s&&!m.get(e)&&o!==0&&(e.scrollLeft+=o/Math.abs(o),m.set(e,!0)),d?(e.scrollTo({behavior:c?"auto":"smooth",left:o,top:i}),n!=null&&"onscrollend"in window&&e.addEventListener("scrollend",n,{once:!0})):(e.scrollTo(o,i),n==null||n())}l.default=p}),98);
__d("useContainerBreakpoints",["$InternalEnum","gkx","react","react-compiler-runtime","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState,d=n("$InternalEnum")({BiggerContainerSmallerChild:0,BiggerContainerBiggerChild:1});function m(e,t){var n=e[0],r=n.maxContainerWidth,o=n.width,a=babelHelpers.arrayLikeToArray(e).slice(1);if(r===1/0||a.length===0)return o;switch(t){case d.BiggerContainerSmallerChild:{var i="calc(("+r+"px - 100%) * 9999)",l=m(a,t);return typeof l=="number"&&(l="min("+l+"px, (100% - "+(r+.1)+"px) * 9999)"),"max("+l+", min("+o+", "+i+"))"}case d.BiggerContainerBiggerChild:{var s="calc((100% - "+r+"px) * 9999)",u=m(a,t);return"min("+u+", max("+o+", "+s+"))"}}}function p(e,t){var n=o("react-compiler-runtime").c(5),a=c(null),i=a[0],l=a[1],s;n[0]!==e?(s=function(n){var t=n.width,r;for(var o of e)if(!(t>o.maxContainerWidth)){r=o.width;break}l(r)},n[0]=e,n[1]=s):s=n[1];var u=s,d=r("useResizeObserver")(u),m;return n[2]!==i||n[3]!==d?(m=[d,i],n[2]=i,n[3]=d,n[4]=m):m=n[4],m}function _(e,t){var n=o("react-compiler-runtime").c(5),r;n[0]!==e||n[1]!==t?(r=m(e,t),n[0]=e,n[1]=t,n[2]=r):r=n[2];var a=r,i;return n[3]!==a?(i=[void 0,a],n[3]=a,n[4]=i):i=n[4],i}var f=r("gkx")("24318")?_:p;l.BreakpointRelationship=d,l.useContainerBreakpoints=f}),98);
__d("BaseHScroll.react",["BaseGrid.react","BaseGridRow.react","BaseGridRowScrollableArea.react","BaseHScrollChild","BaseHScrollConstants","BaseHScrollContext","BaseHScrollPeek.react","BaseHScrollScrollableArea.react","BaseView.react","HiddenSubtreePassiveContext","Locale","UserAgent","emptyFunction","getBaseHScrollAccessibilityAlert","react","setBaseHscrollChildrenAriaHidden","smoothScrollTo","stylex","useBaseHScrollFakeCards","useContainerBreakpoints","useEventHandler","useMergeRefs","useTriggerAccessibilityAlert","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e=["accessibilityLabel","buttonWrapperStyle","cardWidth","containerXStyle","outerContainerXStyle","scrollViewXStyle","scrollContainerXStyle","disableScrolling","gap","hideArrows","initialScrollToIndex","initialScrollSmoothing","isButtonInward","maxContentWindowWidth","nextButton","peekWidth","prevButton","onPressNext","onPressPrev","peek","peekPaddingStart","peekPaddingEnd","scrollRef","testid","role"],s,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f=m.useLayoutEffect,g=m.useMemo,h=m.useRef,y=m.useState,C=o("Locale").isRTL(),b=r("UserAgent").isBrowser("Safari < 14")||r("UserAgent").isBrowser("Mobile Safari < 14"),v=r("UserAgent").isBrowser("Chrome"),S=r("UserAgent").isBrowser("IE")||r("UserAgent").isBrowser("Edge"),R=C&&b;function L(t){var n,a=t.accessibilityLabel,i=t.buttonWrapperStyle,l=t.cardWidth,c=t.containerXStyle,m=c===void 0?T.containerPaddingDefault:c,b=t.outerContainerXStyle,v=t.scrollViewXStyle,L=t.scrollContainerXStyle,E=t.disableScrolling,I=E===void 0?!1:E,D=t.gap,x=D===void 0?0:D,$=t.hideArrows,P=$===void 0?!1:$,N=t.initialScrollToIndex,M=t.initialScrollSmoothing,w=M===void 0?!1:M,A=t.isButtonInward,F=A===void 0?!1:A,O=t.maxContentWindowWidth,B=t.nextButton,W=t.peekWidth,q=t.prevButton,U=t.onPressNext,V=U===void 0?r("emptyFunction"):U,H=t.onPressPrev,G=H===void 0?r("emptyFunction"):H,z=t.peek,j=z===void 0?!1:z,K=t.peekPaddingStart,Q=t.peekPaddingEnd,X=t.scrollRef,Y=t.testid,J=t.role,Z=babelHelpers.objectWithoutPropertiesLoose(t,e),ee=O!=null&&j&&Q!=null&&K!=null,te=l.type==="responsive"?l.minWidth:l.width,ne=g(function(){var e=[];if(l.type==="fixed")e.push({maxContainerWidth:1/0,width:te+"px"});else if(j&&O!=null){for(var t=W*2,n=2*te+x+t,r=1;n<O+t;){var a=r<=1||x===0?0:(r-1)*x,i=a+t,s=i===0?"100%":"(100% - "+i+"px)";e.push({maxContainerWidth:n,width:"calc("+s+" / "+r+")"}),n+=x+te,r++}var u=r<=1||x===0?0:(r-1)*x,c=u+t,d=c===0?"100%":"(100% - "+c+"px)";e.push({maxContainerWidth:O+t,width:"calc("+d+" / "+r+")"}),e.push({maxContainerWidth:1/0,width:(O-u)/r})}else{for(var m=j?W*2:0,p=2*te+x+m,_=1;p<o("BaseHScrollConstants").MAX_CONTAINER_WIDTH;){var f=_<=1||x===0?0:(_-1)*x,g=f+m,h=g===0?"100%":"(100% - "+g+"px)";e.push({maxContainerWidth:p,width:"calc("+h+" / "+_+")"}),p+=x+te,_++}var y=_<=1||x===0?0:(_-1)*x,C=y+m,b=C===0?"100%":"(100% - "+C+"px)";e.push({maxContainerWidth:1/0,width:"calc("+b+" / "+_+")"})}return e},[l.type,j,O,te,W,x]),re=r("useTriggerAccessibilityAlert")(),oe=o("useContainerBreakpoints").useContainerBreakpoints(ne,o("useContainerBreakpoints").BreakpointRelationship.BiggerContainerSmallerChild),ae=oe[0],ie=oe[1],le=g(function(){return j&&O!=null?[{maxContainerWidth:O+W*2,width:W},{maxContainerWidth:1/0,width:"calc((100% - "+O+"px) / 2)"}]:j?[{maxContainerWidth:1/0,width:W}]:[{maxContainerWidth:1/0,width:0}]},[O,j,W]),se=o("useContainerBreakpoints").useContainerBreakpoints(le,o("useContainerBreakpoints").BreakpointRelationship.BiggerContainerBiggerChild),ue=se[0],ce=se[1],de=O!=null&&typeof ce=="string"&&ce.includes("min(")?"max("+W+"px, (100% - "+O+"px) / 2)":ce,me=(s||(s=r("useUnsafeRef_DEPRECATED")))(null),pe=d.Children.count(Z.children),_e=y(Z.isCircular?!1:!C),fe=_e[0],ge=_e[1],he=y(Z.isCircular?!1:C),ye=he[0],Ce=he[1],be=h(!1);f(function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null&&C){var n=t.clientWidth,r=t.scrollLeft,o=t.scrollWidth;r>50&&r>o-n-50&&(be.current=!0)}},[]);var ve=r("useEventHandler")(function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null){var n=t.getBoundingClientRect(),r=n.width,o=t.scrollLeft,a=t.scrollWidth;if(!Z.isCircular)C&&!S?be.current?(ge(o>a-r-x),Ce(o<=x)):(ge(o>=-x),Ce(o<-a+r+x)):(ge(o<=x),Ce(o>a-r-x));else{var i=$e.current(t),l=i.childCards;if(l==null||l[0]==null)return;ke({isRTL:C,isRTLScrollFromMaxScroll:be,scrollRef:me})}}}),Se=r("useBaseHScrollFakeCards")({children:Z.isCircular?Z.children:[],fakeCardXStyle:Z.isCircular?Z.fakeCardXStyle:null,gap:x,isCircular:(n=Z.isCircular)!=null?n:!1,minWidth:te,onResize:function(){var e;ve();var t=(e=me.current)==null?void 0:e.getDOMNode();t!=null&&r("setBaseHscrollChildrenAriaHidden")(t)},peek:j,peekWidth:W}),Re=Se[0],Le=Se[1],Ee=Se[2],ke=Se[3],Ie=r("useMergeRefs")(ae,ue,Ee),Te=_(r("HiddenSubtreePassiveContext"));f(function(){var e=Te.subscribeToChanges(function(e){e.hidden||ve()});return function(){return e.remove()}},[Te,ve]),f(function(){ve()},[pe,ve]);var De=h(x);f(function(){De.current=x},[x]);var xe=p(function(e){var t=e.getBoundingClientRect(),n=O!=null?Math.min(t.width-(j?2*W:0),O):j?t.width-2*W:t.width,r=(t.width-n)/2,o=t.left+r,a=t.right-r,i=Array.from(e.querySelectorAll('[data-type="hscroll-child"]'));return{childCards:i,containerLeft:o,containerRight:a,containerWidth:n}},[O,j,W]),$e=h(xe);f(function(){$e.current=xe},[xe]);var Pe=(Re!=null?Re:[]).length;f(function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null){if(N==null&&Pe===0){r("setBaseHscrollChildrenAriaHidden")(t);return}var n=$e.current(t),o=n.childCards,a=0;if(N!=null)for(var i=0;i<Math.min(N,o.length);i++)a+=o[i].getBoundingClientRect().width+De.current;if(Pe!==0)for(var l=N==null?0:N,s=l;s<Math.min(l+Pe,o.length);s++)a+=o[s].getBoundingClientRect().width+De.current;var u=function(n){w?r("smoothScrollTo")(t,{left:n},function(){r("setBaseHscrollChildrenAriaHidden")(t)}):(t.scrollTo(n,0),r("setBaseHscrollChildrenAriaHidden")(t))};if(C&&!S)if(be.current){var c=t.scrollWidth-t.getBoundingClientRect().width;u(c-a)}else u(-a);else u(a)}},[N,w,Pe]);var Ne=function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null){r("setBaseHscrollChildrenAriaHidden")(t);for(var n=xe(t),a=n.childCards,i=n.containerLeft,l=n.containerRight,s,u=C?0:a.length-1;C?u<a.length:u>=0;C?u++:u--){var c=a[u].getBoundingClientRect();if(c.left<=i-o("BaseHScrollConstants").WIGGLE_ROOM){s=c;break}}if(s!=null){var d=s.right-l;if(d!==0){var m=C&&S?t.scrollLeft-d:t.scrollLeft+d;r("smoothScrollTo")(t,{left:m},function(){r("setBaseHscrollChildrenAriaHidden")(t)}),G(),re(r("getBaseHScrollAccessibilityAlert")(m<0?-t.scrollLeft:d,t,a,i,x))}}}},Me=function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();if(t!=null){r("setBaseHscrollChildrenAriaHidden")(t);for(var n=xe(t),a=n.childCards,i=n.containerLeft,l=n.containerRight,s,u=C?a.length-1:0;C?u>=0:u<a.length;C?u--:u++){var c=a[u].getBoundingClientRect();if(c.right>=l+o("BaseHScrollConstants").WIGGLE_ROOM){s=c;break}}if(s!=null){var d=s.left-i;if(d!==0){var m=C&&S?t.scrollLeft-d:t.scrollLeft+d;r("smoothScrollTo")(t,{left:m},function(){r("setBaseHscrollChildrenAriaHidden")(t)}),V(),re(r("getBaseHScrollAccessibilityAlert")(m+t.clientWidth>t.scrollWidth?t.scrollWidth-t.scrollLeft-t.clientWidth:d,t,a,i,x))}}}},we=function(){var e,t=(e=me.current)==null?void 0:e.getDOMNode();t!=null&&r("setBaseHscrollChildrenAriaHidden")(t)},Ae=g(function(){return{role:J,spacing:ie!=null?{gap:x,width:ie}:null}},[J,ie,x]);k(me,pe);var Fe=j?d.jsx(r("BaseHScrollPeek.react"),{maxContentWindowWidth:O,padding:K,width:W}):void 0,Oe=j?d.jsx(r("BaseHScrollPeek.react"),{maxContentWindowWidth:O,padding:Q,width:W}):void 0,Be=J==="grid",We=r(Be?"BaseGridRowScrollableArea.react":"BaseHScrollScrollableArea.react"),qe=r("useMergeRefs")(me,X),Ue=d.jsx(We,{addonEnd:d.jsxs(d.Fragment,{children:[Le,Oe]}),addonStart:d.jsxs(d.Fragment,{children:[Fe,Re]}),hideScrollbar:!0,horizontal:!0,onScroll:ve,onScrollEnd:we,ref:qe,style:{scrollPadding:de},vertical:!1,xstyle:[T.scrollView,!R&&T.scrollViewSnap,I&&T.scrollViewNoScroll,v],children:Z.children}),Ve;switch(J){case"grid":Ve=void 0;break;case"list":Ve="list";break;default:Ve=a?"region":void 0;break}var He=Ve?a:void 0;return d.jsxs(r("BaseView.react"),{ref:Ie,testid:void 0,xstyle:b,children:[d.jsx("div",{"aria-hidden":P||!!fe,className:(u||(u=r("stylex")))(T.buttonWrapper,(P||!!fe)&&T.hidden,i),style:C?{right:de!=null&&!ee?de:j?W:0,transform:"translate(calc("+(!j&&F?0:50)+"% + "+(j?x/2:0)+"px), -50%)"}:{left:de!=null&&!ee?de:j?W:0,transform:"translate(calc(-"+(!j&&F?0:50)+"% - "+(j?x/2:0)+"px), -50%)"},suppressHydrationWarning:!Z.isCircular,children:q&&q(C?Me:Ne,!!fe)}),d.jsx(r("BaseView.react"),{"aria-label":He,role:Ve,xstyle:[T.scrollContainer,m,L],children:d.jsx(r("BaseHScrollContext").Provider,{value:Ae,children:Be?d.jsx(r("BaseGrid.react"),{"aria-label":a,children:d.jsx(r("BaseGridRow.react"),{children:Ue})}):Ue})}),d.jsx("div",{"aria-hidden":P||!!ye,className:u(T.buttonWrapper,(P||!!ye)&&T.hidden,i),style:C?{left:de!=null&&!ee?de:j?W:0,transform:"translate(calc(-"+(!j&&F?0:50)+"% - "+(j?x/2:0)+"px), -50%)"}:{right:de!=null&&!ee?de:j?W:0,transform:"translate(calc("+(!j&&F?0:50)+"% + "+(j?x/2:0)+"px), -50%)"},suppressHydrationWarning:!Z.isCircular,children:B&&B(C?Ne:Me,!!ye)})]})}L.displayName=L.name+" [from "+i.id+"]";function E(e,t){}var k=E;if(v){var I=function(t,n){var e,o=(s||(s=r("useUnsafeRef_DEPRECATED")))(null);f(function(){var e,n=o.current,r=(e=t.current)==null?void 0:e.getDOMNode();n!=null&&r!=null&&(r.scrollLeft=n)},[n,t]);var a=(e=t.current)==null?void 0:e.getDOMNode();a!=null&&(o.current=a.scrollLeft)};k=I}var T={buttonWrapper:{opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xwji4o3",zIndex:"x1vjfegm",$$css:!0},containerPaddingDefault:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",$$css:!0},scrollContainer:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},scrollView:{boxSizing:"x9f619",marginBottom:"xat24cr",paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",scrollbarWidth:"x1rohswg",$$css:!0},scrollViewNoScroll:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},scrollViewSnap:{scrollSnapType:"xhfbhpw",$$css:!0}};l.HScrollContainer=L,l.HScrollChild=r("BaseHScrollChild")}),98);
__d("useBaseHScrollFakeCards",["BaseHScroll.react","BaseHScrollConstants","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","UserAgent","react","react-compiler-runtime","setBaseHscrollChildrenAriaHidden","useEventHandler","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(23),n=e.children,a=e.fakeCardXStyle,i=e.gap,l=e.isCircular,c=e.minWidth,d=e.onResize,m=e.peek,p=e.peekWidth,_=u(0),f=_[0],g=_[1],h;t[0]!==n.length||t[1]!==i||t[2]!==l||t[3]!==c||t[4]!==d||t[5]!==m||t[6]!==p?(h=function(t,r,a){var e=t.width,s=Math.min(e,o("BaseHScrollConstants").MAX_CONTAINER_WIDTH),u=m?p*2:0;if(l){var _=Math.floor((s-u+i)/(c+i));n.length<_?g(0):g(_)}d()},t[0]=n.length,t[1]=i,t[2]=l,t[3]=c,t[4]=d,t[5]=m,t[6]=p,t[7]=h):h=t[7];var y=r("useEventHandler")(h),C=r("useResizeObserver")(y),b,v;if(t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==f){var S=f!==0?n.slice(-f):[],R=n.slice(0,f);b=l?S.map(function(e,t){return s.createElement(o("BaseHScroll.react").HScrollChild,babelHelpers.extends({},r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props,{"aria-hidden":!0,key:"head-"+t,xstyle:[r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props.xstyle,a]}))}):null,v=l?R.map(function(e,t){return s.createElement(o("BaseHScroll.react").HScrollChild,babelHelpers.extends({},r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props,{"aria-hidden":!0,key:"tail-"+t,xstyle:[r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props.xstyle,a]}))}):null,t[8]=n,t[9]=a,t[10]=l,t[11]=f,t[12]=b,t[13]=v}else b=t[12],v=t[13];var L=v,E;t[14]!==i||t[15]!==m||t[16]!==p?(E=function(t){var e,n=t.isRTL,a=t.isRTLScrollFromMaxScroll,l=t.scrollRef,s=(e=l.current)==null?void 0:e.getDOMNode();if(s!=null){var u=r("UserAgent").isBrowser("IE")||r("UserAgent").isBrowser("Edge"),c=s.offsetWidth,d=s.scrollLeft,_=s.scrollWidth,f=n?-(_-c):_-c,g=function(t){var e=function(t){s.scrollTo==null||s.scrollTo(t,0),"onscrollend"in s&&s.addEventListener("scrollend",function(){r("setBaseHscrollChildrenAriaHidden")(s)},{once:!0})};if(n&&!u)if(a.current){var o=s.scrollWidth-s.getBoundingClientRect().width;e(o-t)}else e(-t);else e(t)},h=m?p*2:0,y=o("BaseHScrollConstants").WIGGLE_ROOM/2;if(d>=0-y&&d<=0+y){var C=_-2*c+h-i;g(C)}if(d>=f-y&&d<=f+y){var b=c-h+i;g(b)}}},t[14]=i,t[15]=m,t[16]=p,t[17]=E):E=t[17];var k=E,I;return t[18]!==b||t[19]!==k||t[20]!==C||t[21]!==L?(I=[b,L,C,k],t[18]=b,t[19]=k,t[20]=C,t[21]=L,t[22]=I):I=t[22],I}l.default=c}),98);
__d("FBNucleusDots3HorizontalOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm9-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=24,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSHScroll.react",["fbt","BaseHScroll.react","ChevronLeftFilled24.svg.react","ChevronRightFilled24.svg.react","CometTrackingNodeProvider.react","FDSCircleButton.react","Locale","SVGIcon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["nextButtonLabel","prevButtonLabel","reduceArrowSize","scrollRef"],u,c=u||(u=o("react")),d=u.useCallback,m=s._(/*BTDS*/"\u10e8\u10d4\u10db\u10d3\u10d4\u10d2\u10d8 \u10dd\u10d1\u10d8\u10d4\u10e5\u10e2\u10d4\u10d1\u10d8"),p=s._(/*BTDS*/"\u10ec\u10d8\u10dc\u10d0 \u10d4\u10e0\u10d7\u10d4\u10e3\u10da\u10d4\u10d1\u10d8"),_=o("Locale").isRTL(),f=44;function g(t){var n=o("react-compiler-runtime").c(17),a,i,l,s,u;n[0]!==t?(l=t.nextButtonLabel,s=t.prevButtonLabel,u=t.reduceArrowSize,i=t.scrollRef,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=u):(a=n[1],i=n[2],l=n[3],s=n[4],u=n[5]);var d=l===void 0?m:l,g=s===void 0?p:s,h=u===void 0?!1:u,y;n[6]!==g||n[7]!==h?(y=function(t,n){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:419,children:c.jsx(r("FDSCircleButton.react"),{"aria-label":g,color_DEPRECATED:"secondary",disabled:n,icon:o("SVGIcon").svgIcon(r(_?"ChevronRightFilled24.svg.react":"ChevronLeftFilled24.svg.react")),onPress:t,size:h?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},n[6]=g,n[7]=h,n[8]=y):y=n[8];var C=y,b;n[9]!==d||n[10]!==h?(b=function(t,n){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:420,children:c.jsx(r("FDSCircleButton.react"),{"aria-label":d,color_DEPRECATED:"secondary",disabled:n,icon:o("SVGIcon").svgIcon(r(_?"ChevronLeftFilled24.svg.react":"ChevronRightFilled24.svg.react")),onPress:t,size:h?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},n[9]=d,n[10]=h,n[11]=b):b=n[11];var v=b,S;return n[12]!==v||n[13]!==C||n[14]!==a||n[15]!==i?(S=c.jsx(o("BaseHScroll.react").HScrollContainer,babelHelpers.extends({},a,{nextButton:v,peekWidth:f,prevButton:C,scrollRef:i})),n[12]=v,n[13]=C,n[14]=a,n[15]=i,n[16]=S):S=n[16],S}l.Container=g,l.Child=o("BaseHScroll.react").HScrollChild}),226);
__d("range",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){for(var r=n==null||n===0?e<t?1:-1:n,o=-1,a=Math.max(Math.ceil((t-e)/r),0),i=Array(a),l=e;a--;)i[++o]=l,l+=r;return i}i.default=e}),66);/*FB_PKG_DELIM*/
__d("E2EEBackupCommon",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ALREADY_REGISTERED","BACKUP_KEY_PAIR_SERIALIZATION_ERROR","CLIENT_PARAMS_ERROR","NETWORK_PROVIDER_ERROR","NOT_REGISTERED","VESTA_CLIENT_ERROR","VESTA_SERVER_ERROR","ISLAND_PUB_RSA_KEY_INVALID","ISLAND_PUB_ED25519_KEY_INVALID","MISSING_PIN_INPUT","GENERAL_ERROR","INVALID_PASSWORD"]),l=(function(e){function t(t,n){var r;return r=e.call(this,n==null?void 0:n.message)||this,r.name="BackupError",r.errorType=t,r.detailedError=n,r.message=t+((n==null?void 0:n.message)!=null?": "+(n==null?void 0:n.message):""),r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.BackupErrorType=e,i.BackupError=l}),66);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("contact_id",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"add_messenger_contact",t.i64.cast([0,308]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSContactAddMessengerContactStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSAddMessengerContact"),a.contactId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,t.sequence([function(n){return r[1]=a.threadSubtype,t.i64.eq(r[1],t.i64.cast([0,75]))?r[0]="interop":r[0]="inbox",t.i64.eq(r[1],t.i64.cast([0,75]))?r[2]=t.i64.cast([-1,4294967277]):r[2]=t.i64.cast([0,0]),t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(n){var o=n.update,i=n.item;return o({folderName:r[0],parentThreadKey:r[2],igFolder:e[1],capabilities:t.i64.and_(a.capabilities,t.i64.cast([-1,4292870143]))})})},function(n){return t.db.table(173).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?0:(n=a.item,r[7]=n.clientThreadPk,t.db.table(276).fetch([[[r[7]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?0:(n=a.item,t.i64.eq(r[2],t.i64.cast([-1,4294967277]))?r[8]=t.i64.cast([0,19]):r[8]=t.i64.cast([0,0]),t.forEach(t.db.table(276).fetch([[[r[7]]]]),function(e){var t=e.update,n=e.item;return t({folderType:r[8]})}))}))})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[3]=t.i64.cast([0,1]):(n=a.item,r[8]=n.syncGroup,t.i64.neq(r[8],void 0)?r[7]=r[8]:r[7]=t.i64.cast([0,1]),r[3]=r[7])})},function(o){return r[5]=new t.Map,r[5].set("thread_key",e[0]),r[5].set("sync_group",r[3]),r[5].set("ig_folder",e[1]),r[6]=t.toJSON(r[5]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"message_request",t.i64.cast([0,66]),r[6],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))}]))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticAcceptMessageRequestStoredProcedure",e.__tables__=["threads","mi_act_mapping_table","client_threads"],a.exports=e}),null);
__d("LSOptimisticAcceptMessageRequestStoredProcedure",["LSOptimisticAcceptMessageRequest","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticAcceptMessageRequest"),a.threadKey,a.igFolder);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWAttachmentBlob.react",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","Promise","PromiseAnnotate","WAHashUtils","WAMediaQplHelper","cr:332","interaction-tracing","performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=new Map,p=new Map;function _(e,t){m.set(e,{TAG:1,value:t})}function f(e){var t=m.get(e);return t!=null&&t.TAG===1}function g(t,a,i,l){var s=l!=null?l:t,u=m.get(s);if(u!=null){if(u.TAG===0)throw u.value;return u.value}i==null||i.addPoint("fetch_data_blob_from_backend_start",{string:{fetch_by:isFinite(t)?"mediaId":"hashedPlaintextHash"}});var p=r("interaction-tracing").InteractionTracingCore.getPendingInteractions(),_=(d||(d=r("performanceNow")))(),f=isFinite(t)?o("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:a,mediaId:o("MAWDbMedia").convertNumberToMediaId(Number.parseInt(t,10)),qplInstanceKey:i==null?void 0:i.getInstanceKey()}).then(function(e){return i==null||i.addPoint("fetch_data_blob_from_backend_success",{string:{blob_size_bucket:e!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket(e.size):void 0,description:a,fetch_by:"mediaId"}}),b(p,_,e!=null?"SUCCESS":"FAIL"),m.set(s,{TAG:1,value:e!=null?URL.createObjectURL(e):""}),i==null||i.addPoint("fetch_data_blob_url_set_in_cache"),(c||(c=n("Promise"))).resolve()}).catch(function(e){return i==null||i.endFail("fetch_data_blob_from_backend_fail",{string:{description:a,error:e.message,fetch_by:"mediaId"}}),b(p,_,"FAIL"),m.set(s,{TAG:1,value:""}),r("FBLogger")("messenger_web_media").catching(e).mustfix("Unable to getBlobUrlByMediaId"),(c||(c=n("Promise"))).resolve()}):o("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:a,plaintextHash:o("WAHashUtils").stringToPlaintextHash(t),qplInstanceKey:i==null?void 0:i.getInstanceKey()}).then(function(e){return i==null||i.addPoint("fetch_data_blob_from_backend_success",{string:{blob_size_bucket:e!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket(e.size):void 0,description:a,fetch_by:"hashedPlaintextHash"}}),b(p,_,e!=null?"SUCCESS":"FAIL"),m.set(s,{TAG:1,value:e!=null?URL.createObjectURL(e):""}),i==null||i.addPoint("fetch_data_blob_url_set_in_cache"),n("cr:332")!=null&&n("cr:332").runBlobReadAndCompareResult({fileName:t,idbBlob:e}),(c||(c=n("Promise"))).resolve()}).catch(function(e){return i==null||i.endFail("fetch_data_blob_from_backend_fail",{string:{description:a,error:e.message,fetch_by:"hashedPlaintextHash"}}),b(p,_,"FAIL"),m.set(s,{TAG:1,value:""}),r("FBLogger")("messenger_web_media").catching(e).mustfix("Unable to getBlobDataUrlByHashedPlaintextHash"),(c||(c=n("Promise"))).resolve()});throw(e||(e=o("PromiseAnnotate"))).setDisplayName(f,"MAWAttachmentBlob.getBlobDataUrl"),m.set(s,{TAG:0,value:f}),f}function h(e,t,n){if(e==null)return r("FBLogger")("messenger_web_media").warn("Unable to getAttachmentBlob because attachment is null, from %s",t),n==null||n.endFail("attachment_is_null",{string:{description:t}}),"";if((s||(s=o("I64"))).equal(e.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))){var a,i=(a=C(e))!=null?a:"";return i==null||i.length===0?(r("FBLogger")("messenger_web_media").warn("Unable to getAttachmentBlob because optimistic attachment url is null or empty, from %s",t),n==null||n.endFail("no_optimistic_attachment_url",{string:{description:t}}),""):(n==null||n.addPoint("return_optimistic",{string:{description:t}}),i)}return g(e.attachmentFbid,t,n)}function y(e,t,n,a,i){var l="fetch_"+t+"_xma_blob",c={string:{description:n}};if(e==null)return a==null||a.endFail(l+"_attachment_is_null",c),"";if((s||(s=o("I64"))).equal(e.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&t==="preview"){var d=C(e);return d==null||d.length===0?(r("FBLogger")("messenger_web_media").mustfix("Unable to getInfoUrlXMA because optimistic attachment url is null or empty, from %s",n),a==null||a.endFail(l+"_no_optimistic_attachment_url",c),""):(a==null||a.addPoint(l+"_return_optimistic",c),d)}var m=i!=null?i:e.attachmentFbid+t,_=p.get(m);if(_!=null){if(_.TAG===0)throw _.value;return _.value}var f;switch(t){case"preview":f=e.xmaPreviewFbid;break;case"header":f=e.xmaHeaderImageFbid;break;case"favicon":f=e.xmaFaviconFbid;break}if(f==null)throw r("FBLogger")("messenger_web_media").mustfixThrow("Failed to getInfoUrlXMA because xma does not have required data. xmaId is %s, info type is %s, from %s",e.attachmentFbid,t,n);return g(f,n,a)}function C(e){return e==null?void 0:e.previewUrl}function b(e,t,n){var o=(d||(d=r("performanceNow")))();e.forEach(function(e){e.addSubspan("MAWFetchAttachmentBlob","AppTiming",t,o,{action:n,full_duration:(o-t)/1e3})})}l.setEagerAttachmentUrl=_,l.isEagerAttachmentUrlDone=f,l.getAttachmentBlobNonOptional_CausesSuspense=g,l.getAttachmentBlob_CausesSuspense=h,l.getInfoUrlXMA_CausesSuspense=y}),98);
__d("MWEBRestoreDialogWrapperQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24825865927022420"}),null);
__d("MWEBRestoreDialogWrapperQuery$Parameters",["MWEBRestoreDialogWrapperQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWEBRestoreDialogWrapperQuery_facebookRelayOperation"),metadata:{},name:"MWEBRestoreDialogWrapperQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MAWEncryptedBackupsRestoreDialog.entrypoint",["JSResourceForInteraction","MWEBRestoreDialogWrapperQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:r("MWEBRestoreDialogWrapperQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("MWEBRestoreDialogWrapper.react").__setRef("MAWEncryptedBackupsRestoreDialog.entrypoint")};l.default=e}),98);
__d("MAWGetAttachmentThumbnailBlob",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","Promise","PromiseAnnotate","WAHashUtils","interaction-tracing","isStringNullOrEmpty","nullthrows","performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=new Map,p=new Map;function _(e,t){m.set(e,{TAG:"done",url:t})}function f(e,t,n,a){var i;if(e==null)return r("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId because attachment is null, from %s",t),n==null||n.endFail("attachment_is_null",{string:{description:t}}),"";if((u||(u=o("I64"))).equal(e.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))){var l,s=h(e);return s==null||s.length===0?(r("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId because optimistic attachment url is null or empty, from %s",t),n==null||n.endFail("no_optimistic_attachment_url",{string:{description:t}}),""):(n==null||n.addPoint("return_optimistic",{string:{description:t}}),p.set((l=e.offlineAttachmentId)!=null?l:e.attachmentFbid,s),s)}var _=a!=null?a:e.attachmentFbid,f=m.get(_),g=p.get((i=e.offlineAttachmentId)!=null?i:e.attachmentFbid);if(f!=null){if(f.TAG==="loading"){if(g!=null)return g;throw f.urlPromise}var b=r("isStringNullOrEmpty")(f.url);return b&&(n==null||n.addPoint("attachment_state_preview_url_is_null_or_empty",{string:{description:t}})),f.url}var v=isFinite(e.attachmentFbid)?C(e.attachmentFbid,t,n,_):y(e.attachmentFbid,t,n,_);if(m.set(_,{TAG:"loading",urlPromise:v}),g!=null)return g;throw(d||(d=o("PromiseAnnotate"))).setDisplayName(v,"MAWGetAttachmentThumbnailBlob.getThumbnailBlobDataUrl"),v}function g(e,t,n,r){var a=r!=null?r:e,i=m.get(a);if(i!=null){if(i.TAG==="loading")throw i.urlPromise;return i.url}var l=isFinite(e)?C(e,t,n,a):y(e,t,n,a);throw m.set(a,{TAG:"loading",urlPromise:l}),(d||(d=o("PromiseAnnotate"))).setDisplayName(l,"MAWGetAttachmentThumbnailBlob.getThumbnailBlobByAttachmentId"),l}function h(e){return e==null?void 0:e.previewUrl}function y(t,a,i,l){i==null||i.addPoint("fetch_thumbnail_blob_from_backend_start",{string:{description:a}});var u=r("interaction-tracing").InteractionTracingCore.getPendingInteractions(),c=(s||(s=r("performanceNow")))(),d=o("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByHashedPlaintextHash",{description:a,plaintextHash:o("WAHashUtils").stringToPlaintextHash(t),qplInstanceKey:i==null?void 0:i.getInstanceKey()}).then(function(t){return b(u,c,t?"SUCCESS":"FAIL"),t?i==null||i.addPoint("fetch_thumbnail_blob_from_backend_success",{string:{description:a}}):(i==null||i.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{description:a,error:"empty-url"}}),r("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId, backend returned empty url, from %s",a)),m.set(l,{TAG:"done",url:r("nullthrows")(t)}),i==null||i.addPoint("fetch_thumbnail_blob_url_set_in_cache"),(e||(e=n("Promise"))).resolve()}).catch(function(t){return i==null||i.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{description:a,error:t.message}}),b(u,c,"FAIL"),m.set(l,{TAG:"done",url:""}),r("FBLogger")("messenger_web_media").catching(t).warn("Unable to getThumbnailBlobDataUrlByHashedPlaintextHash, from %s",a),(e||(e=n("Promise"))).resolve()});return d}function C(t,a,i,l){i==null||i.addPoint("fetch_thumbnail_blob_from_backend_start",{string:{description:a}});var u=r("interaction-tracing").InteractionTracingCore.getPendingInteractions(),c=(s||(s=r("performanceNow")))(),d=o("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByMediaId",{description:a,mediaId:o("MAWDbMedia").convertNumberToMediaId(Number.parseInt(t,10)),qplInstanceKey:i==null?void 0:i.getInstanceKey()}).then(function(t){return b(u,c,t?"SUCCESS":"FAIL"),t?i==null||i.addPoint("fetch_thumbnail_blob_from_backend_success",{string:{description:a}}):(i==null||i.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{description:a,error:"empty-url"}}),r("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId, backend returned empty url, from %s",a)),m.set(l,{TAG:"done",url:r("nullthrows")(t)}),i==null||i.addPoint("fetch_thumbnail_blob_url_set_in_cache"),(e||(e=n("Promise"))).resolve()}).catch(function(t){return i==null||i.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{description:a,error:t.message}}),b(u,c,"FAIL"),m.set(l,{TAG:"done",url:""}),r("FBLogger")("messenger_web_media").catching(t).warn("Unable to getThumbnailBlobDataUrlByMediaId, from %s",a),(e||(e=n("Promise"))).resolve()});return d}function b(e,t,n){var o=(s||(s=r("performanceNow")))();e.forEach(function(e){e.addSubspan("MAWFetchAttachmentThumbnailBlob","AppTiming",t,o,{action:n,full_duration:(o-t)/1e3})})}l.setEagerThumbnailUrl=_,l.getThumbnailBlob_CausesSuspense=f,l.getThumbnailBlobByAttachmentId_CausesSuspense=g}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function s(t,n,r,o){return e.load().then(function(e){var a=e.onActThreadReady;return a(t.tables,n,r,o)})}l.default=s}),98);
__d("MAWWasmFeatureSupport",["Promise","react","react-compiler-runtime","wasm-feature-detect"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useState,m=null;function p(){var t=o("react-compiler-runtime").c(2),r=d(m),a=r[0],i=r[1],l,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=function(){(e||(e=n("Promise"))).all([o("wasm-feature-detect").bulkMemory(),o("wasm-feature-detect").bigInt(),o("wasm-feature-detect").referenceTypes()]).then(function(e){var t=e[0],n=e[1],r=e[2];i({bigInt:n,bulkMemory:t,referenceTypes:r}),m={bigInt:n,bulkMemory:t,referenceTypes:r}})},s=[i],t[0]=l,t[1]=s):(l=t[0],s=t[1]),c(l,s),a}l.useWasmFeatureSupport=p}),98);
__d("MWEBFlowSourceContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({source:null});l.default=u}),98);
__d("MWEBQPAlphaIconSmall.react",["ix","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e=r("gkx")("23433");function u(){var t=s(e?"230229":"398256");return t}l.getMWEBQPAlphaIconSmallProperties=u}),98);
__d("MWEBUpsellDismissedEnum.facebook",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({NOT_DISMISSED:0,UPSELLS_DISMISSED:1,ALL_DISMISSED:2});i.MWEBUpsellDismissedStateEnum=e}),66);
__d("MWEBVirtualDevicesContext.react",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null);function d(){var e=u(c);if(e==null)throw r("FBLogger")("messenger_web_product").mustfixThrow("useEBVirtualDevices must be used inside MWEBVirtualDevicesContext");return e}l.MWEBVirtualDevicesContext=c,l.useMWEBVirtualDevices=d}),98);
__d("MWEncryptedBackupsDeferLocalStorageUpsell",["$InternalEnum","FBLogger","MWEncryptedBackupsSharedState","ReQL","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum").Mirrored(["SOFTBLOCK_JEWEL_AND_CHAT_TAB","QP_JEWEL","QP_WITH_PIN_JEWEL","PERSISTENT_BANNER_JEWEL"]),u=-1,c=720*60*1e3,d=1440*60*1e3,m=4320*60*1e3;function p(e){switch(e){case s.SOFTBLOCK_JEWEL_AND_CHAT_TAB:return{countdownInMS:d,impressionsCountKey:"mw_encrypted_backups_soft_block_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_soft_block_last_impression_time_key",maxImpressionLimit:5};case s.QP_JEWEL:return{countdownInMS:c,impressionsCountKey:"mw_encrypted_backups_qp_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_qp_jewel_last_impression_time_key",maxImpressionLimit:1};case s.QP_WITH_PIN_JEWEL:return{countdownInMS:c,impressionsCountKey:"mw_encrypted_backups_qp_with_pin_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_qp_with_pin_jewel_last_impression_time_key",maxImpressionLimit:1};case s.PERSISTENT_BANNER_JEWEL:return{countdownInMS:m,impressionsCountKey:"mw_encrypted_backups_banner_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_banner_jewel_last_impression_time_key",maxImpressionLimit:1}}}function _(e){var t=e.db,n=e.upsellType,a=p(n),i=a.impressionsCountKey,l=a.lastImpressionTimeKey;r("promiseDone")(o("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:t,stateKey:l,stateValue:Date.now().toString()}).then(async function(){var e,n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.experiences_shared_state)),r=(e=o("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:t,sharedStateTable:n,stateKey:i}))!=null?e:"0";await o("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:t,stateKey:i,stateValue:(+r+1).toString()})}),function(){},function(){var e="[Encrypted Backups] Failed to defer EB upsell "+n;r("FBLogger")("wmi_eb").mustfix(e)})}function f(t){if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var n,a=p(t),i=a.lastImpressionTimeKey;(n=(e||(e=r("WebStorage"))).getLocalStorage())==null||n.removeItem(i)}}function g(e){var t,n=e.db,r=e.sharedStateTable,a=e.upsellType,i=p(a),l=i.impressionsCountKey;return(t=o("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:n,sharedStateTable:r,stateKey:l}))!=null?t:"0"}l.MWEncryptedBackupsDeferableUpsellType=s,l.INFINITE_IMPRESSIONS_LIMIT=u,l.getLocalStorageKeys=p,l.updateUpsellEntry=_,l.deleteEntry=f,l.getUpsellImpressions=g}),98);
__d("MWEncryptedBackupsOnboardingType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["WEB_ONLY_ONBOARDING","NEW_USER_ONBOARDING","AUTO_EB","PIN_UPSELL"]),l=e;i.default=l}),66);
__d("MWEncryptedBackupsRetrieveQplLoggingAnnotations",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","Promise","ReQL","gkx","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("requireDeferred")("MWEBUseLocalStorage").__setRef("MWEncryptedBackupsRetrieveQplLoggingAnnotations"),d=r("gkx")("609");function m(t){var a=t.db,i=t.onFetch,l=t.upsellType;r("promiseDone")((u||(u=n("Promise"))).all([o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(a.tables.experiences_shared_state)),o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state))]),function(t){var n=t[0],u=t[1],m=u[0],p=o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),_=o("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:a,sharedStateTable:n,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY}),f=o("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:a,sharedStateTable:n,stateKey:"auto_restored"});c.onReady(function(t){var u=t.mwEBGetIsLocalStorageEntryValuePresent,c=t.mwEBGetLocalStorageEntryValue,g=c(r("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE),h=u(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION),y=u(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2),C=_!=null,b=l&&o("MWEncryptedBackupsDeferLocalStorageUpsell").getUpsellImpressions({db:a,sharedStateTable:n,upsellType:l}),v=m!=null&&(e||(e=o("I64"))).equal(m.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE));i({ebsmWiped:g!=null?g:"false",firstUpsellTime:p,hasEbKeysLocally:f?"false":v.toString(),hasEBSM:d.toString(),hasPDB:"false",hasUserOnboardedBefore:C.toString(),hasUserRestoredBefore:h.toString(),hasUserRestoredBeforeTemp:y.toString(),impressionsCount:b!=null?b:"0"})})},function(){r("FBLogger")("wmi_eb").mustfix("[Encrypted Backups] Failed to fetch QPL annotations from Shared State")})}l.encryptedBackupsRetrieveQplLoggingAnnotations=m}),98);
__d("MWEncryptedBackupsThreadListQPWrapper.react",["$InternalEnum","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=n("$InternalEnum").Mirrored(["JEWEL","THREAD_LIST","CHAT_TAB"]);function c(e){var t=o("react-compiler-runtime").c(4),n=e.children,r=e.testid,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x1n2onr6 x1vjfegm"},t[0]=a):a=t[0];var i;return t[1]!==n||t[2]!==r?(i=s.jsx("div",babelHelpers.extends({},a,{"data-testid":void 0,children:n})),t[1]=n,t[2]=r,t[3]=i):i=t[3],i}l.MWEncryptedBackupsQPTrigger=u,l.MWEncryptedBackupsThreadListQPWrapper=c}),98);
__d("MWFDSArrowLeft.svg.react",["cr:21539"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21539")}),98);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","react-compiler-runtime","useCometRouterState","useTopMostRouteCometEntityKey"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(3),t=r("useTopMostRouteCometEntityKey")(),n=r("useCometRouterState")(),a;return e[0]!==t||e[1]!==n?(a=r("getGroupThreadViewParams")(t,n),e[0]=t,e[1]=n,e[2]=a):a=e[2],a}l.default=e}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","mwCMIsAnyCMThread","react-compiler-runtime","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="Compose",c="PayFriendPicker",d="PayThread",m="SecureThread",p="Thread",_={Compose:u},f={PayFriendPicker:c,PayThread:d},g={SecureThread:m,Thread:p},h=babelHelpers.extends({},_,f,g),y="Null",C="Payment",b="People",v="Search",S="SearchMessages",R="SeeAllGroups",L="SeeAllPages",E="SeeAllPeople",k="SeeAllUnread",I="TeamworkSeeAllAnnouncementGroups",T="Recent",D="UnsupportedThread",x={Null:y,Payment:C,People:b,Search:v,SearchMessages:S,SeeAllGroups:R,SeeAllPages:L,SeeAllPeople:E,SeeAllUnread:k,TeamworkSeeAllAnnouncementGroups:I},$={Recent:T},P={UnsupportedThread:D},N=babelHelpers.extends({},x,$,P),M={type:N.Null},w="/?$";function A(e){var t=e.match(new RegExp(r("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(t!=null)return decodeURIComponent(t[1])}var F=r("CurrentEnvironment").instagramdotcom?r("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:r("CurrentEnvironment").facebookdotcom?r("MessengerURIConstants").FACEBOOK_PREFIX:"";function O(e){var t=new URL(e.url,window.location.origin),n=t.pathname,a=t.searchParams,i=new RegExp("^"+(F+"(/|$)"));if(r("CurrentEnvironment").facebookdotcom&&!i.test(n))throw r("FBLogger")("messenger_web").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",F);var l=n.replace(i,"/"),u=a==null?void 0:a.get("fbid"),c=a==null?void 0:a.get("id");if(l.match(new RegExp("^"+r("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:N.People};if(l.match(new RegExp("^"+r("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:N.Payment};if(l.match(new RegExp("^"+r("MessengerURIConstants").SEARCH_PATH))!=null)return{type:N.Search};if(l.match(new RegExp("^"+r("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:N.SeeAllGroups};if(l.match(new RegExp("^"+r("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:N.SeeAllPeople};if(l.match(new RegExp("^"+r("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:N.SeeAllUnread};if(l.match(new RegExp("^"+r("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:N.TeamworkSeeAllAnnouncementGroups};if(l==="/read/"&&u!=null)return{type:N.Recent,uriStateDetails:{fbid:(s||(s=o("I64"))).of_string(u),type:h.Thread}};if(l.match(new RegExp("^"+(r("MessengerURIConstants").COMPOSE_SUBPATH+w)))!=null)return{type:N.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:h.Compose}};if(l.match(new RegExp("^"+(r("MessengerURIConstants").PAYMENT_PATH+r("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:N.Recent,uriStateDetails:{fbid:void 0,type:c!=null?h.PayThread:h.PayFriendPicker}};var d=q(A(l));return d!=null?{type:N.Recent,uriStateDetails:{fbid:d,type:h.Thread}}:M}var B=r("gkx")("23433")||r("gkx")("22839");function W(e){return new URL(e,window.location.origin).pathname.split("/")}function q(e){try{return e!=null?(s||(s=o("I64"))).of_string_opt(e):void 0}catch(e){return}}function U(t){var n,a=o("react-compiler-runtime").c(40),l=(e||(e=r("useReStore")))(),u=r("useCurrentRoute")(),c=o("CometRouteURL").useRouteURLPath(),d=r("useGroupThreadViewParams")(),m;a[0]!==t?(m=q(t),a[0]=t,a[1]=m):m=a[1];var p=m,_=o("CometRouteParams").useRouteParams(),f=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(p!=null?p:(s||(s=o("I64"))).min_int)},[l,p],i.id+":317"))==null?void 0:n.threadType,g;a[2]!==f?(g=f!=null?r("mwCMIsAnyCMThread")(f):!1,a[2]=f,a[3]=g):g=a[3];var y=g,C;a[4]!==f?(C=f!=null?o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(f):!1,a[4]=f,a[5]=C):C=a[5];var b=C;if(d!=null){var v;a[6]!==d.threadKey?(v=(s||(s=o("I64"))).of_string(d.threadKey),a[6]=d.threadKey,a[7]=v):v=a[7];var S;return a[8]!==v?(S={type:N.Recent,uriStateDetails:{fbid:v,type:h.Thread}},a[8]=v,a[9]=S):S=a[9],S}if(u==null)return M;if(!c.startsWith(F)&&!c.startsWith(r("MessengerURIConstants").GROUPS_PATH))throw r("FBLogger")("messenger_web").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",c);var R=_.initial_e2ee_toggle_position==="1"||_.initial_e2ee_toggle_position===1||_.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff",L=u.url,E;if(a[10]!==l.tables.threads||a[11]!==R||a[12]!==b||a[13]!==y||a[14]!==u||a[15]!==p||a[16]!==f){E=Symbol.for("react.early_return_sentinel");e:{var k,I=L.substring(F.length),T=(k=o("ConstUriUtils").getUriOrThrow(I))==null?void 0:k.getPath().split("/");if(p!=null){if(T.length===4&&T[0]===""&&T[1]==="e2ee"&&T[2]==="t"&&r("isArmadillo")()){var D;a[18]!==p?(D={type:N.Recent,uriStateDetails:{fbid:p,type:h.SecureThread}},a[18]=p,a[19]=D):D=a[19],E=D;break e}if(f!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(f)){var x;a[20]!==u?(x=O(u),a[20]=u,a[21]=x):x=a[21],E=x;break e}if(y&&!B){E=M;break e}if(b){var $;a[22]!==p?($={fbid:p,type:N.UnsupportedThread},a[22]=p,a[23]=$):$=a[23],E=$;break e}var P;a[24]!==p?(P={type:N.Recent,uriStateDetails:{fbid:p,type:h.Thread}},a[24]=p,a[25]=P):P=a[25],E=P;break e}if(T==null){var w;a[26]!==u?(w=O(u),a[26]=u,a[27]=w):w=a[27],E=w;break e}switch(T.length){case 2:{if(T[1]==="new"){var A;a[28]!==R?(A={type:N.Recent,uriStateDetails:{initialTogglePosition:R,type:h.Compose}},a[28]=R,a[29]=A):A=a[29],E=A;break e}var W;a[30]!==u?(W=O(u),a[30]=u,a[31]=W):W=a[31],E=W;break e}case 3:{if(T[1]!=="t"){var U;a[32]!==u?(U=O(u),a[32]=u,a[33]=U):U=a[33],E=U;break e}if(T[2]===""){var V;a[34]!==u?(V=O(u),a[34]=u,a[35]=V):V=a[35],E=V;break e}var H=q(T[2]),G=H!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(H),i.id+":431"):null;if(H!=null&&G!=null&&!o("LSMessagingThreadTypeUtil").isArmadilloSecure(G==null?void 0:G.threadType)){var z;a[36]!==H?(z={type:N.Recent,uriStateDetails:{fbid:H,type:h.Thread}},a[36]=H,a[37]=z):z=a[37],E=z;break e}E=M;break e}case 0:case 1:default:{var j;a[38]!==u?(j=O(u),a[38]=u,a[39]=j):j=a[39],E=j;break e}}}a[10]=l.tables.threads,a[11]=R,a[12]=b,a[13]=y,a[14]=u,a[15]=p,a[16]=f,a[17]=E}else E=a[17];if(E!==Symbol.for("react.early_return_sentinel"))return E}l.MWInboxURIStateDetailsType=h,l.MWInboxURIStateTag=N,l.getRouteTokens=W,l.useMWInboxURIState=U}),98);
__d("MWInboxProvider.react",["react","react-compiler-runtime","useMWInboxURIState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.createContext,c=u();function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.threadKey,a=o("useMWInboxURIState").useMWInboxURIState(r),i;return t[0]!==n||t[1]!==a?(i=s.jsx(c.Provider,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}l.MWInboxProviderContext=c,l.MWInboxProvider=d}),98);
__d("MWXTheme.react",["cr:7379","cr:7380","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["displayMode"],s,u=s||(s=o("react"));function c(t){var r=t.displayMode,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:7380")!=null?u.jsx(n("cr:7380"),babelHelpers.extends({displayMode:r},o)):n("cr:7379")!=null?u.jsx(n("cr:7379"),babelHelpers.extends({theme:r},o)):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("useMWXButtonSpinner",["fbt","FDSProgressRing.react","MWXSpinner.react","MWXTheme.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=r("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.children,a;return t[0]!==n?(a=r("MWXTheme.react")!=null?u.jsx(r("MWXTheme.react"),{displayMode:"dark",children:n}):null,t[0]=n,t[1]=a):a=t[1],a}function d(e,t,n){var a=o("react-compiler-runtime").c(8),i=n===36,l=r("FDSProgressRing.react")!=null&&i?20:16;if(t===!0){var d;a[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"\u10e9\u10d0\u10e2\u10d5\u10d8\u10e0\u10d7\u10d5\u10d0\u2026"),a[0]=d):d=a[0];var m;return a[1]!==l?(m=u.jsx(r("FDSProgressRing.react"),{"aria-label":d,color:"disabled",duration:2,size:l,type:"estimated"}),a[1]=l,a[2]=m):m=a[2],m}var p=e!=="secondary"?c:u.Fragment,_;a[3]!==l?(_=u.jsx(r("MWXSpinner.react"),{color:"dark",size:l}),a[3]=l,a[4]=_):_=a[4];var f;return a[5]!==p||a[6]!==_?(f=u.jsx(p,{children:_}),a[5]=p,a[6]=_,a[7]=f):f=a[7],f}l.default=d}),226);
__d("MWXButtonGroup.react",["cr:227","cr:6106","react","react-compiler-runtime","useMWXButtonSpinner"],(function(t,n,r,o,a,i,l){"use strict";var e=["icon","loading","type"],s=["icon","loading"],u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(36),i=t.align,l=t.direction,u=t.expanding,d=t.paddingHorizontal,m=t.primary,p=t.secondary,_=t.secondaryReduceEmphasis,f=l===void 0?"backward":l,g=u===void 0?!1:u,h=d===void 0?0:d,y=_===void 0?!0:_,C=r("useMWXButtonSpinner")("primary",t.primary.disabled);if(n("cr:6106")!=null){var b,v,S,R,L;a[0]!==m?(R=m.icon,v=m.loading,L=m.type,S=babelHelpers.objectWithoutPropertiesLoose(m,e),a[0]=m,a[1]=v,a[2]=S,a[3]=R,a[4]=L):(v=a[1],S=a[2],R=a[3],L=a[4]);var E=L==="destructive"?"fdsOverride_negative":L,k=h===10?8:h,I=i!=null?i:"end",T=v===!0?C:void 0,D=(b=R)==null?void 0:b.component,x;a[5]!==S||a[6]!==T||a[7]!==D||a[8]!==E?(x=babelHelpers.extends({},S,{addOnPrimary:T,icon:D,type:E}),a[5]=S,a[6]=T,a[7]=D,a[8]=E,a[9]=x):x=a[9];var $;if(a[10]!==p||a[11]!==y){var P;$=p!=null?babelHelpers.extends({},p,{icon:(P=p.icon)==null?void 0:P.component,reduceEmphasis:y,type:"secondary"}):null,a[10]=p,a[11]=y,a[12]=$}else $=a[12];var N;return a[13]!==f||a[14]!==g||a[15]!==k||a[16]!==I||a[17]!==x||a[18]!==$?(N=c.jsx(n("cr:6106"),{align:I,direction:f,expanding:g,paddingHorizontal:k,primary:x,secondary:$}),a[13]=f,a[14]=g,a[15]=k,a[16]=I,a[17]=x,a[18]=$,a[19]=N):N=a[19],N}if(n("cr:227")!=null){var M,w,A,F;a[20]!==m?(F=m.icon,w=m.loading,A=babelHelpers.objectWithoutPropertiesLoose(m,s),a[20]=m,a[21]=w,a[22]=A,a[23]=F):(w=a[21],A=a[22],F=a[23]);var O=w===!0?C:void 0,B=(M=F)==null?void 0:M.originalComponent,W;a[24]!==A||a[25]!==O||a[26]!==B?(W=babelHelpers.extends({},A,{addOnStart:O,icon:B}),a[24]=A,a[25]=O,a[26]=B,a[27]=W):W=a[27];var q;if(a[28]!==p){var U;q=p!=null?babelHelpers.extends({},p,{icon:(U=p.icon)==null?void 0:U.originalComponent}):null,a[28]=p,a[29]=q}else q=a[29];var V;return a[30]!==i||a[31]!==f||a[32]!==h||a[33]!==W||a[34]!==q?(V=c.jsx(n("cr:227"),{align:i,direction:f,paddingHorizontal:h,primary:W,secondary:q}),a[30]=i,a[31]=f,a[32]=h,a[33]=W,a[34]=q,a[35]=V):V=a[35],V}return null}l.default=d}),98);
__d("MWXIconChevronRight",["MWXSvgIcon","SVGIcon","cr:22268","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22268")),r("gkx")("23219"));l.default=e}),98);
__d("MWXQPCard.react",["MWXIconStrict.react","MWXImage.react","cr:10403","cr:2832","cr:6676","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["addOnPrimary","addOnSecondary","icon","ref","secondaryReduceEmphasis","xstyle"],s,u,c=u||(u=o("react")),d={fdsRoot:{boxShadow:"xnw9j1v",$$css:!0},fdsRootMargin:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginTop:"x14vqqas",marginInlineEnd:"xbmvrgn",marginBottom:"xod5an3",marginInlineStart:"x1diwwjn",$$css:!0},mdsRootMargin:{marginTop:"xw7yly9",marginInlineEnd:"x1ys307a",marginBottom:"x1yztbdb",marginInlineStart:"xyqm7xq",$$css:!0}};function m(t){var a=o("react-compiler-runtime").c(41),i,l,u,m,p,_,f;a[0]!==t?(i=t.addOnPrimary,l=t.addOnSecondary,u=t.icon,p=t.ref,_=t.secondaryReduceEmphasis,f=t.xstyle,m=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=u,a[4]=m,a[5]=p,a[6]=_,a[7]=f):(i=a[1],l=a[2],u=a[3],m=a[4],p=a[5],_=a[6],f=a[7]);var g;if(u!=null)e:switch(u.type){case"image":{var h;a[8]!==u.props?(h=c.jsx(r("MWXImage.react"),babelHelpers.extends({},u.props)),a[8]=u.props,a[9]=h):h=a[9],g=h;break e}case"icon":{var y;a[10]!==u.props?(y=c.jsx(r("MWXIconStrict.react"),babelHelpers.extends({},u.props)),a[10]=u.props,a[11]=y):y=a[11],g=y;break e}default:}if(n("cr:2832")!=null){var C;a[12]!==f?(C=(s||(s=r("stylex"))).props(d.mdsRootMargin,f),a[12]=f,a[13]=C):C=a[13];var b;if(a[14]!==i){var v;b=i&&{disabled:i.disabled,icon:(v=i.icon)==null?void 0:v.originalComponent,label:i.label,linkProps:i.linkProps,onPress:i.onPress,reduceEmphasis:i.reduceEmphasis,type:i.type},a[14]=i,a[15]=b}else b=a[15];var S;a[16]!==l?(S=l&&{disabled:l.disabled,label:l.label,linkProps:l.linkProps,onPress:l.onPress,reduceEmphasis:l.reduceEmphasis},a[16]=l,a[17]=S):S=a[17];var R;a[18]!==g||a[19]!==m||a[20]!==b||a[21]!==S?(R=c.jsx(n("cr:2832"),babelHelpers.extends({},m,{headlineNumberOfLines:2,icon:g,primaryCallToAction:b,secondaryCallToAction:S})),a[18]=g,a[19]=m,a[20]=b,a[21]=S,a[22]=R):R=a[22];var L;return a[23]!==p||a[24]!==C||a[25]!==R?(L=c.jsx("div",babelHelpers.extends({},C,{ref:p,children:R})),a[23]=p,a[24]=C,a[25]=R,a[26]=L):L=a[26],L}else if(n("cr:10403")!=null&&n("cr:6676")!=null){var E;a[27]!==f?(E=(s||(s=r("stylex"))).props(d.fdsRoot,d.fdsRootMargin,f),a[27]=f,a[28]=E):E=a[28];var k;a[29]!==i||a[30]!==l||a[31]!==_?(k=i&&c.jsx(n("cr:6676"),{align:"justify",expanding:!0,paddingHorizontal:12,primary:i,secondary:l,secondaryReduceEmphasis:_}),a[29]=i,a[30]=l,a[31]=_,a[32]=k):k=a[32];var I;a[33]!==g||a[34]!==m||a[35]!==k?(I=c.jsx(n("cr:10403"),babelHelpers.extends({},m,{addOnPrimary:k,icon:g,level:4,type:"primary"})),a[33]=g,a[34]=m,a[35]=k,a[36]=I):I=a[36];var T;return a[37]!==p||a[38]!==E||a[39]!==I?(T=c.jsx("div",babelHelpers.extends({},E,{ref:p,children:I})),a[37]=p,a[38]=E,a[39]=I,a[40]=T):T=a[40],T}return null}l.default=m}),98);
__d("getMWPAttachmentMessageAnnouncement",["fbt","I64","LSIntEnum","MessagingAttachmentType"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={ANIMATED_IMAGE:function(t){return t==null?s._(/*BTDS*/"\u10d3\u10d0\u10e0\u10d7\u10e3\u10da\u10d8\u10d0 \u10d4\u10e0\u10d7\u10d8 \u10d2\u10d0\u10db\u10dd\u10e1\u10d0\u10ee\u10e3\u10da\u10d4\u10d1\u10d0"):s._(/*BTDS*/"One image attached, titled {title of image}",[s._param("title of image",t)])},AUDIO:s._(/*BTDS*/"One audio file attached"),FILE:function(t){return t==null?s._(/*BTDS*/"One file attached"):s._(/*BTDS*/"One file attached, named {name of file}",[s._param("name of file",t)])},IMAGE:function(t,n){return n==null?s._(/*BTDS*/"_j{\"*\":\"{number} images attached\",\"_1\":\"\\u10d3\\u10d0\\u10e0\\u10d7\\u10e3\\u10da\\u10d8\\u10d0 \\u10d4\\u10e0\\u10d7\\u10d8 \\u10d2\\u10d0\\u10db\\u10dd\\u10e1\\u10d0\\u10ee\\u10e3\\u10da\\u10d4\\u10d1\\u10d0\"}",[s._plural(t,"number")]):s._(/*BTDS*/"One image attached, titled {title of image}",[s._param("title of image",n)])},STICKER:function(t){return t==null||t===""?s._(/*BTDS*/"One sticker attached"):s._(/*BTDS*/"One sticker attached, titled {title of sticker}",[s._param("title of sticker",t)])},UNKNOWN:s._(/*BTDS*/"One unsupported attachment attached"),VIDEO:s._(/*BTDS*/"One video attached"),XMA:s._(/*BTDS*/"One rich content attachment attached")},d={ANIMATED_IMAGE:function(t){return s._(/*BTDS*/"Sent a GIF.")},AUDIO:s._(/*BTDS*/"Sent a voice message."),FILE:function(t){return s._(/*BTDS*/"Sent a file.")},IMAGE:function(t,n){return s._(/*BTDS*/"_j{\"*\":\"Sent {number} photos.\",\"_1\":\"\\u10d2\\u10d0\\u10d2\\u10d6\\u10d0\\u10d5\\u10dc\\u10d8\\u10da\\u10d8\\u10d0 \\u10e4\\u10dd\\u10e2\\u10dd\"}",[s._plural(t,"number")])},STICKER:function(t){return s._(/*BTDS*/"\u10d2\u10d0\u10d2\u10d6\u10d0\u10d5\u10dc\u10d8\u10da\u10d8\u10d0 \u10e1\u10e2\u10d8\u10d9\u10d4\u10e0\u10d8")},UNKNOWN:s._(/*BTDS*/"\u10d2\u10d0\u10d2\u10d6\u10d0\u10d5\u10dc\u10d8\u10da\u10d8\u10d0 \u10db\u10d8\u10db\u10d0\u10d2\u10e0\u10d4\u10d1\u10e3\u10da\u10d8 \u10e4\u10d0\u10d8\u10da\u10d8"),VIDEO:s._(/*BTDS*/"\u10d2\u10d0\u10d2\u10d6\u10d0\u10d5\u10dc\u10d8\u10da\u10d8\u10d0 \u10d5\u10d8\u10d3\u10d4\u10dd"),XMA:s._(/*BTDS*/"\u10d2\u10d0\u10d2\u10d6\u10d0\u10d5\u10dc\u10d8\u10da\u10d8\u10d0 \u10db\u10d8\u10db\u10d0\u10d2\u10e0\u10d4\u10d1\u10e3\u10da\u10d8 \u10e4\u10d0\u10d8\u10da\u10d8")};function m(t,n){if(n===void 0&&(n=!0),t.length!==0){var a=n?c:d;if(t.length>1)return t.every(p)?a.IMAGE(t.length):void 0;var i=t[0],l=i.accessibilitySummaryText,s=i.attachmentType,u=i.filename,m=i.titleText,_=(e||(e=o("LSIntEnum"))).unwrapIntEnum(s);switch(_){case r("MessagingAttachmentType").STICKER:case 1:case r("MessagingAttachmentType").SELFIE_STICKER:case 10:case r("MessagingAttachmentType").THIRD_PARTY_STICKER:case 15:return a.STICKER(l);case r("MessagingAttachmentType").IMAGE:case 2:case r("MessagingAttachmentType").EPHEMERAL_IMAGE:case 8:return a.IMAGE(1,m);case r("MessagingAttachmentType").ANIMATED_IMAGE:case 3:return a.ANIMATED_IMAGE(m);case r("MessagingAttachmentType").VIDEO:case 4:case r("MessagingAttachmentType").EPHEMERAL_VIDEO:case 9:return a.VIDEO;case r("MessagingAttachmentType").AUDIO:case 5:return a.AUDIO;case r("MessagingAttachmentType").FILE:case 6:return a.FILE(u);case r("MessagingAttachmentType").XMA:case 7:return a.XMA;case r("MessagingAttachmentType").NONE:case 0:case r("MessagingAttachmentType").SOUND_BITE:case 12:case r("MessagingAttachmentType").CATALOG_ITEM:case 13:case r("MessagingAttachmentType").POWER_UP:case 14:return a.UNKNOWN;default:return a.UNKNOWN}}}function p(t){return(u||(u=o("I64"))).equal(t.attachmentType,(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}l.default=m}),226);
__d("useLabyrinthLogging",["EncryptedBackupsSupportedPlatformUtils","MWEBODSCategory","MWEBODSEntityKey.enum","MWEncryptedBackupsDeviceRegistrationId","ODS","QPLEvent","QPLUserFlow","QuickPerformanceLogger","WebSession","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useCallback;function m(){var t=o("react-compiler-runtime").c(7),n=o("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform(),a;t[0]!==n?(a=function(a){var t=a.additionalAnnotations,i=a.event,l=a.instanceKey,u=a.odsEntityName,c=a.source,d=l===void 0?0:l;if(!(e||(e=r("QuickPerformanceLogger"))).isMarkerOn(i,d)){u&&(s||(s=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),u,r("MWEBODSEntityKey.enum").START);var m=o("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId(),p={deviceRegistrationId:m,platform:n,sessionTabId:o("WebSession").getId(),source:c!=null?c:void 0};r("QPLUserFlow").start(i,{annotations:{string:babelHelpers.extends({},t,p)},instanceKey:d})}},t[0]=n,t[1]=a):a=t[1];var i=a,l;t[2]!==n?(l=function(t){var e=t.additionalAnnotations,a=t.event,i=t.marker,l=t.odsEntityName;if(!r("QPLUserFlow").getActiveFlowIDs().includes((u||(u=o("QPLEvent"))).getMarkerId(a))){l&&(s||(s=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),l,r("MWEBODSEntityKey.enum").START);var c={platform:n,sessionTabId:o("WebSession").getId()};r("QPLUserFlow").start(a,{annotations:{string:babelHelpers.extends({},e,c)}})}r("QPLUserFlow").addPoint(a,i)},t[2]=n,t[3]=l):l=t[3];var c=l,d;return t[4]!==c||t[5]!==i?(d={addMarkerAndStartFlowIfNotActive:c,startFlow:i},t[4]=c,t[5]=i,t[6]=d):d=t[6],d}l.useLabyrinthLoggingFlow=m}),98);
__d("useMAWHasUserVisibleErrors",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a;t[0]!==n.tables.user_visible_errors?(a=function(){return o("ReQL").fromTableDescending(n.tables.user_visible_errors).filter(u)},t[0]=n.tables.user_visible_errors,t[1]=a):a=t[1];var l;t[2]!==n?(l=[n],t[2]=n,t[3]=l):l=t[3];var s=o("ReQLSuspense").useFirst(a,l,i.id+":24");return s!=null}function u(e){var t=e.presentationStyle;return t==="banner"}l.default=s}),98);
__d("useMAWUnsupportedBrowserNUX",["MAWIsIDBOperational","MAWWasmFeatureSupport","WebStorage","gkx","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(6),n=o("MAWIsIDBOperational").useIsIDBOperational(),a=o("MAWWasmFeatureSupport").useWasmFeatureSupport(),i=a==null||a.bigInt&&a.bulkMemory&&a.referenceTypes,l;t[0]!==n||t[1]!==i?(l=!n||!i||(e||(e=r("WebStorage"))).getLocalStorage()==null,t[0]=n,t[1]=i,t[2]=l):l=t[2];var s=l,u=r("gkx")("1778")||s,c;return t[3]!==s||t[4]!==u?(c={shouldHideEBFlow:s,shouldShowQP:u},t[3]=s,t[4]=u,t[5]=c):c=t[5],c}l.useMAWUnsupportedBrowserNUX=s}),98);
__d("useMWEBFlowSourceContext",["FBLogger","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext;function d(){var e=o("react-compiler-runtime").c(2),t=c(r("MWEBFlowSourceContext")),n=t.source,a;return e[0]!==n?(a=function(){return n==null?(r("FBLogger")("wmi_eb").mustfix("[labyrinth][web] source is null. Did you wrap your flow with MWEBFlowSourceContextProvider?"),r("MWChatEncryptedBackupsQPLSource.enum").UNKNOWN):n},e[0]=n,e[1]=a):a=e[1],a}l.default=d}),98);/*FB_PKG_DELIM*/
__d("CometFeedGating",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return!0}function s(){return r("gkx")("12000")}function u(){return r("gkx")("14516")}function c(){return r("gkx")("10473")}function d(){return r("gkx")("14917")}function m(){return r("gkx")("4453")}function p(){return r("gkx")("14443")}function _(){return r("gkx")("13137")}function f(){return r("gkx")("14421")}function g(){return r("gkx")("16062")}l.shouldEnableFeedUFIUIModernization=e,l.shouldEnableFeedUFIUIEvenVerticalSpacing=s,l.enableFeedVideoAdsClickOptimization=u,l.enableFeedVideoAdsResumeClick=c,l.shouldMakeFeedAdsBodyTextClickable=d,l.shouldEnableFeedAdsBlingBarClickable=m,l.shouldAlwaysOpenRadicalUFI=p,l.shouldEnableLinkAttachmentPaddingFix=_,l.shouldEnableUpdatedCommentModerationPadding=f,l.shouldReduceVideoErrorBoundaryFallbackContainerHeight=g}),98);
__d("CometFeedStoryFeedLocationContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("CometFeedStoryRenderLocationContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({storyRenderLocation:null});l.default=u}),98);
__d("CometFocusedStoryViewReferringFeedLocationContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("Lexical",["cr:370"],(function(t,n,r,o,a,i){a.exports=n("cr:370")}),null);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=o("Lexical").createCommand();l.COMET_LEXICAL_ARIA_COMMAND=e}),98);
__d("LexicalComposerContext",["cr:509"],(function(t,n,r,o,a,i){a.exports=n("cr:509")}),null);
__d("LexicalContentEditable",["cr:2483"],(function(t,n,r,o,a,i){a.exports=n("cr:2483")}),null);
__d("mlcEditableSubscription",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{initialValueFn:function(){return e.isEditable()},subscribe:function(n){return e.registerEditableListener(n)}}}i.default=e}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useLayoutEffect,d=u.useState;function m(t){var n=(e||(e=r("useUnsafeRef_DEPRECATED")))(t.initialValueFn()),o=d(n.current),a=o[0],i=o[1];return c(function(){var e=t.initialValueFn,r=t.subscribe,o=e();return n.current!==o&&(n.current=o,i(o)),r(function(e){n.current=e,i(e)})},[t]),a}l.default=m}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","react-compiler-runtime","stylex","useCometLexicalSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useLayoutEffect,_=d.useMemo,f=d.useState,g={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(54),a,i,l,u,d,_,h,y,C,b,v,S,R,L,E,k,I,T,D;n[0]!==t?(a=t.ariaAutoComplete,i=t.ariaDescribedBy,l=t.ariaExpanded,u=t.ariaLabel,d=t.ariaLabelledBy,_=t.ariaMultiline,h=t.ariaOwneeID,y=t.ariaRequired,C=t.autoCapitalize,b=t.autoComplete,v=t.autoCorrect,S=t.contentEditableRef,L=t.isInitiallyFocused,E=t.role,k=t.spellCheck,I=t.tabIndex,T=t.webDriverTestID,D=t.xstyle,R=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=_,n[7]=h,n[8]=y,n[9]=C,n[10]=b,n[11]=v,n[12]=S,n[13]=R,n[14]=L,n[15]=E,n[16]=k,n[17]=I,n[18]=T,n[19]=D):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],_=n[6],h=n[7],y=n[8],C=n[9],b=n[10],v=n[11],S=n[12],R=n[13],L=n[14],E=n[15],k=n[16],I=n[17],T=n[18],D=n[19]);var x=L===void 0?!1:L,$=E===void 0?"textbox":E,P=k===void 0?!1:k,N=o("LexicalComposerContext").useLexicalComposerContext(),M=N[0],w=f(void 0),A=w[0],F=w[1],O=f(void 0),B=O[0],W=O[1],q;n[20]!==M?(q=r("mlcEditableSubscription")(M),n[20]=M,n[21]=q):q=n[21];var U=r("useCometLexicalSubscription")(q),V,H;n[22]!==M?(V=function(){return M.registerCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(e){return Object.prototype.hasOwnProperty.call(e,"activeDescendantID")&&F(e.activeDescendantID),Object.prototype.hasOwnProperty.call(e,"controlsID")&&W(e.controlsID),!1},o("Lexical").COMMAND_PRIORITY_EDITOR)},H=[M],n[22]=M,n[23]=V,n[24]=H):(V=n[23],H=n[24]),p(V,H);var G,z;n[25]!==M||n[26]!==x?(G=function(){x&&M.focus(function(){var e=document.activeElement,t=M.getRootElement();(!(t!=null&&t.contains(e))||t!=null||e==null)&&(t==null||t.focus({preventScroll:!0}))})},z=[M,x],n[25]=M,n[26]=x,n[27]=G,n[28]=z):(G=n[27],z=n[28]),m(G,z);var j=A!=null?A:void 0,K=B!=null?B:void 0,Q;if(n[29]!==u){var X,Y;Q=(X=(Y=u)==null?void 0:Y.toString())!=null?X:void 0,n[29]=u,n[30]=Q}else Q=n[30];var J=y!=null?y:void 0,Z;n[31]!==D?(Z=(s||(s=r("stylex")))(g.editor,D),n[31]=D,n[32]=Z):Z=n[32];var ee=Z+" "+(U?"notranslate":""),te;return n[33]!==a||n[34]!==i||n[35]!==l||n[36]!==d||n[37]!==_||n[38]!==h||n[39]!==C||n[40]!==b||n[41]!==v||n[42]!==S||n[43]!==R||n[44]!==$||n[45]!==P||n[46]!==K||n[47]!==Q||n[48]!==J||n[49]!==ee||n[50]!==j||n[51]!==I||n[52]!==T?(te=c.jsx(o("LexicalContentEditable").ContentEditable,babelHelpers.extends({ariaActiveDescendant:j,ariaAutoComplete:a,ariaControls:K,ariaDescribedBy:i,ariaExpanded:l,ariaLabel:Q,ariaLabelledBy:d,ariaMultiline:_,ariaOwns:h,ariaRequired:J,autoCapitalize:C,autoComplete:b,autoCorrect:v,className:ee,"data-testid":void 0,ref:S,role:$,spellCheck:P,suppressContentEditableWarning:!0,tabIndex:I},R)),n[33]=a,n[34]=i,n[35]=l,n[36]=d,n[37]=_,n[38]=h,n[39]=C,n[40]=b,n[41]=v,n[42]=S,n[43]=R,n[44]=$,n[45]=P,n[46]=K,n[47]=Q,n[48]=J,n[49]=ee,n[50]=j,n[51]=I,n[52]=T,n[53]=te):te=n[53],te}l.default=h}),98);
__d("CometLexicalEntityTextNode",["FBLogger","Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getEntity=function(){throw r("FBLogger")("ufi2").mustfixThrow("CometLexicalEntityTextNode does not implement getEntity")},t})(o("Lexical").TextNode);function s(t){return t instanceof e}l.CometLexicalEntityTextNode=e,l.isCometLexicalEntityTextNode=s}),98);
__d("CometLexicalDelightNode",["CometLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a){var i;return i=e.call(this,t,a)||this,i.__entityType="TextDelightCampaign",i.__styles=n,i.__campaignID=r,i.__delightAsset=o,i}babelHelpers.inheritsLoose(t,e),t.getType=function(){return"delight"},t.clone=function(n){return new t(n.__text,n.__styles,n.__campaignID,n.__delightAsset,n.__key)},t.importJSON=function(t){return s(t.text,t.styles,t.campaignID,t.delightAsset)};var n=t.prototype;return n.exportJSON=function(){return babelHelpers.extends({},e.prototype.exportJSON.call(this),{campaignID:this.__campaignID,delightAsset:this.__delightAsset,styles:this.__styles,type:"delight",version:1})},n.createDOM=function(n){var t=e.prototype.createDOM.call(this,n),r=this.__delightAsset.id,o=this.__styles,a=o.color,i=o["font-weight"];return r!=null&&t.setAttribute("data-delight-asset",r),t.setAttribute("data-delight","true"),a!=null&&i!=null&&(t.style.color=a,t.style.fontWeight=i),t},n.getEntity=function(){return{__UFI__:!0,id:this.__campaignID,isWeak:!1,type:this.__entityType}},n.canInsertTextBefore=function(){return!1},n.canInsertTextAfter=function(){return!1},t})(o("CometLexicalEntityTextNode").CometLexicalEntityTextNode);function s(t,n,r,o){return new e(t,n,r,o)}function u(t){return t instanceof e}l.CometLexicalDelightNode=e,l.$createLexicalDelightNode=s,l.$isLexicalDelightNode=u}),98);
__d("CometLexicalEmojiNode",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=9,s=16,u=20,c=16,d=(function(t){function n(e,n,r,o,a){var i;return o===void 0&&(o=c),i=t.call(this,e,a)||this,i.__src=r,i.__rawText=n,i.__size=o,i}babelHelpers.inheritsLoose(n,t),n.getType=function(){return"emoji"},n.clone=function(t){return new n(t.__text,t.__rawText,t.__src,t.__size,t.__key)},n.importJSON=function(t){var e=p(t.text,t.rawText,t.src,t.size);return e};var r=n.prototype;return r.exportJSON=function(){return babelHelpers.extends({},t.prototype.exportJSON.call(this),{rawText:this.__rawText,size:this.__size,src:this.__src,type:"emoji"})},r.getRawText=function(){var e=this.getLatest();return e.__rawText},r.createDOM=function(){var t=this.__text,n=this.__size,r=this.__src,o=document.createElement("span"),a=document.createElement("span"),i=o.style;return i.cursor="default",o.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xjn30re xat24cr x1hb08if x2b8uid",o.setAttribute("data-testid","emoji"),r!=null&&(i.backgroundImage="url("+r+")",i.backgroundSize=n+"px "+n+"px"),t!==this.__rawText&&(o.style.width="calc("+n+"px + 0.3em)",o.style.height=n+"px",o.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xjn30re xat24cr x1hb08if x2b8uid x1rg5ohu x6ikm8r x10wlt62 xmziwt1 xuxw1ft",o.setAttribute("spellcheck","false"),a.style.fontFamily='Courier, "Courier New", Menlo, Monaco, monospace',a.style.fontSize="15px",a.style.letterSpacing=n/(e*t.length)-1+"ch"),a.textContent=t,a.className="xexx8yu xcaqkgz x18d9i69 xbwkkl7 x3jgonx x1bhl96m",o.appendChild(a),o},r.updateDOM=function(t,n){var e=n.firstChild;if(e==null)return!0;var r=this.__text;return e.textContent!==r&&(e.textContent=r),n.style.backgroundSize=this.__size+"px "+this.__size+"px",!1},r.setSize=function(t){var e=this.getWritable();e.__size=t},r.selectionTransform=function(t,n){var e=this.__text;if(!(e===this.__rawText||!o("Lexical").$isRangeSelection(t)||t.is(n))){var r=t.focus,a=n.focus,i=e.length,l=n.isCollapsed();a.offset===0||a.offset===e.length||r.is(a)||(r.isBefore(a)?a.set(a.key,i,"text"):a.set(a.key,0,"text"),l&&n.anchor.set(a.key,a.offset,"text"))}},n})(o("Lexical").TextNode);function m(e){return e instanceof d}function p(e,t,n,r){return new d(e,t,n,r).setMode("token")}l.UFI_EMOJI_SIZE=s,l.COMPOSER_EMOJI_SIZE_LARGE=u,l.COMPOSER_EMOJI_SIZE_SMALL=c,l.EmojiNode=d,l.$isEmojiNode=m,l.$createEmojiNode=p}),98);
__d("CometLexicalGenericEntityNode",["CometLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r,o="",a="Actor",i=void 0,l="";return t!==void 0&&(o=t.id,a=t.type,i=t.uri,l=t.text),r=e.call(this,l,n)||this,r.__id=o,r.__entityType=a,r.__uri=i,r}babelHelpers.inheritsLoose(t,e),t.getType=function(){return"actor"},t.clone=function(n){var e;return new t({id:n.__id,text:n.__text,type:n.__entityType,uri:(e=n.__uri)!=null?e:void 0},n.__key)},t.importJSON=function(t){var e;return s({id:t.id,text:t.text,type:t.entityType,uri:(e=t.uri)!=null?e:void 0})};var n=t.prototype;return n.exportJSON=function(){return babelHelpers.extends({},e.prototype.exportJSON.call(this),{entityType:this.__entityType,id:this.__id,type:"actor",uri:this.__uri})},n.createDOM=function(n){var t=e.prototype.createDOM.call(this,n);return t.className="xv78j7m",t.spellcheck=!1,t},n.getEntity=function(){var e=this.__uri!=null?{uri:this.__uri}:null;return babelHelpers.extends({__UFI__:!0,id:this.__id,isWeak:!1,type:this.__entityType},e)},n.getEntityType=function(){return this.__entityType},n.getID=function(){return this.__id},t})(o("CometLexicalEntityTextNode").CometLexicalEntityTextNode);function s(t){return new e(t).setMode("segmented").toggleDirectionless()}function u(t){return t instanceof e}l.CometLexicalGenericEntityNode=e,l.$createCometLexicalGenericEntityNode=s,l.$isCometLexicalGenericEntityNode=u}),98);
__d("CometLexicalPlaceholder.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={placeholder:{color:"xi81zsa",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(5),a=t.children,i=t.xstyle,l;n[0]!==i?(l=(e||(e=r("stylex"))).props(c.placeholder,i),n[0]=i,n[1]=l):l=n[1];var s;return n[2]!==a||n[3]!==l?(s=u.jsx("div",babelHelpers.extends({children:a},l)),n[2]=a,n[3]=l,n[4]=s):s=n[4],s}l.default=d}),98);
__d("CometSharedPostInGroupContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isSharedPostInGroup:!1});l.default=u}),98);
__d("CometStickerPickerCardQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10095807770482952"}),null);
__d("CometStickerPickerCardQuery$Parameters",["CometStickerPickerCardQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerCardQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerCardQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerStickerGeneratedCardQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23948132428170987"}),null);
__d("CometStickerPickerStickerGeneratedCardQuery$Parameters",["CometStickerPickerStickerGeneratedCardQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerStickerGeneratedCardQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerStickerGeneratedCardQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerStickerGeneratedCard.entrypoint",["CometStickerPickerStickerGeneratedCardQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e=4,s=r("JSResourceForInteraction")("CometStickerPickerStickerGeneratedCard.react").__setRef("CometStickerPickerStickerGeneratedCard.entrypoint"),u={getPreloadProps:function(n){var t=n.stickerHeight,a=n.stickerInterface,i=n.stickerWidth;return{extraProps:{stickerInterface:a},queries:{stickerGeneratedTrendingStickersQueryReference:{parameters:r("CometStickerPickerStickerGeneratedCardQuery$Parameters"),variables:{limit:e,scale:o("WebPixelRatio").get(),sticker_height:typeof t=="number"?Math.floor(t):t,sticker_width:typeof i=="number"?Math.floor(i):i}}}}},root:s};l.default=u}),98);
__d("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="30784663477785581"}),null);
__d("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters",["CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint",["CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.count,n=t.cursor;return{queries:{flyoutTagsQueryReference:{parameters:r("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters"),variables:{count:e,cursor:n,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.react").__setRef("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint")};l.default=e}),98);
__d("CometStickerPickerStickerSearchCard.entrypoint",["CometStickerPickerFlyoutTagSelectorRoot.entrypoint","CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("CometStickerPickerStickerSearchCard.react").__setRef("CometStickerPickerStickerSearchCard.entrypoint"),s={getPreloadProps:function(t){var e=t.flyoutTagsCount,n=t.flyoutTagsCursor,a=t.stickerInterface,i={count:e,cursor:n};return{entryPoints:{flyoutTagSelectorEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerFlyoutTagSelectorRoot.entrypoint"),entryPointParams:i}),flyoutTagSelectorGeneratedEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint"),entryPointParams:i})},extraProps:{stickerInterface:a}}},root:e};l.default=s}),98);
__d("CometStickerPickerCard.entrypoint",["CometStickerPickerCardQuery$Parameters","CometStickerPickerStickerGeneratedCard.entrypoint","CometStickerPickerStickerSearchCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e=128,s=r("JSResourceForInteraction")("CometStickerPickerCard.react").__setRef("CometStickerPickerCard.entrypoint"),u={getPreloadProps:function(n){var t=n.feedbackID,a=n.flyoutTagsCount,i=n.flyoutTagsCursor,l=n.stickerHeight,s=l===void 0?e:l,u=n.stickerInterface,c=n.stickerWidth,d=c===void 0?e:c,m={flyoutTagsCount:a,flyoutTagsCursor:i,stickerInterface:u},p={stickerHeight:s,stickerInterface:u,stickerWidth:d};return{entryPoints:{stickerGeneratedEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerStickerGeneratedCard.entrypoint"),entryPointParams:p}),stickerSearchEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerStickerSearchCard.entrypoint"),entryPointParams:m})},extraProps:{feedbackTargetID:t,stickerInterface:u},queries:{stickerPickerQueryReference:{parameters:r("CometStickerPickerCardQuery$Parameters"),variables:{feedbackID:t,scale:o("WebPixelRatio").get(),stickerInterface:u}}}}},root:s};l.default=u}),98);
__d("CometUFICommentScrollOptionsContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={behavior:"smooth",verticalAlign:"center"},c=s.createContext({scrollAnchorOptions:babelHelpers.extends({},u),scrollIntoViewOptions:babelHelpers.extends({},u)});l.default=c}),98);
__d("CometUFICommentsPagerBase.react",["BaseFocusRing.react","CometPressable.react","CometTrackingNodeProvider.react","FDSIcon.react","FDSProgressRingIndeterminate.react","FDSText.react","XPlatReactFocusRegion.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom","useRadicalUFIClickInteractionLogging"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m={fresh:{backgroundColor:"xwnonoy",bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",transitionDuration:"x1k90msu",transitionProperty:"x19991ni",transitionTimingFunction:"xz4gly6",width:"xfo62xy",$$css:!0},freshDepth0:{insetInlineStart:"xb1342z",left:null,right:null,$$css:!0},freshDepth1:{insetInlineStart:"x1pia40t",left:null,right:null,$$css:!0},freshDepth2:{insetInlineStart:"x1ppa808",left:null,right:null,$$css:!0},freshVisible:{opacity:"x1hc1fzr",$$css:!0},icon:{display:"x78zum5",filter:"xsv2lzm",marginInlineEnd:"xbelrpt",marginInlineStart:"x1diwwjn",$$css:!0},item:{display:"x78zum5",marginInlineEnd:"xbelrpt",minWidth:"xeuugli",$$css:!0},pagerBasePressable:{alignItems:"x6s0dn4",color:"xi81zsa",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",paddingInlineEnd:"x1icxu4v",$$css:!0},pagerWhileLoading:{cursor:"xky4qsq",$$css:!0},replyPagerWithoutIcon:{marginInlineStart:"xdzw4kq",$$css:!0},root:{display:"x78zum5",flexGrow:"x1iyjqo2",minHeight:"x21xpn4",position:"x1n2onr6",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(18),n=e.children,a=e.depth,i=e.feedLocation,l=e.freshIndicatorVisible,u=e.icon,p=e.isFreshIndicatorAlignedAtStart,_=e.isLoading,f=e.onHoverIn,g=e.onHoverOut,h=e.onPress,y=p===void 0?!0:p,C;t[0]!==i?(C={clickInteractionSource:"pager",feedLocation:i},t[0]=i,t[1]=C):C=t[1];var b=r("useRadicalUFIClickInteractionLogging")(h,C),v=d(!1),S=v[0],R=v[1],L,E;t[2]!==_||t[3]!==S?(L=function(){_===!1&&S===!0&&R(!1)},E=[_,S],t[2]=_,t[3]=S,t[4]=L,t[5]=E):(L=t[4],E=t[5]),c(L,E);var k;t[6]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(o("react-strict-dom").html.div,{style:m.item,children:s.jsx(r("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:16})}),t[6]=k):k=t[6];var I=k,T;return t[7]!==n||t[8]!==a||t[9]!==l||t[10]!==u||t[11]!==y||t[12]!==_||t[13]!==f||t[14]!==g||t[15]!==b||t[16]!==S?(T=s.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:24,children:s.jsx(r("BaseFocusRing.react"),{children:function(t){return s.jsxs(o("react-strict-dom").html.div,{style:m.root,children:[s.jsx(o("react-strict-dom").html.div,{style:[m.fresh,a===0&&m.freshDepth0,a===1&&y&&m.freshDepth1,a===2&&y&&m.freshDepth2,l&&m.freshVisible]}),s.jsxs(r("CometPressable.react"),{disabled:_,onHoverIn:f,onHoverOut:g,onPress:function(t){b(t),R(!0)},overlayDisabled:!0,testid:void 0,xstyle:[t,m.pagerBasePressable,_&&m.pagerWhileLoading,a>0&&m.replyPagerWithoutIcon],children:[u!=null?s.jsx(o("react-strict-dom").html.span,{style:m.icon,children:s.jsx(r("FDSIcon.react"),{color:"secondary",icon:u,size:16})},"icon"):null,s.jsx(o("react-strict-dom").html.span,{style:m.item,children:s.jsx(r("FDSText.react"),{color:"secondary",type:"bodyLink3",children:n})},"text"),_&&(S?s.jsx(r("XPlatReactFocusRegion.react"),{autoFocusQuery:o("focusScopeQueries").headerAndSpinnerFocusScopeQuery,children:I}):I)]})]})}})}),t[7]=n,t[8]=a,t[9]=l,t[10]=u,t[11]=y,t[12]=_,t[13]=f,t[14]=g,t[15]=b,t[16]=S,t[17]=T):T=t[17],T}l.default=p}),98);
__d("CometUFIComposerDecoratorContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({depth:0,isLast:!0,threaded:!1});l.default=u}),98);
__d("CometUFIComposerThreadingContainer.react",["CometPlaceholder.react","CometUFIComposerDecoratorContext","cr:2857","deferredLoadComponent","react","react-compiler-runtime","react-strict-dom","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=r("deferredLoadComponent")(r("requireDeferredForDisplay")("CometUFIThreadedComponentDecorator.react").__setRef("CometUFIComposerThreadingContainer.react"));function d(e){var t=o("react-compiler-runtime").c(7),a=e.children,l=e.type,d=u(r("CometUFIComposerDecoratorContext")),m=d.depth,p=d.isLast,_=d.isParentLast,f=d.threaded,g;return t[0]!==a||t[1]!==m||t[2]!==p||t[3]!==_||t[4]!==f||t[5]!==l?(g=f?s.jsx(o("react-strict-dom").html.div,{role:"table",children:s.jsx(r("CometPlaceholder.react"),{fallback:a,name:i.id,children:s.jsx(c,{applyComposerContainerStyle:!0,depth:m,hasChildren:!1,isLast:p,isParentLast:_,type:l,children:n("cr:2857")==null?a:s.jsx(n("cr:2857"),{focusRingPosition:l==="composer"?"default":"inset",children:a})})})}):s.jsx(s.Fragment,{children:a}),t[0]=a,t[1]=m,t[2]=p,t[3]=_,t[4]=f,t[5]=l,t[6]=g):g=t[6],g}l.default=d}),98);
__d("CometUFIConversationGuideContainerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25316047617978702"}),null);
__d("CometUFIConversationGuideContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({addGiphyStickerToComposer:function(){},addStickerToComposer:function(){},getIsComposerEmpty:function(){return!1},onComposerEmptyStateChange:function(){},setAddGiphyStickerToComposer:function(){},setAddStickerToComposer:function(){},setGetIsComposerEmpty:function(){},setOnComposerEmptyStateChange:function(){},setWriteToComposer:function(){},unsetAddGiphyStickerToComposer:function(){},unsetAddStickerToComposer:function(){},unsetOnComposerEmptyStateChange:function(){},unsetWriteToComposer:function(){},writeToComposer:function(){}});l.default=u}),98);
__d("CometUFIConversationGuideLoggingContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({callerID:"",defaultValue:!0,guideShown:null,sessionID:null,setGuideShown:function(){}});l.default=u}),98);
__d("CometUFIConversationGuideLoggingProvider.react",["CometUFIConversationGuideLoggingContext","react","useUnsafeRef_DEPRECATED","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useMemo,p=c.useState;function _(t){var n=t.callerID,o=t.children,a=p(null),i=a[0],l=a[1],s=(e||(e=r("useUnsafeRef_DEPRECATED")))(r("uuidv4")()),c=d(r("CometUFIConversationGuideLoggingContext")),_=c.defaultValue,f=c.guideShown,g=c.sessionID,h=c.setGuideShown,y=m(function(){return{callerID:n,defaultValue:!1,guideShown:_?i:f,sessionID:_?s.current:g,setGuideShown:_?l:h}},[n,_,i,f,s,g,h]);return u.jsx(r("CometUFIConversationGuideLoggingContext").Provider,{value:y,children:o})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("ConversationGuideSuggestionSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2132"),s=o("FalcoLoggerInternal").create("conversation_guide_suggestion_selected",e),u=s;l.default=u}),98);
__d("ConversationGuideSuggestionVpvFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2133"),s=o("FalcoLoggerInternal").create("conversation_guide_suggestion_vpv",e),u=s;l.default=u}),98);
__d("CometUFIConversationGuideUtils",["ConversationGuideSuggestionSelectedFalcoEvent","ConversationGuideSuggestionVpvFalcoEvent","FBLogger","XPlatReactEnvironment"],(function(t,n,r,o,a,i,l){"use strict";var e=o("XPlatReactEnvironment").isWeb()?"comet_above_composer":"fbvr_above_composer",s={surface:"comment_composer"};function u(e){r("ConversationGuideSuggestionSelectedFalcoEvent").log(function(){return d(e)})}function c(e){r("ConversationGuideSuggestionVpvFalcoEvent").log(function(){return d(e)})}function d(e){var t=e.callerID,n=e.feedbackID,o=e.id,a=e.index,i=e.sessionID,l=e.suggestionType;if(i==null){var u=r("FBLogger")("conversation_guide");u.mustfix("Logged Comet Conversation Guide event without specifying session ID")}return babelHelpers.extends({caller_id:t,feedback_id:n,session_id:i,suggestion_id:o,suggestion_index:a.toString(),suggestion_type:l},s)}l.CALLER_ID=e,l.COMMON_LOGGING_VALUES=s,l.logSuggestionSelected=u,l.logSuggestionImpression=c}),98);
__d("CometUFIDetachableComposerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({composerElement:null,focusComposer:null,setComposerElement:null,setFocusComposer:function(){}});l.default=u}),98);
__d("CometUFIReactionSentence_reactionDisplayConfig.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIReactionSentence_reactionDisplayConfig",selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_with_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_without_viewer",storageKey:null}],type:"ReactionDisplayConfig",abstractKey:null};a.exports=e}),null);
__d("CometUFIReactionSentence.react",["CometUFIReactionSentence_reactionDisplayConfig.graphql","FBLogger","RelayHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(2),i=t.reactionDisplayConfig,l=t.viewerReacted,s=o("RelayHooks").useFragment(e!==void 0?e:e=n("CometUFIReactionSentence_reactionDisplayConfig.graphql"),i),c=s.reaction_display_strategy,d=s.reaction_string_with_viewer,m=s.reaction_string_without_viewer;if(c==null)throw r("FBLogger")("ufi2").mustfixThrow("CometUFIReactionSentence: Reaction display strategy was unexpectedly null");if(d==null||m==null)throw r("FBLogger")("ufi2").mustfixThrow("CometUFIReactionSentence: Reaction string was unexpectedly null");var p=l?d:m,_;return a[0]!==p?(_=u.jsx(u.Fragment,{children:p}),a[0]=p,a[1]=_):_=a[1],_}l.default=c}),98);
__d("CometUFIReactionSentence_reactionDisplayConfig$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"SplitOperation",metadata:{},name:"CometUFIReactionSentence_reactionDisplayConfig$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_with_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_without_viewer",storageKey:null}]};a.exports=e}),null);
__d("CometUFIThreadedComponentDecorator.react",["XPlatReactEnvironment","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={childLineReply:{height:"xvo3xdp",insetInlineStart:"x15vpgiq",left:null,right:null,top:"x9ri80z",$$css:!0},childLineReplyNative:{boxSizing:"x9f619",height:"x5yr21d",insetInlineStart:"x15vpgiq",left:null,right:null,paddingBottom:"x1t1ogtf",position:"x10l6tqk",top:"x9ri80z",width:"xfo62xy",$$css:!0},childLineTopLevel:{height:"xv6pb6r",insetInlineStart:"x1pe450p",left:null,right:null,top:"xg4rxxw",$$css:!0},childLineTopLevelNative:{boxSizing:"x9f619",height:"x5yr21d",insetInlineStart:"x1pe450p",left:null,right:null,paddingBottom:"x2p4029",position:"x10l6tqk",top:"xg4rxxw",width:"xfo62xy",$$css:!0},composerRoot:{marginTop:"x9otpla",marginBottom:"x1wsgfga",marginInlineStart:"x1qfufaz",$$css:!0},curvedLine:{borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xlxy82",borderTopColor:"xfo3rzh",borderInlineEndColor:"x1n2bmbs",borderBottomColor:"x7pr0uv",borderInlineStartColor:"xfm49vd",borderEndStartRadius:"x1pv694p",borderInlineStartStyle:"x1t7ytsu",borderInlineStartWidth:"xyumdvf",position:"x10l6tqk",$$css:!0},curvedLineDepth1:{insetInlineStart:"x1pe450p",left:null,right:null,width:"xvy4d1p",$$css:!0},curvedLineDepth2:{insetInlineStart:"x15vpgiq",left:null,right:null,width:"x17z2i9w",$$css:!0},curvedLineForComment:{height:"x1ta3ar0",$$css:!0},curvedLineForCommentDepth1:{height:"x1qx5ct2",$$css:!0},curvedLineForPager:{height:"xlxyqfn",$$css:!0},parentLineDepth0:{height:"x5yr21d",insetInlineStart:"x1pe450p",left:null,right:null,$$css:!0},parentLineDepth1:{height:"x5yr21d",insetInlineStart:"x15vpgiq",left:null,right:null,$$css:!0},root:{position:"x1n2onr6",$$css:!0},rootDepth1:{paddingInlineStart:"x70ekce",$$css:!0},rootDepth2:{paddingInlineStart:"xw8xeku",$$css:!0},rootHiddenPlaceholder:{textAlign:"x2b8uid",$$css:!0},rootLabel:{overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0},straightLine:{backgroundColor:"x1hmwia7",position:"x10l6tqk",width:"xfo62xy",$$css:!0},straightLineNative:{backgroundColor:"x1hmwia7",height:"x5yr21d",width:"xfo62xy",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(28),n=e.applyComposerContainerStyle,r=e.children,a=e.depth,i=e.hasChildren,l=e.isLast,c=e.isParentLast,d=e.type,m=n===void 0?!1:n,p=a===1&&u.rootDepth1,_=a===2&&u.rootDepth2,f=d==="hidden-placeholder"&&u.rootHiddenPlaceholder,g=d==="label"&&u.rootLabel,h=m&&u.composerRoot,y;t[0]!==p||t[1]!==_||t[2]!==f||t[3]!==g||t[4]!==h?(y=[u.root,p,_,f,g,h],t[0]=p,t[1]=_,t[2]=f,t[3]=g,t[4]=h,t[5]=y):y=t[5];var C;t[6]!==a||t[7]!==d?(C=a>0&&d!=="label"&&d!=="hidden-placeholder"&&d!=="composer-addon"&&s.jsx(o("react-strict-dom").html.div,{style:[u.curvedLine,a===1&&u.curvedLineDepth1,a===2&&u.curvedLineDepth2,(d==="comment"||d==="composer")&&u.curvedLineForComment,(d==="comment"||d==="composer")&&a===1&&u.curvedLineForCommentDepth1,d==="pager"&&u.curvedLineForPager]}),t[6]=a,t[7]=d,t[8]=C):C=t[8];var b;t[9]!==a||t[10]!==l||t[11]!==c||t[12]!==d?(b=(a===1&&(l===!1||d==="composer-addon")||a===2&&c===!1)&&s.jsx(o("react-strict-dom").html.div,{style:[u.straightLine,u.parentLineDepth0]}),t[9]=a,t[10]=l,t[11]=c,t[12]=d,t[13]=b):b=t[13];var v;t[14]!==a||t[15]!==l||t[16]!==d?(v=a===2&&(l===!1||d==="composer-addon")&&s.jsx(o("react-strict-dom").html.div,{style:[u.straightLine,u.parentLineDepth1]}),t[14]=a,t[15]=l,t[16]=d,t[17]=v):v=t[17];var S;t[18]!==a||t[19]!==i?(S=i===!0&&s.jsx(o("react-strict-dom").html.div,{style:o("XPlatReactEnvironment").isWeb()?[a>0&&u.childLineReply,a===0&&u.childLineTopLevel,u.straightLine]:[a>0&&u.childLineReplyNative,a===0&&u.childLineTopLevelNative],children:o("XPlatReactEnvironment").isWeb()?null:s.jsx(o("react-strict-dom").html.div,{style:u.straightLineNative})}),t[18]=a,t[19]=i,t[20]=S):S=t[20];var R;return t[21]!==r||t[22]!==v||t[23]!==S||t[24]!==y||t[25]!==C||t[26]!==b?(R=s.jsxs(o("react-strict-dom").html.div,{style:y,children:[C,b,v,S,r]}),t[21]=r,t[22]=v,t[23]=S,t[24]=y,t[25]=C,t[26]=b,t[27]=R):R=t[27],R}l.default=c}),98);
__d("LexicalErrorBoundary",["cr:2260"],(function(t,n,r,o,a,i){a.exports=n("cr:2260")}),null);
__d("LexicalExtension",["cr:13727"],(function(t,n,r,o,a,i){a.exports=n("cr:13727")}),null);
__d("LexicalHashtag",["cr:2139"],(function(t,n,r,o,a,i){a.exports=n("cr:2139")}),null);
__d("LexicalHistoryPlugin",["cr:293"],(function(t,n,r,o,a,i){a.exports=n("cr:293")}),null);
__d("LexicalLink",["cr:2905"],(function(t,n,r,o,a,i){a.exports=n("cr:2905")}),null);
__d("LexicalOverflow",["cr:2908"],(function(t,n,r,o,a,i){a.exports=n("cr:2908")}),null);
__d("LexicalPlainTextPlugin",["cr:739"],(function(t,n,r,o,a,i){a.exports=n("cr:739")}),null);
__d("LexicalText",["cr:2181"],(function(t,n,r,o,a,i){a.exports=n("cr:2181")}),null);
__d("LexicalUtils",["cr:2774"],(function(t,n,r,o,a,i){a.exports=n("cr:2774")}),null);
__d("MLCCharacterLimitCountPlugin.react",["LexicalComposerContext","LexicalText","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=function(t){return t.length};function c(e){var t=e.editor__DEPRECATED,n=e.limit,r=e.onChange,a=e.strlen,i=a===void 0?u:a,l;if(t)l=t;else{var c=o("LexicalComposerContext").useLexicalComposerContext();l=c[0]}return s(function(){var e=l.getEditorState().read(function(){return n-i(o("LexicalText").$rootTextContent())});return r(e),l.registerTextContentListener(function(e){var t=n-i(e);r(t)})},[l,n,r,i]),null}l.default=c}),98);
__d("MLCInstrumentationCommands",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=o("Lexical")).createCommand(),u=e.createCommand(),c=e.createCommand(),d=e.createCommand(),m=e.createCommand();l.COMMIT_COMMAND=s,l.INTERACTION_INSTRUMENTATION_READY=u,l.DOCUMENT_COMMAND=c,l.PLUGIN_EVENT_COMMAND=d,l.FORMAT_BLOCK_COMMAND=m}),98);
__d("useDeferredModuleOnReady",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(6),n;t[0]!==e?(n=function(){return e.getModuleIfRequireable()},t[0]=e,t[1]=n):n=t[1];var r=c(n),a=r[0],i=r[1],l,s;return t[2]!==e||t[3]!==a?(l=function(){if(a==null){var t=e.onReady(function(e){i(function(){return e})});return(function(){t.remove()})}},s=[e,a],t[2]=e,t[3]=a,t[4]=l,t[5]=s):(l=t[4],s=t[5]),u(l,s),a}l.default=d}),98);
__d("MLCInstrumentationPluginDeferred__INTERNAL.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("MLCInstrumentationPlugin__INTERNAL.react").__setRef("MLCInstrumentationPluginDeferred__INTERNAL.react");function c(e){var t=r("useDeferredModuleOnReady")(u);return t==null?null:s.jsx(t,babelHelpers.extends({},e))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isPlatform("Mac OS X"),s=String.fromCodePoint(e?8984:8963);function u(t){return t!==null&&(e?t.metaKey:t.ctrlKey)}l.COMMAND_UNICODE=s,l.hasCommandModifier=u}),98);
__d("cometLexicalBaseTheme",[],(function(t,n,r,o,a,i,l){"use strict";var e={ltr:"xdpxx8g",rtl:"x1hr2gdg"},s=e;l.default=s}),98);
__d("getPrivacyAwareEditorState",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{nodes:s(e),selection:c(e)}}function s(e){var t=[],n=["key","type","detail","format","mode","children","parent","first","last","size","next","prev"];for(var r of e._nodeMap){var o=r[0],a=r[1],i={};for(var l of n){var s="__"+l,c=a[s];c==null||u(l,c)||(i[l]=c)}t.push(i)}return t}function u(e,t){var n=new Set(["detail","format"]);return!!(n.has(e)&&t===0||e==="mode"&&t==="normal")}function c(e){var t=e._selection;if(!o("Lexical").$isRangeSelection(t))return null;var n=t.anchor,r=t.focus;return{anchor:{key:n.key,offset:n.offset,type:n.type},focus:{key:r.key,offset:r.offset,type:r.type}}}l.default=e}),98);
__d("lengthInUTF8Bytes",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=new TextEncoder;return t.encode(e).length}function l(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)}var s=(function(){return typeof TextEncoder=="undefined"?l:e})();i.default=s}),66);
__d("mlcErrorHandler__INTERNAL",["getPrivacyAwareEditorState"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var o=document.activeElement,a=null;o!=null&&(a={activeElement:o.nodeName,rootSelected:o===t.getRootElement()});var i=window.event,l=null;i!=null&&(l={altKey:i.altKey,ctrlKey:i.ctrlKey,data:i.data,inputType:i.inputType,isComposing:i.isComposing,keyCode:i.keyCode,metaKey:i.metaKey,shiftKey:i.shiftKey,type:i.type});var s=null;try{s=r("getPrivacyAwareEditorState")(t.getEditorState())}catch(e){}n(JSON.stringify({activeElement:a,editorState:s,error:e,event:l}))}l.default=e}),98);
__d("useCometLexicalDragAndDrop",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=o("react-compiler-runtime").c(8),r=t.onDragEnter,a=t.onDragLeave,i=t.onDragOver,l=t.onDrop,u=t.onPaste,c,d;n[0]!==e||n[1]!==r||n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==u?(c=function(){if(e!=null)return e.registerRootListener(function(e,t){t!=null&&(r&&t.removeEventListener("dragenter",r),a&&t.removeEventListener("dragleave",a),i&&t.removeEventListener("dragover",i),l&&t.removeEventListener("drop",l,!0),u&&t.removeEventListener("paste",u,!0)),e!==null&&(r&&e.addEventListener("dragenter",r),a&&e.addEventListener("dragleave",a),i&&e.addEventListener("dragover",i),l&&e.addEventListener("drop",l,!0),u&&e.addEventListener("paste",u,!0))})},d=[e,r,a,i,l,u],n[0]=e,n[1]=r,n[2]=a,n[3]=i,n[4]=l,n[5]=u,n[6]=c,n[7]=d):(c=n[6],d=n[7]),s(c,d)}l.default=u}),98);
__d("useCometLexicalFileDragAndDrop",["react","react-compiler-runtime","useCometLexicalDragAndDrop"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(26),n=e.editor,a=e.isMimeTypeAcceptable,i=e.onHover,l=e.onSubmit,s=i===void 0?_:i,u=l===void 0?p:l,d=c(0),f;t[0]!==a?(f=function(t){return Array.from(t).filter(a)},t[0]=a,t[1]=f):f=t[1];var g=f,h;t[2]!==g||t[3]!==s?(h=function(t){d.current=d.current+1;var e=t.dataTransfer;if(e==null)return s([],!0);var n=g(e.items);return n.length>0&&t.preventDefault(),s(n,!0)},t[2]=g,t[3]=s,t[4]=h):h=t[4];var y=h,C;t[5]!==s?(C=function(t){if(d.current=d.current-1,d.current===0)return s([],!1)},t[5]=s,t[6]=C):C=t[6];var b=C,v;t[7]!==g||t[8]!==s?(v=function(t){var e=t.dataTransfer;if(e==null)return s([],!0);var n=g(e.items);return n.length>0&&t.preventDefault(),s(n,!0)},t[7]=g,t[8]=s,t[9]=v):v=t[9];var S=v,R;t[10]!==g||t[11]!==u?(R=function(t,n){var e=g(n.items),r=e.map(m).filter(Boolean);return r.length>0?(t.stopPropagation(),t.preventDefault(),u(r)):u([])},t[10]=g,t[11]=u,t[12]=R):R=t[12];var L=R,E;t[13]!==L||t[14]!==s||t[15]!==u?(E=function(t){var e=t.dataTransfer;return d.current=0,s([],!1),e!=null?L(t,e):u([])},t[13]=L,t[14]=s,t[15]=u,t[16]=E):E=t[16];var k=E,I;t[17]!==L||t[18]!==u?(I=function(t){var e=t.clipboardData;if(e==null)return u([]);var n=e.types,r=n.includes("text/plain")&&n.includes("text/html")||n.includes("text/rtf");return r?u([]):L(t,e)},t[17]=L,t[18]=u,t[19]=I):I=t[19];var T=I,D;t[20]!==y||t[21]!==b||t[22]!==S||t[23]!==k||t[24]!==T?(D={onDragEnter:y,onDragLeave:b,onDragOver:S,onDrop:k,onPaste:T},t[20]=y,t[21]=b,t[22]=S,t[23]=k,t[24]=T,t[25]=D):D=t[25],r("useCometLexicalDragAndDrop")(n,D)}function m(e){return e.getAsFile()}function p(){}function _(){}l.default=d}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e){s(function(){e.update(function(){var t=o("Lexical").$getRoot();if(t.isEmpty()){var n=o("Lexical").$createParagraphNode();t.append(n);var r=document.activeElement;(o("Lexical").$getSelection()!==null||r!==null&&r===e.getRootElement())&&n.select()}})},[e])}l.default=u}),98);/*FB_PKG_DELIM*/
__d("LSCoreClientFolderType",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19,INTEROP_PENDING:29});i.default=e}),66);
__d("LSPlatformArmadilloUtils",["MAWMIC","MAWMICSchema","Promise","cr:6998","cr:7349","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("MAWThreadConsistencyLogger").__setRef("LSPlatformArmadilloUtils"),c=(e=n("cr:6998"))!=null?e:n("cr:7349"),d=[];function m(e){d.push(e)}function p(){if(c==null||c.completeSync(),u.load().then(function(e){return e.startMAWThreadConsistencyLogger()}),d.length===0){c==null||c.maybeEndOccamadilloThreadMapping();return}r("promiseDone")((s||(s=n("Promise"))).allSettled(d.map(function(e){return e()})),function(){return c==null?void 0:c.maybeEndOccamadilloThreadMapping()})}function _(){o("MAWMIC").addPoint("ls_init_end")}function f(){o("MAWMIC").addPoint("ls_init_start")}function g(){o("MAWMIC").addPoint("ls_sync_start")}function h(){o("MAWMIC").addPoint(o("MAWMICSchema").POINTS.ls_sync_end)}function y(e){o("MAWMIC").fail("init_sync_failure",e)}l.executeOnThreadMappingEnd=m,l.occamadilloInitEnd=p,l.reportInitEnd=_,l.reportInitStart=f,l.reportSyncStart=g,l.reportSyncEnd=h,l.reportInitSyncFailure=y}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSQplAnnotateInt.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] Beginning execution."),r[1]=t.i64.of_float(Date.now()),t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))||!1}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(r[19]=new t.Map,r[19].set("error_msg","Expected a nonempty query result"),r[19].set("code",t.i64.cast([0,3])),r[19].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),r[20]=t.createArray(),r[21]=(r[20].push(r[19]),r[20]),o=[void 0,r[20]],r[2]=o[0],r[3]=o[1]):(n=l.item,r[19]=new t.Map,r[19].set("backup_id",n.backupId),r[19].set("device_public_key_blob",n.devicePublicKeyBlob),r[19].set("device_private_key_blob",n.devicePrivateKeyBlob),r[19].set("epoch_storage_public_key_blob",n.epochStoragePublicKeyBlob),r[19].set("epoch_storage_private_key_blob",n.epochStoragePrivateKeyBlob),r[19].set("epoch_auth_public_key_blob",n.epochAuthPublicKeyBlob),r[19].set("epoch_auth_private_key_blob",n.epochAuthPrivateKeyBlob),r[19].set("mailbox_root_key_blob",n.mailboxRootKeyBlob),r[19].set("ocmf_client_state_blob",n.ocmfClientStateBlob),r[19].set("orf_client_state_v2_blob",void 0),r[19].set("orf_v2_authority_level",void 0),r[19].set("oblivious_validation_token_blob",n.obliviousValidationTokenBlob),r[19].set("device_id",n.deviceId),r[19].set("backup_tenancy",n.backupTenancy),r[19].set("encryption_version",n.encryptionVersion),r[19].set("revision_version",n.revisionVersion),r[19].set("initialize_restore_result",void 0),r[19].set("device_creation_timestamp_sec",void 0),r[19].set("authority_level",n.authorityLevel),a=[r[19],void 0],r[2]=a[0],r[3]=a[1])})},function(e){return r[5]=new t.Map,r[5].set("value",r[2]),r[5].set("errors",r[3]),r[6]=r[5].get("value"),r[6]!==void 0?t.sequence([function(e){return r[19]=r[6].get("backup_id"),r[20]=r[6].get("device_public_key_blob"),r[21]=r[6].get("device_private_key_blob"),r[22]=r[6].get("epoch_storage_public_key_blob"),r[23]=r[6].get("epoch_storage_private_key_blob"),r[24]=r[6].get("epoch_auth_public_key_blob"),r[25]=r[6].get("epoch_auth_private_key_blob"),r[26]=r[6].get("mailbox_root_key_blob"),r[27]=r[6].get("ocmf_client_state_blob"),r[28]=r[6].get("orf_client_state_v2_blob"),r[29]=r[6].get("orf_v2_authority_level"),r[30]=r[6].get("oblivious_validation_token_blob"),r[31]=r[6].get("device_id"),r[32]=r[6].get("backup_tenancy"),r[33]=r[6].get("encryption_version"),r[34]=r[6].get("revision_version"),r[35]=r[6].get("initialize_restore_result"),r[36]=r[6].get("device_creation_timestamp_sec"),r[37]=r[6].get("authority_level"),t.i64.neq(r[31],void 0)?t.sequence([function(e){return r[39]=void 0,t.i64.neq(r[39],void 0)?t.resolve(r[40]=r[39]):t.sequence([function(e){return r[52]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[53]=t[0],t})},function(e){return r[53]&&(r[62]=(r[52].push(t.i64.cast([0,0])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[54]=t[0],t})},function(e){return r[54]&&(r[62]=(r[52].push(t.i64.cast([0,2])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[55]=t[0],t})},function(e){return r[55]&&(r[62]=(r[52].push(t.i64.cast([0,3])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[56]=t[0],t})},function(e){return r[56]&&(r[62]=(r[52].push(t.i64.cast([0,4])),r[52])),r[57]=t.createArray(),r[58]=t.i64.of_int32(r[52].length),t.i64.gt(r[58],t.i64.cast([0,0]))?t.loopAsync(r[58],function(e){return r[62]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[52],r[62]).then(function(e){var t;return t=e,r[63]=t[0],r[64]=t[1],t})},function(e){return r[65]=(r[57].push(r[63]),r[57])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[62]=t.createArray(),r[63]=t.i64.of_int32(r[57].length),t.i64.gt(r[63],t.i64.cast([0,0]))?t.loopAsync(r[63],function(e){return r[65]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[57],r[65]).then(function(e){var t;return t=e,r[66]=t[0],r[67]=t[1],t})},function(e){return r[68]=(r[62].push(t.i64.to_string(r[66])),r[62])}])}):t.resolve()},function(e){return r[64]=r[62].join(","),r[59]=r[64]}])},function(e){return r[57].some(function(e){return t.i64.eq(r[33],e)})?r[60]=r[33]:r[60]=void 0,t.i64.neq(r[60],void 0)?r[61]=r[60]:r[61]=void 0,r[40]=r[61]}])},function(e){return t.i64.neq(r[40],void 0)?r[41]=r[40]:r[41]=t.i64.cast([0,0]),t.i64.neq(r[32],void 0)?r[42]=r[32]:r[42]=t.i64.cast([0,1]),t.nativeOperation(n("LSBase64Encode.nop"),r[27]).then(function(e){var t;return t=e,r[43]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[26]).then(function(e){var t;return t=e,r[44]=t[0],t})},function(e){return r[45]=new t.Map,r[45].set("ocmf_client_state_blob",r[43]==null?"":r[43]),r[45].set("mailbox_root_key",r[44]==null?"":r[44]),r[46]=t.createArray(),t.forEach(t.filter(t.db.table(169).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}),function(e){var t=e.item;return r[52]=(r[46].push(t.epochId),r[46])})},function(e){return r[50]="Queried locally available epochs. Count: ",r[47]=t.i64.of_int32(r[46].length),r[51]=t.i64.to_string(r[47]),r[48]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][MEBEpochClientUtils] ",r[48],r[50],r[48],r[51]].join("")),t.resolve()},function(e){return r[49]=new t.Map,r[49].set("device_id",r[31]),r[49].set("raw_tokens",r[45]),r[49].set("locally_available_epochs",r[46]),r[38]=r[49]}]):t.resolve(r[38]=void 0)},function(e){return r[7]=r[38]}]):t.resolve((r[19]=r[5].get("errors"),r[20]=r[5].get("errors"),r[7]=void 0))},function(e){return r[8]=t.i64.random(),r[9]=t.i64.to_string(r[8]),r[9]!==void 0?t.nativeOperation(n("LSQplStartTrace.nop"),t.i64.cast([0,679677570]),r[9],!0,void 0):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplMarkPoint.nop"),t.i64.cast([0,679677570]),r[9],"issue_task"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679677570]),r[9],"request_type","THREAD_POINT_QUERY"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateInt.nop"),t.i64.cast([0,679677570]),r[9],"task_creation_source",t.i64.cast([0,76])==null?t.i64.cast([-1,4294967295]):t.i64.cast([0,76])):t.resolve()},function(o){return r[10]=new t.Map,r[10].set("wa_jid",e[0]),r[10].set("tam_thread_subtype",t.i64.cast([0,0])),r[10].set("enable_logging_for_tpq",!1),r[10].set("device_context",r[7]),r[10].set("qpl_instance_key",r[9]),r[11]=r[10].get("wa_jid"),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[11]),t.i64.cast([0,556]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[13]=t.i64.of_float(Date.now()),r[14]=t.i64.random(),r[16]="Finishing execution. Execution time: ",r[17]=t.i64.to_string(t.i64.sub(r[13],r[0])),r[18]=" ms",r[15]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] ",r[15],r[16],r[15],r[17],r[15],r[18]].join("")),t.i64.eq(t.i64.mod_(r[14],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[19]=",",r[20]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"ThreadPointQueryAndRestoreMessagesWithJID",[r[16],r[19],r[17],r[19],r[18]].join(""),r[20],t.i64.cast([0,4]))):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"],a.exports=e}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithJID","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadPointQueryAndRestoreMessagesWithJID"),a.waJid);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActMappingTableAPI","ReQL"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e,t,n){return d(e,n,t.actorId)}function c(e,t,n){return o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,t).then(function(t){return t==null?Promise.resolve():d(e,t,n)})}async function d(t,n,r){var a=t.threads,i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(a).getKeyRange(n));if(i!=null){var l=o("LSMessagingThreadTypeUtil").isGroup(i.threadType);if(l){var u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.group_invites).getKeyRange(n));if(u==null){await a.put(babelHelpers.extends({},i,{additionalThreadContext:void 0}));return}var c=(e||(e=o("I64"))).equal((e||(e=o("I64"))).of_string(r),u.inviterId)?null:await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.contacts,["name"]).getKeyRange(u.inviterId));if(c!=null){var d=s._(/*BTDS*/"{Inviter Name} invited you to join",[s._param("Inviter Name",c.name)]).toString(),m=i.folderName==="inbox"?s._(/*BTDS*/"Message request").toString():i.additionalThreadContext;await a.put(babelHelpers.extends({},i,{additionalThreadContext:m,snippet:d}))}}}}function m(e,t){return c(e,t.threadJid,t.actorId)}function p(e,t,n){return c(e,t,n)}l.callForOneDb=u,l.call=m,l.callFromMainThread=p}),226);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("LSContactBitOffset").hasWithDefault(64,t,!0),r=(e||(e=o("I64"))).ge(t.contactViewerRelationship,e.of_string("2"));return r&&n?o("WADbContact").ONE_WAY_CONTACT:!r&&!n?o("WADbContact").REVERSED_ONE_WAY_CONTACT:r&&!n?o("WADbContact").TWO_WAY_CONTACT:o("WADbContact").NON_CONTACT}l.getContactRelationshipType=s}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWJids","MAWMessageRequestUtil","MAWMiActMappingTableAPI","MAWUserJidWrapper","ODS","ReQL","WADbContact"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e,t){var n=t.threadJid;return p(e,n)}function m(e,t){return p(e,t)}async function p(e,t){if(o("MAWUserJidWrapper").getMyUserJid()!==t){var n=o("MAWJids").convertChatJidToIntJid(t),r=await o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,t);if(r!=null){var a=await Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(r)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.contacts).getKeyRange(n))]),i=a[0],l=a[1];if(!(i==null||l==null||!o("LSMessagingThreadTypeUtil").isOneToOne(i.threadType))){var u=_(i,l),c=i.folderName==="pending"||i.folderName==="other"||i.folderName==="spam"||u;if(c){var d=i.folderName==="inbox"?s._(/*BTDS*/"Message request").toString():void 0,m=babelHelpers.extends({},i,{additionalThreadContext:d},f(i));await e.threads.put(m)}}}}}function _(t,n){var a=o("MAWContactRelationshipType").getContactRelationshipType(n),i=t.folderName==="inbox"&&a===o("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(e||(e=o("I64"))).equal(t.lastActivityTimestampMs,(e||(e=o("I64"))).zero),l=(e||(e=o("I64"))).equal(n.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE));return i&&!l&&(c||(c=o("ODS"))).bumpEntityKey(3185,"e2ee.message_request_loaded_failure","contacts_not_yet_loaded",1),i&&l}function f(e){var t=o("LSThreadBitOffset").clear(o("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4,e.capabilities5),n=o("LSThreadBitOffset").set(o("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,t[0],t[1],t[2],t[3],t[4]);return{capabilities:n[0],capabilities2:n[1],capabilities3:n[2],capabilities4:n[3],capabilities5:n[4]}}l.call=d,l.callFromMainThread=m}),226);
__d("MessagingFolderTag",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",E2EE_CUTOVER_RESTRICTED:"e2ee_cutover_restricted",INTEROP:"interop",INTEROP_PENDING:"interop_pending",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",SECRET_CONVERSATIONS:"secret_conversations",WEBCHAT_PLUGIN:"webchat_plugin",NFB_OVERFLOW:"nfb_overflow",META_AI_THREAD:"meta_ai_thread",META_AI_GROUP_SIDE_CHAT:"meta_ai_group_side_chat",UNKNOWN:""});i.default=e}),66);
__d("MAWFolderUtils",["FBLogger","I64","LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){switch(e){case o("MAWFolderTypes").PENDING:return r("MessagingFolderTag").PENDING;case o("MAWFolderTypes").OTHER:return r("MessagingFolderTag").OTHER;case o("MAWFolderTypes").SPAM:return r("MessagingFolderTag").SPAM;case o("MAWFolderTypes").ARCHIVED:return r("MessagingFolderTag").UNKNOWN;default:return r("MessagingFolderTag").INBOX}}function c(t){switch(t){case o("MAWFolderTypes").PENDING:return(e||(e=o("LSIntEnum"))).ofNumber(-101);case o("MAWFolderTypes").OTHER:return(e||(e=o("LSIntEnum"))).ofNumber(-102);case o("MAWFolderTypes").SPAM:return(e||(e=o("LSIntEnum"))).ofNumber(-103);case o("MAWFolderTypes").ARCHIVED:return(e||(e=o("LSIntEnum"))).ofNumber(-110);default:return(e||(e=o("LSIntEnum"))).ofNumber(-100)}}function d(t){switch(t){case o("MAWFolderTypes").ARCHIVED:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").ARCHIVED);case o("MAWFolderTypes").INBOX:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").INBOX);case o("MAWFolderTypes").OTHER:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").SPAM);case o("MAWFolderTypes").PENDING:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").OTHER);case o("MAWFolderTypes").RESTRICTED:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").RESTRICTED);case o("MAWFolderTypes").SPAM:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").PENDING);default:throw r("FBLogger")("messenger_web").mustfixThrow("Unhandled folder ID: "+t)}}function m(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(-1):return(e||(e=o("LSIntEnum"))).ofNumber(-101);case(e||(e=o("LSIntEnum"))).ofNumber(-2):return(e||(e=o("LSIntEnum"))).ofNumber(-102);case(e||(e=o("LSIntEnum"))).ofNumber(-3):return(e||(e=o("LSIntEnum"))).ofNumber(-103);case(e||(e=o("LSIntEnum"))).ofNumber(-10):return(e||(e=o("LSIntEnum"))).ofNumber(-110);default:return(e||(e=o("LSIntEnum"))).ofNumber(-100)}}function p(e){switch(e){case"inbox":return o("MAWFolderTypes").FOLDER_ID.INBOX;case"pending":return o("MAWFolderTypes").FOLDER_ID.PENDING;case"spam":return o("MAWFolderTypes").FOLDER_ID.SPAM;case"archived":return o("MAWFolderTypes").FOLDER_ID.ARCHIVED;case"other":return o("MAWFolderTypes").FOLDER_ID.OTHER;case"restricted":return o("MAWFolderTypes").FOLDER_ID.RESTRICTED;default:return null}}function _(e){switch((s||(s=o("I64"))).to_int32(e)){case o("MAWFolderTypes").FOLDER_ID.INBOX:return 0;case o("MAWFolderTypes").FOLDER_ID.PENDING:return-1;case o("MAWFolderTypes").FOLDER_ID.SPAM:return-3;case o("MAWFolderTypes").FOLDER_ID.ARCHIVED:return-10;case o("MAWFolderTypes").FOLDER_ID.OTHER:return-2;default:return null}}l.getMessagingFolderTag=u,l.getClientSystemFolder=c,l.systemFolderToLSCoreClientFolder=d,l.systemFolderToClientSystemFolder=m,l.folderTagToFolderId=p,l.parentThreadKeyToLsSystemFolder=_}),98);
__d("MAWRemoveCorruptedParticipantsFromOneToOneChat",["I64","ReQL","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r,a){var i=o("WAJids").extractUserId(r),l=[i];a!==i&&l.push(a);var s=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.participants).getKeyRange(n)),u=s.filter(function(t){return!l.includes((e||(e=o("I64"))).to_string(t.contactId))}).map(function(e){return e.contactId});await Promise.all(u.map(function(e){return t.participants.delete(n,e)}))}l.default=s}),98);
__d("MAWActThreadMapping",["I64","JSResourceForInteraction","MAWBridgeGroupInviteLoadedHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeSendAndReceive","MAWFolderTypes","MAWFolderUtils","MAWHandleActThread","MAWJids","MAWMiActMappingTableAPI","MAWMiActOnActThreadReadyQueue","MAWRemoveCorruptedParticipantsFromOneToOneChat","MAWThreadMappingQPL","MAWUserJidWrapper","MWFBLogger","ReQL","WAArrayZip","WAJids","emptyFunction","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("JSResourceForInteraction")("MAWSyncThreadDescriptionAdminMsg").__setRef("MAWActThreadMapping"),u=new Map,c=null;function d(e,t,n,a){var l=a.then(function(a){r("promiseDone")(e.runInTransaction(function(e){return g(e,p(a),n)},"readwrite",void 0,void 0,i.id+":80").catch(function(e){t.forEach(function(e){return u.delete(e)}),o("MWFBLogger").MWLogger().warn("MAWActThreadMapping","Post processing transaction not committed due to error "+e.message)}));for(var l of a)l.status==="rejected"&&u.delete(l.jid);return a},function(e){return t.forEach(function(e){return u.delete(e)}),t.map(function(t){return{jid:t,reason:r("getErrorSafe")(e).message,status:"rejected"}})});t.forEach(function(e){return u.set(e,l.then(function(t){var n=t.find(function(t){var n;return((n=t.value)==null?void 0:n.chatJid)===e||t.jid===e});if(n==null)throw o("MWFBLogger").MWLogger().tags(["MiActMapping","Occam"]).mustfixThrow("Should have thread creation result for every thread");return n}))})}function m(e){var t=new Map,n=[];return e.threads.forEach(function(e){var r=u.get(e.chatJid),a=e.instanceKey;r!=null?(a!=null&&(o("MAWThreadMappingQPL").addPoint("reuse_existing_promise_for_act_mapping",a),o("MAWThreadMappingQPL").endCancel("act_mapping_is_already_in_progress",a)),n.push(r)):t.set(e.chatJid,e)}),{cachedPromises:n,threadsToVerifyByJid:t}}function p(e){var t=new Map;return e.forEach(function(e){if(e.status==="fulfilled"){var n;t.set(e.value.chatJid,babelHelpers.extends({},e.value,{adminMsgParams:(n=e.value.adminMsgParams)!=null?n:null}))}}),t}function _(e,t){c==null&&(c=h(e));var n=m(t),r=n.cachedPromises,a=n.threadsToVerifyByJid;if(a.size===0)return Promise.all(r);var i=o("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkMaybeCreateOrUpdateThread",babelHelpers.extends({},t,{threads:Array.from(a.values())}));return d(e,Array.from(a.keys()),t,i),Promise.all([i].concat(r)).then(function(e){return e.flat(1)})}function f(t){var n=t.authoritativeThreadKey,a=t.description,i=t.instanceKey,l=t.jid,s=t.optimisticThreadKey;i!=null&&o("MAWMiActOnActThreadReadyQueue").logOnFlushQueue(s,n,i,a),s!=null&&r("promiseDone")(o("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((e||(e=o("I64"))).of_string(s),l,a,"clientThreadKey")),n!=null&&r("promiseDone")(o("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((e||(e=o("I64"))).of_string(n),l,a,"authoritativeThreadKey"))}async function g(t,n,a){if(a.threads.length!==0){var i=[],l=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid());await Promise.all(a.threads.map(function(u){var c=u.authoritativeThreadKey,d=u.chatJid,m=u.instanceKey,p=n.get(d);if(p==null)return Promise.resolve();var _=[],f=p.adminMsgParams,g=p.clientThreadKey,h=p.folder,y=p.isCreated,b=p.participants;b.forEach(function(e){i.push(babelHelpers.extends({},e,{chatJid:d}))});var v=o("WAJids").switchOnMsgrChatJidType(d,{group:function(t){return!0},user:function(t){return!1}});_.push(v?o("MAWBridgeGroupInviteLoadedHandler").callFromMainThread(t,d,l):o("MAWBridgeOneToOneMessageRequestLoadedHandler").callFromMainThread(t,d));var S=o("WAJids").interpretAsUserJid(d);return S!=null&&_.push(r("MAWRemoveCorruptedParticipantsFromOneToOneChat")(t,(e||(e=o("I64"))).of_string(c),S,l)),y||_.push(C(t,c,h!=null?h:o("MAWFolderTypes").FOLDER_ID.INBOX)),f!=null&&_.push(s.load().then(function(e){return e(t,d,c,f)})),Promise.all(_).then(function(){var e;return o("MAWHandleActThread").handleActThreadWhenAuthoritativeInMI(t,{authoritativeThreadKey:c,description:(e=a.reason)!=null?e:"bulkCreateThreadWithoutAfterTxn",instanceKey:m,jid:d,optimisticThreadKey:g})})})),await o("MAWBridgeParticipantsUpdatedHandler").callFromMainThread(t,i)}}function h(e){return o("MAWMiActMappingTableAPI").subscribeToMappingDeletion(e,function(e,t){var n=o("MAWJids").convertIntJidToOneToOneChatJid(e);u.has(n)&&u.delete(n);var r=o("MAWJids").convertIntJidToGroupJid(e);u.has(r)&&u.delete(r)})}function y(e,t){u.clear(),o("WAArrayZip").zip(e,t).forEach(function(e){var t=e[0],n=e[1];return u.set(t,new Promise(function(e,t){return e(n)}))})}function C(t,n,a){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads).getKeyRange((e||(e=o("I64"))).of_string(n))).then(function(e){if(e!=null){var n=o("MAWFolderUtils").getMessagingFolderTag(a),r=n==="inbox"?void 0:e.cannotReplyReason;return t.threads.put(babelHelpers.extends({},e,{cannotReplyReason:r}))}}).then(r("emptyFunction"))}l.bulkVerifyThreadExistsInWorker=_,l.executePromisesBlockedOnActThreadMapping=f,l.setCache_TEST_ONLY=y}),98);
__d("MAWLoadThreadFromMI",["LSAuthorityLevel","LSFactory","LSIntEnum","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,i,l){var s=r("LSAuthorityLevel").AUTHORITATIVE;return i!=null&&o("MAWThreadMappingQPL").addAnnotations({int:{sprocAuthLevel:s,sprocThreadType:a}},i),o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("verify_thread_exists",i,function(){return o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(t),{authorityLevel:(e||(e=o("LSIntEnum"))).ofNumber(s),threadKey:n,threadType:e.ofNumber(a)},l).then(function(e){var t=e[0];return t})})}l.default=s}),98);
__d("MAWHandleActThread",["FBLogger","I64","LSFactory","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWJids","MAWLoadThreadFromMI","MAWThreadLoadingState","MAWThreadMappingQPL","Promise","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){return o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",n,function(){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:o("MAWJids").convertChatJidToIntJid(t)})})}function c(e,t){var n=t.description,o=t.instanceKey,a=t.isGroup,i=t.threadKey,l=a?16:15;return r("MAWLoadThreadFromMI")(e,i,l,o,n).then(function(e){e!==i&&r("FBLogger")("messenger_web").warn("[MAWLoadThreadFromMI] Unexpected thread key change when loading from MI")})}function d(t,r){var a=r.description,i=r.instanceKey,l=r.jid,c=r.optimisticThreadKey;i!=null&&o("MAWThreadMappingQPL").addPoint("handle_act_thread_optimistic_start",i),o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:null,description:a,instanceKey:i,jid:l,optimisticThreadKey:c});var d=(s||(s=o("I64"))).of_string(c);return(e||(e=n("Promise"))).all([u(t,l,i),o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(t,{jid:l,threadKey:d},i),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").insertEphemeralCache(t,d,l,i)]).then(function(){if(i!=null)return o("MAWThreadMappingQPL").addPoint("handle_act_thread_optimistic_end",i),o("MAWThreadMappingQPL").end({instanceKey:i,intJid:o("MAWJids").convertChatJidToIntJid(l),tables:t,threadKey:d})})}function m(t,r){var a=r.authoritativeThreadKey,i=r.description,l=r.instanceKey,u=r.jid,d=r.optimisticThreadKey;l!=null&&o("MAWThreadMappingQPL").addPoint("handle_act_thread_authoritative_start",l);var m=o("WAJids").switchOnMsgrChatJidType(u,{group:function(t){return!0},user:function(t){return!1}});o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:a,description:i,instanceKey:l,jid:u,optimisticThreadKey:d});var p=(s||(s=o("I64"))).of_string(a);return o("MAWThreadLoadingState").genLoadingStateFromJid(t,u).then(function(r){return(e||(e=n("Promise"))).all([!o("MAWThreadLoadingState").isMiReady(r)&&c(t,{description:i,instanceKey:l,isGroup:m,threadKey:p}),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").attachLocalMetadata(t,p,{clientThreadKey:d,isGroup:m}),d!=null&&o("MAWBridgeOccamadilloVerifyThreadExistsHandler").ensureOptimisticThreadIsHidden(t,p,(s||(s=o("I64"))).of_string(d)),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").insertEphemeralCache(t,p,u,l),o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(t,{jid:u,threadKey:p},l)])}).then(function(){if(l!=null)return o("MAWThreadMappingQPL").addPoint("handle_act_thread_authoritative_end",l),o("MAWThreadMappingQPL").end({instanceKey:l,intJid:o("MAWJids").convertChatJidToIntJid(u),tables:t,threadKey:p})})}l.handleActThreadWhenOptimisticInMI=d,l.handleActThreadWhenAuthoritativeInMI=m}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(){return r("qex")._("327")===!0?!0:r("qex")._("121")===!0}function m(e){return d()?o("LSBitOffset").set((c||(c=o("LSIntEnum"))).ofNumber(42),e):e}function p(e){return o("LSBitOffset").set((c||(c=o("LSIntEnum"))).ofNumber(4),e)}var _=(e=o("LSBitOffset")).set((c||(c=o("LSIntEnum"))).ofNumber(18),o("LSBitOffset").set(c.ofNumber(56),o("LSBitOffset").set(c.ofNumber(14),o("LSBitOffset").set(c.ofNumber(23),o("LSBitOffset").set(c.ofNumber(8),o("LSBitOffset").set(c.ofNumber(15),o("LSBitOffset").set(c.ofNumber(2),o("LSBitOffset").empty))))))),f=m(p(o("LSBitOffset").set(c.ofNumber(7),o("LSBitOffset").set(c.ofNumber(6),o("LSBitOffset").set(c.ofNumber(9),o("LSBitOffset").set(c.ofNumber(10),o("LSBitOffset").set(c.ofNumber(19),o("LSBitOffset").set(c.ofNumber(35),o("LSBitOffset").set(c.ofNumber(3),o("LSBitOffset").set(c.ofNumber(43),_)))))))))),g=o("LSBitOffset").set(c.ofNumber(17),o("LSBitOffset").set(c.ofNumber(60),o("LSBitOffset").set(c.ofNumber(16),o("LSBitOffset").set(c.ofNumber(26),o("LSBitOffset").set(c.ofNumber(28),o("LSBitOffset").clear(c.ofNumber(27),f)))))),h=o("LSBitOffset").set((u||(u=o("I64"))).sub(c.ofNumber(103),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(85),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(109),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(74),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(65),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(64),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(106),u.of_string("64")),o("LSBitOffset").empty))))))),y=s._(/*BTDS*/"\u10e8\u10d4\u10e2\u10e7\u10dd\u10d1\u10d8\u10dc\u10d4\u10d1\u10d4\u10d1\u10d8 \u10d3\u10d0\u10ea\u10e3\u10da\u10d8\u10d0 \u10d2\u10d0\u10db\u10ed\u10dd\u10da\u10d8 \u10d3\u10d0\u10e8\u10d8\u10e4\u10d5\u10e0\u10d8\u10d7").toString(),C=o("LSBitOffset").set(u.sub(c.ofNumber(172),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(170),u.of_string("64")),o("LSBitOffset").empty));l.defaultThreadCapabilities=f,l.defaultGroupThreadCapabilities=g,l.defaultThreadCapabilities_2=h,l.nullstateDescriptionText1=y,l.defaultThreadCapabilities_3=C,l.defaultThreadCapabilities_4=o("LSBitOffset").empty,l.defaultThreadCapabilities_5=o("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["I64","LSAuthorityLevel","LSFactory","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWActThreadMapping","MAWBridgeFireAndForget","MAWJids","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActThreadLifecycleState__DO_NOT_USE","MAWThreadDefaults","MAWThreadLoadingState","MAWThreadMappingQPL","MWFBLogger","WATimeUtils","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=["cannotReplyReason","folder","lastReadTs"],s,u,c=o("MWFBLogger").MWLogger().tags(["Occam","VerifyThreadExists"]),d=r("gkx")("16094")?[105,17,25,24,61,267,27]:[105,17,25,24,61,267];function m(e,t){var n=d.filter(function(t){return o("LSThreadBitOffset").has(t,e)});return o("LSThreadBitOffset").set(n,t?o("MAWThreadDefaults").defaultGroupThreadCapabilities:o("MAWThreadDefaults").defaultThreadCapabilities,o("MAWThreadDefaults").defaultThreadCapabilities_2,o("MAWThreadDefaults").defaultThreadCapabilities_3,o("MAWThreadDefaults").defaultThreadCapabilities_4,o("MAWThreadDefaults").defaultThreadCapabilities_5)}async function p(e,t,n){var r=await e.threads.get(t);if(r==null)return c.mustfix("Thread missing in verify thread exists"),Promise.resolve();var a=n.clientThreadKey!=null?(u||(u=o("I64"))).of_string(n.clientThreadKey):r.clientThreadKey,i=m(r,n.isGroup);return e.threads.upsert([t],babelHelpers.extends({},r,{capabilities:i[0],capabilities2:i[1],capabilities3:i[2],capabilities4:i[3],capabilities5:i[4],clientThreadKey:a}))}async function _(e,t,n,r){await Promise.all([o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(e,{intJid:n,threadKey:t},r.instanceKey),g(e,t,r)])}async function f(e,t,n){(u||(u=o("I64"))).equal(t,n)||await e.threads.delete(n)}async function g(e,t,n){var r=n.clientThreadKey,a=n.instanceKey,i=n.isGroup;await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("handle_existing_thread",a,function(){return Promise.all([p(e,t,{clientThreadKey:r,isGroup:i}),r!=null&&f(e,t,(u||(u=o("I64"))).of_string(r))])})}async function h(e,t){var n=t.authoritativeThreadKey,a=t.clientThreadKey,i=t.instanceKey,l=t.intJid;i!=null&&o("MAWThreadMappingQPL").allowToSkipUpgradingOptimisticThreadInMI(i);var s=n!=null?n:a;s!=null&&(await o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(e,{intJid:l,threadKey:(u||(u=o("I64"))).of_string(s)},i),await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",i,function(){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:l})}))}async function y(e,t,n){var a=await e.threads.get(t);a!=null&&(u||(u=o("I64"))).to_int32(a.authorityLevel)===r("LSAuthorityLevel").AUTHORITATIVE?await g(e,t,n):n.instanceKey!=null&&o("MAWThreadMappingQPL").handleExistingThreadFail(n.instanceKey,a),a==null&&c.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Authoritative thread not found for clientThreadKey: ",""])),n.clientThreadKey)}async function C(e,t){var n=t.authoritativeThreadKey,r=t.clientThreadKey,a=t.description,i=t.instanceKey,l=t.isGroup,s=t.jid,u=o("MAWJids").convertChatJidToIntJid(s),d=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJidOrThreadKey(e,u,n,"MAWBridgeOccamadilloVerifyThreadExistsHandler");switch(i!=null&&o("MAWThreadMappingQPL").addAnnotations({string:{threadStateInOccamVTE:d.type.toString()}},i),d.type){case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.THREAD_KEY_ONLY:return h(e,{authoritativeThreadKey:n,clientThreadKey:r,instanceKey:i,intJid:u}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:return _(e,d.serverThreadKey,u,{clientThreadKey:r,instanceKey:i,isGroup:l}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:return y(e,d.serverThreadKey,{clientThreadKey:r,instanceKey:i,isGroup:l}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c.mustfixThrow("[Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",d.type,s,a);default:throw d.type,c.mustfixThrow("Unhandled VerifyThreadExists state: %s for JID: %s, from %s",d.type,s,a)}}async function b(e,t,n,r){await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("insert_ephemeral_cache",r,async function(){var r=await e.threads.get(t);if(r!=null){var a,i,l={ephemeralExpirationInSec:(u||(u=o("I64"))).to_int32((a=r.disappearingSettingTtl)!=null?a:(u||(u=o("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:o("WATimeUtils").castMilliSecondsToUnixTime(u.to_float((i=r.disappearingSettingUpdatedTs)!=null?i:(u||(u=o("I64"))).zero))};o("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:n,settings:l})}})}async function v(t,n){var r=n.cannotReplyReason,a=n.folder,i=n.lastReadTs,l=babelHelpers.objectWithoutPropertiesLoose(n,e),s=l.authoritativeThreadKey,c=l.clientThreadKey,d=l.description,m=l.instanceKey,p=l.jid;m!=null&&o("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_start",m);var _=await C(t,l),f=_.previousState;o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:s,description:d,instanceKey:m,jid:p,optimisticThreadKey:c});var g=s!=null?s:c,h=g!=null?(u||(u=o("I64"))).of_string(g):null;if(h!=null&&f!==o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE&&await b(t,h,p,m),m!=null){o("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_end",m);var y=o("MAWJids").convertChatJidToIntJid(l.jid);o("MAWThreadMappingQPL").pendingThreadCreationOnServer.has((u||(u=o("I64"))).to_string(y))||await o("MAWThreadMappingQPL").end({instanceKey:m,intJid:y,tables:t,threadKey:h})}}l.attachLocalMetadata=p,l.ensureOptimisticThreadIsHidden=f,l.genUpdatesForAuthoritativeThread=g,l.insertEphemeralCache=b,l.call=v}),98);
__d("WMIWABridgeApi",["MAWBridgeSendAndReceive"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o("MAWBridgeSendAndReceive").sendAndReceive("backend","waapi",{args:n,type:e})}}var s={getCurrentUserDeviceList:e("getCurrentUserDeviceList"),getDevices:e("getDevices"),getIdentityKeys:e("getIdentityKeys"),queryGroups:e("queryGroups"),removeCurrentDevice:e("removeCurrentDevice"),removeDevice:e("removeDevice")},u=s;l.default=u}),98);
__d("MAWCreateOneToOneThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","MAWBridgeSendAndReceive","MAWHandleActThread","MAWJids","MAWMiActMappingTableAPI","MAWThreadLoadingState","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils","QPLUserFlow","WMIWABridgeApi","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=["instanceKey"],s,u;function c(e,t,n,r){if(t!=null)return t;var a=n!=null?(s||(s=o("I64"))).of_string(n):void 0,i=o("MAWThreadMappingQPL").getInstanceKeyForThreadKey(a!=null?a:(s||(s=o("I64"))).zero);return o("MAWThreadMappingQPL").start({instanceKey:i,jid:e,threadKey:a,trigger:"MAWCreateOneToOneThread_"+r}),i}async function d(e,t,n){var a=await o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(e),{authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),threadType:u.ofNumber(15)},"MAWCreateOneToOneThread"),i=a[0];if(r("gkx")("17734")){var l=await e.threads.get(i);l==null?r("FBLogger")("maw_one_to_one_thread_creation").mustfix("No thread written to threads table"):await e.threads.upsert([i],babelHelpers.extends({},l,{clientThreadKey:i}))}var c=await y(e,t);return c===!0&&(o("MAWThreadMappingQPL").addPoint("insert_placeholder_mapping_row",n),await o("MAWThreadLoadingState").markActThreadLoadingAsInProgress(e,i,o("MAWJids").convertChatJidToIntJid(t))),(s||(s=o("I64"))).to_string(i)}async function m(e){var t=e.db,n=e.description,r=e.existingInstanceKey,a=e.jid,l=e.optimisticThreadKey,s=await f(t.tables,a);if(s!=null)return{skippedOrFailedResult:babelHelpers.extends({},s,{jid:a})};var u=c(a,r,l,n),m=t.runInTransaction(function(e){return d(e,a,u)},"readwrite",void 0,void 0,i.id+":159"),p=await(l!=null?Promise.resolve(l):o("MAWThreadMappingQPL").measurePerformance("running_verify_thread_exists",u,function(){return m}));return{instanceKey:u,passedOptimisticThreadKey:p}}function p(e){var t=e.db,n=e.description,r=e.existingInstanceKey,a=e.jid,l=e.optimisticThreadKey;return t.runInTransaction(async function(e){var t=await f(e,a);if(t!=null)return{skippedOrFailedResult:babelHelpers.extends({},t,{jid:a})};var i=c(a,r,l,n),s=await(l!=null?Promise.resolve(l):o("MAWThreadMappingQPL").measurePerformance("running_verify_thread_exists",i,function(){return d(e,a,i)}));return{instanceKey:i,passedOptimisticThreadKey:s}},"readwrite",void 0,void 0,i.id+":182").catch(function(){return{skippedOrFailedResult:{isCreated:!1,jid:a}}})}async function _(e,t,n,a,i,l){var u=o("MAWJids").convertIntJidToOneToOneChatJid(t),c={db:e,description:a,existingInstanceKey:l,jid:u,optimisticThreadKey:n},d=await(r("gkx")("17734")?p(c):m(c));if(d.skippedOrFailedResult!=null)return d.skippedOrFailedResult;var _=d.instanceKey,f=d.passedOptimisticThreadKey,g=(s||(s=o("I64"))).to_string(t),y=function(n){i!=null&&r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"verify-e2ee-metadata-thread-exists-end",{instanceKey:i});var t={contactFbid:g,description:a,instanceKey:_,s2sInstanceKey:i,threadKey:n},l=h(e,u,a,t);return Promise.all([l,r("WMIWABridgeApi").getDevices({ignoreDhash:!1,reason:"creating-1-1-thread: "+a,users:new Set().add(o("MAWJids").toUserJid(g))})]).then(function(e){var t=e[0].isCreated;return t})};return y(f).then(function(e){return{isCreated:e,jid:u}})}async function f(e,t){var n=await o("MAWThreadLoadingState").genLoadingStateFromJid(e,t);if(n.miState!==o("MAWThreadLoadingState").MiState.MISSING)return{isCreated:!1}}function g(e,t,n){return o("MAWMiActMappingTableAPI").getMappingRowForChatJid(e,n).then(function(r){return r!=null&&o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(e,{jid:n,threadKey:(s||(s=o("I64"))).of_string(t)})})}function h(t,n,r,a){var l=a.instanceKey,s=babelHelpers.objectWithoutPropertiesLoose(a,e);return o("MAWThreadMappingQPL").measurePerformance("maw_create_thread",l,function(){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","createOrUpdateThread",s)}).then(function(e){var a=e.created;return t.runInTransaction(function(e){return o("MAWHandleActThread").handleActThreadWhenOptimisticInMI(e,{description:r,instanceKey:l,jid:n,optimisticThreadKey:s.threadKey}).then(function(){return g(e,s.threadKey,n).then(function(){return{isCreated:a}})})},"readwrite",void 0,void 0,i.id+":337")})}async function y(e,t){var n=await o("MAWMiActMappingTableAPI").getMappingRowForChatJid(e,t);return n==null}l.call=_}),98);
__d("MAWChatOpenTabForUser",["I64","LSDatabaseSingleton","LSIntEnum","MAWCreateOneToOneThread","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMiActThreadLifecycleState__DO_NOT_USE","MAWUpdateSecureThreadAttributionForContact","MWChatInteraction","MWChatStateActions","MWChatStateV2Types","dispatchOpenChatTabTraceLogging","isOfflineThreadingId"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){if(t.type===o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE||t.type===o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY){var n=t.serverThreadKey;return r("isOfflineThreadingId")(n)?{existingThreadKey:n,reason:"otid",type:"continue"}:(e||(e=o("I64"))).le(n,(e||(e=o("I64"))).zero)?{reason:"negative",type:"continue"}:{existingThreadKey:n,type:"skipped"}}return{existingThreadKey:t.serverThreadKey,type:"continue"}}async function d(t,n,r){var a=await(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r==null||r.addMarkerPoint("create_one_to_one_secure_thread_start","AppTiming");var l=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(a.tables,(e||(e=o("I64"))).of_string(t),n),u=l.type;u!=null&&(r==null||r.addAnnotation("mi_act_thread_state_type_before",u));var d=await c(l);if(d.type==="skipped")return r==null||r.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming"),{dispatchEntrypoint:"MAWChatOpenTabForUser_skipped_create_thread",threadKey:d.existingThreadKey};d.reason!=null&&(r==null||r.addAnnotation("invalid_server_thread_key_in_mawchatopentabforuser_check",d.reason));var m=await o("MAWCreateOneToOneThread").call(a,e.of_string(t),void 0,"MAWChatOpenTabForUser: "+n),p=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(a.tables,e.of_string(t),n),_=p.type;_!=null&&(r==null||r.addAnnotation("mi_act_thread_state_type_after",_)),r==null||r.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming");var f=await a.runInTransaction(function(e){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJid__DO_NOT_USE(e,m.jid,"MAWChatOpenTabForUser",function(e,t){return Promise.resolve(t)})},"readonly",void 0,void 0,i.id+":147");return{clientThreadKey:f,threadKey:f}}function m(t,n,a,i,l){var s=function(s){var i=s.clientThreadKey,c=s.dispatchEntrypoint,d=s.threadKey;o("MWChatInteraction").set((e||(e=o("I64"))).to_string(d),l.getTraceId()),o("MAWUpdateSecureThreadAttributionForContact").maybeUpdateSecureThreadAttributionForContact(e.of_string(t),d);var m={clientThreadKey:i,threadKey:d,threadType:(u||(u=o("LSIntEnum"))).ofNumber(15)};r("dispatchOpenChatTabTraceLogging")(l,m,c),a(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:!n},{threadKeyDescriptor:m,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab}))};l.addMarkerPoint("MAWChatOpenTabForUser_getThreadKeyByContactId_start","AppTiming"),d(t,i,l).then(function(e){var t=e.clientThreadKey,n=e.dispatchEntrypoint,r=e.threadKey;l.addMarkerPoint("MAWChatOpenTabForUser_getThreadKeyByContactId_end","AppTiming"),s({clientThreadKey:t,dispatchEntrypoint:n!=null?n:"MAWChatOpenTabForUser",threadKey:r})})}l.getThreadKeyByContactId=d,l.openChatTab=m}),98);
__d("MWV2OnAuthoritativeThreadInsert",["I64","LSAuthorityLevel","LSIntEnum","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){var i=t[0],l=o("ReQL").fromTableAscending(n.tables.threads.index("clientThreadKey")).getKeyRange(i).subscribe(function(t,n){if(n.operation!=="delete"){var i=n.value;if((e||(e=o("I64"))).equal(i.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return a(i),l()}})}l.onAuthoritativeThreadInsert=u}),98);/*FB_PKG_DELIM*/
__d("CometTrackingCodeProvider.react",["CometTrackingCodeContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo;function m(e,t){return e&&e!==""?t.concat(e):t}function p(e){var t=o("react-compiler-runtime").c(16),n=e.children,a=e.trackingCode,i=a.click_tracking_linkshim_cb,l=a.encrypted_click_tracking,u=a.encrypted_tracking,d=c(r("CometTrackingCodeContext")),p;t[0]!==i||t[1]!==d.click_tracking_linkshim_cb?(p=m(i,d.click_tracking_linkshim_cb),t[0]=i,t[1]=d.click_tracking_linkshim_cb,t[2]=p):p=t[2];var _;t[3]!==l||t[4]!==d.encrypted_click_tracking?(_=m(l,d.encrypted_click_tracking),t[3]=l,t[4]=d.encrypted_click_tracking,t[5]=_):_=t[5];var f;t[6]!==u||t[7]!==d.encrypted_tracking?(f=m(u,d.encrypted_tracking),t[6]=u,t[7]=d.encrypted_tracking,t[8]=f):f=t[8];var g;t[9]!==p||t[10]!==_||t[11]!==f?(g={click_tracking_linkshim_cb:p,encrypted_click_tracking:_,encrypted_tracking:f},t[9]=p,t[10]=_,t[11]=f,t[12]=g):g=t[12];var h=g,y;return t[13]!==n||t[14]!==h?(y=s.jsx(r("CometTrackingCodeContext").Provider,{value:h,children:n}),t[13]=n,t[14]=h,t[15]=y):y=t[15],y}var _=s.memo(p);l.default=_}),98);
__d("CometVideoPlayerLoggingConfigForDisabledLogging",[],(function(t,n,r,o,a,i){"use strict";function e(){return{disableCVCSubscription:!0,disableLogging:!0,loggingToSNAPLCreateMetadataProvider:null,loggingToSNAPLEnabled:!1,loggingToVPLEnabled:!1}}i.createCometVideoPlayerLoggingConfigForDisabledLogging=e}),66);
__d("MediaPlaybackCompoundEventUtils",["CometProductAttribution"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e!=null&&e.v2&&(e==null?void 0:e.v2.length)>0){var t=e==null?void 0:e.v2,n=t[t.length-1];return[n.class,n.module].map(o("CometProductAttribution").filterEntryValue).join(":")}return""}function s(e){var t=0;switch(e){case"autoplay_initiated":t=1;break;case"loop_initiated":t=7;break;case"product_initiated":t=8;break;case"user_initiated":t=2;break;default:break}return t}function u(e){var t="unknown";switch(e){case"EXCELLENT":t="excellent";break;case"GOOD":t="good";break;case"MODERATE":t="moderate";break;case"POOR":t="poor";break;default:break}return t}function c(e){return e?"on":"off"}function d(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString()}function m(t){return t.productAttribution!=null?e(t.productAttribution):void 0}function p(e){return e.productAttribution!=null?o("CometProductAttribution").minifyProductAttributionV2(e.productAttribution):void 0}l.minifyProductAttributionV2Root=e,l.getMediaPlaybackPlayReason=s,l.getMediaPlaybackDataConnectionQuality=u,l.getMediaPlaybackCaptionState=c,l.stringifyMediaPlaybackMetadata=d,l.getMediaPlaybackAttributionIDV2Root=m,l.getMediaPlaybackAttributionIDV2=p}),98);
__d("MediaPlaybackMetadataProvider",["MediaPlaybackCompoundEventUtils","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","getPlayerFormatForLogData","mapObject"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=function(t){return s=s!=null?s:document.createElement("video"),"canPlayType"in s?s.canPlayType(t):""};function c(e){var t=e.controlledState.playbackState;switch(t){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:return"unknown"}}function d(t,n,o,a,i){var l=t.controlledState.error===o?babelHelpers.extends({},t,{controlledState:babelHelpers.extends({},t.controlledState,{error:{$ref:"$.player.lastError"}})}):t;t.uncontrolledState.videoElementError!=null&&(l=babelHelpers.extends({},l,{uncontrolledState:babelHelpers.extends({},l.uncontrolledState,{videoElementError:{code:t.uncontrolledState.videoElementError.code,message:t.uncontrolledState.videoElementError.message}})}));var s=n;{var d=typeof n.payload=="object"&&n.payload!=null?n.payload:null;if(d!=null){var m={};Object.keys(d).forEach(function(e){var t=d[e];t===o?m[e]={$ref:"$.player.lastError"}:m[e]=t}),s=babelHelpers.extends({},n,{payload:m})}}var p={"application/vnd.apple.mpegurl":"application/vnd.apple.mpegurl","application/x-mpegURL":"application/x-mpegURL","video/mp4":"video/mp4","video/ogg":"video/ogg","video/webm":"video/webm"};return{currentVideo:{audioStreamId:t.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:t.controlledState.captionsLoaded,isDrm:!!i.graphQLVideoDRMInfo,isHD:void 0,isLiveStream:i.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:t.uncontrolledState.videoProjection,resourceUrl:void 0,streamId:t.uncontrolledState.videoRepresentationID,streamType:t.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:i.videoFBID},player:{canPlayType:(e||(e=r("mapObject")))(p,u),dimensions:a.dimensions?{height:a.dimensions.height,width:a.dimensions.width}:null,droppedFrames:t.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:o,loggedError:void 0,stallCount:void 0,stallTime:void 0,state:c(t),totalFrames:t.uncontrolledState.videoElementTotalFrameCount,version:t.playerVersion,videoSource:void 0,viewabilityPercentage:t.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:s,state:l}}}function m(e){var t=e.action,n=e.coreVideoPlayerMetaData,r=e.loggingMetaData,a=e.state,i=e.videoPlayerError,l=i.errorMessageFormat,s=i.errorName,u=i.errorType,c=i.errorCode==null||i.errorCode===""?s:i.errorCode,m=d(a,t,i,r,n),p={code:c,description:l,domain:s,error:s,type:String(u!=null?u:o("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(s,l)),user_info:JSON.stringify(m)};return p}function p(e,t,n,r){var o,a,i,l=_(e,t,n);return{attribution_id_v2_root:void 0,author_id:r.author_id,current_watching_module:(o=r.current_watching_module)!=null?o:"",is_audio_only:t.audioOnly,is_live_streaming:(a=t.isLiveStreaming)!=null?a:void 0,media_id:t.videoFBID,nav_chain:r.nav_chain,player_format:l.player_format,player_origin:t.playerOriginOverride,player_suborigin:t.subOrigin,player_version:e.playerVersion,sessionizer_nav_chain:void 0,tracking_data_encrypted:n.trackingDataEncrypted,tracking_token:r.tracking_token,tracking_type:(i=r.tracking_type)!=null?i:"none",video_play_reason:l.video_play_reason}}function _(e,t,n){var a,i,l,s,u,c,d,m;return{attribution_id_v2:o("MediaPlaybackCompoundEventUtils").getMediaPlaybackAttributionIDV2(n),audio_representation_id:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.audioRepresentationID),autoplay_eligible:t.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(t.autoplayGatingResult?[t.autoplayGatingResult]:[]),autoplay_setting:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(t.autoplaySetting),available_qualities_count:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.availableQualities.length),caption_format:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.controlledState.captionFormat),caption_locale:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.controlledState.captionsLocale),caption_state:o("MediaPlaybackCompoundEventUtils").getMediaPlaybackCaptionState(e.controlledState.captionsVisible),client_latency_setting:e.controlledState.latencyLevel,current_viewability:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.viewabilityPercentage),dash_manifest_identifier:e.uncontrolledState.manifestIdentifier,data_connection_quality:o("MediaPlaybackCompoundEventUtils").getMediaPlaybackDataConnectionQuality(o("VideoPlayerConnectionQuality").evaluate(function(){return e.uncontrolledState.estimatedBandwidth})),downstream_share_origin_uri:(a=n.downstreamShareSignalTracking)==null?void 0:a.downstream_share_session_origin_uri,downstream_share_start_time:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata((i=n.downstreamShareSignalTracking)==null?void 0:i.downstream_share_session_start_time),downstream_share_visit_uuid:(l=n.downstreamShareSignalTracking)==null?void 0:l.downstream_share_session_id,dropped_frame_count:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.videoElementDroppedFrameCount),external_log_id:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(t.externalLogID),external_log_type:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(t.externalLogType),is_abr_enabled:e.isAbrEnabled,is_fbms:(s=e.uncontrolledState.isFBMS)!=null?s:void 0,is_live_video_rewound:e.controlledState.isLiveRewindActive,is_mixed_codec_manifest:(u=e.uncontrolledState.isMixedCodecManifest)!=null?u:void 0,is_predictive_playback:e.uncontrolledState.isPredictiveDash,mpd_validation_errors:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.mpdValidationErrors),playback_speed:e.uncontrolledState.videoElementPlaybackRate,player_format:r("getPlayerFormatForLogData")({isDesktopPictureInPicture:(c=e.controlledState.isDesktopPictureInPicture)!=null?c:!1,isFullscreen:e.uncontrolledState.isFullscreen},t.playerFormat),player_sound_on:!(e.controlledState.muted||e.controlledState.volume===0),projection:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.videoProjection),streaming_format:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.controlledState.streamingFormat),total_frame_count:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.videoElementTotalFrameCount),video_bandwidth:(d=e.uncontrolledState.estimatedBandwidth)!=null?d:void 0,video_play_reason:e.controlledState.lastPlayReason!=null?o("MediaPlaybackCompoundEventUtils").getMediaPlaybackPlayReason(e.controlledState.lastPlayReason):null,video_projection:(m=e.uncontrolledState.videoProjection)!=null?m:void 0,video_representation_id:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.videoRepresentationID),view_height:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.floor(n.dimensions.height)),view_width:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.floor(n.dimensions.width))}}l.getSNAPLErrorMetadataCommon=m,l.getSNAPLRequiredMetadataCommon=p,l.getSNAPLTagMetadataCommon=_}),98);
__d("FBVideoMetadataProvider",["MediaPlaybackCompoundEventUtils","MediaPlaybackMetadataProvider","getVideoBrowserTabId"],(function(t,n,r,o,a,i,l){"use strict";function e(){return{getErrorMetadata:o("MediaPlaybackMetadataProvider").getSNAPLErrorMetadataCommon,getRequiredMetadata:function(t){var e=t.coreVideoPlayerMetaData,n=t.logDataAdditions,a=t.loggingMetaData,i=t.state,l=e.adClientToken==null?"organic":"paid",s=o("MediaPlaybackCompoundEventUtils").getMediaPlaybackAttributionIDV2Root(a),u=o("MediaPlaybackMetadataProvider").getSNAPLRequiredMetadataCommon(i,e,a,n),c=o("MediaPlaybackMetadataProvider").getSNAPLTagMetadataCommon(i,e,a),d=babelHelpers.extends({},u,{browser_tab_id:r("getVideoBrowserTabId")(),current_watching_module:"",nav_chain:c.attribution_id_v2,sessionizer_nav_chain:s!=null?s:null,tracking_token:void 0,tracking_type:l,trackings:void 0});return d},getTagMetadata:function(t){var e=t.coreVideoPlayerMetaData,n=t.logDataAdditions,r=t.loggingMetaData,a=t.state,i=o("MediaPlaybackMetadataProvider").getSNAPLTagMetadataCommon(a,e,r),l=babelHelpers.extends({},i,{video_chaining_depth_level:n.video_chaining_depth_level,video_chaining_parent_video_id:n.video_chaining_parent_video_id,video_chaining_session_id:n.video_chaining_session_id});return l}}}l.createFBVideoMetadataProvider=e}),98);
__d("CometVideoPlayerLoggingConfigForFBWeb",["CometVideoPlayerLoggingConfigForDisabledLogging","FBVideoMetadataProvider","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return(e==null?void 0:e.disableLogging)===!0?o("CometVideoPlayerLoggingConfigForDisabledLogging").createCometVideoPlayerLoggingConfigForDisabledLogging():{loggingToSNAPLCreateMetadataProvider:o("FBVideoMetadataProvider").createFBVideoMetadataProvider,loggingToSNAPLEnabled:(e==null?void 0:e.withFBWebSNAPLGK)===!0?r("gkx")("1460"):void 0}}l.createCometVideoPlayerLoggingConfigForFBWeb=e}),98);
__d("VideoHomeTypedLiteLogger",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:VideoHomeLoggerConfig")}),null);
__d("VideoPlayerControlsHiddenContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("VideoPlayerControlIcon.react",["BaseFocusRing.react","BaseTooltip.react","CometPressable.react","CometTooltipImpl.react","FDSIcon.react","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["tooltipOffsetY","children"],s=["color","disabled","icon","label","tooltip","tooltipAlign","tooltipImpl","tooltipOffsetY"],u,c=u||(u=o("react")),d=u.useContext,m={default:{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderInlineEnd:"xtmcdsl",borderBottom:"x112ta8",borderInlineStart:"x4gj9lk",cursor:"x1ypdohk",display:"x1rg5ohu",height:"x1qx5ct2",marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",opacity:"x1iy03kw",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",":hover_opacity":"x1o7uuvo",$$css:!0},disabled:{cursor:"xt0e3qv",opacity:"xbyyjgo",":hover_opacity":"xj34u2y",$$css:!0},dropShadow:{filter:"x1qo4wvw",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(21),a,i,l;n[0]!==t?(l=t.tooltipOffsetY,a=t.children,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s=Math.min(0,l!=null?l:0),u;n[4]===Symbol.for("react.memo_cache_sentinel")?(u="xuk3077 x78zum5 x14atkfc",n[4]=u):u=n[4];var d;n[5]!==s?(d={marginTop:s},n[5]=s,n[6]=d):d=n[6];var m;n[7]===Symbol.for("react.memo_cache_sentinel")?(m="xuk3077 x78zum5 x14atkfc",n[7]=m):m=n[7];var p=-s,_;n[8]!==p?(_={paddingTop:p},n[8]=p,n[9]=_):_=n[9];var f;n[10]!==a?(f=typeof a=="function"?a(void 0):a,n[10]=a,n[11]=f):f=n[11];var g;n[12]!==_||n[13]!==f?(g=c.jsx("span",{className:m,style:_,children:f}),n[12]=_,n[13]=f,n[14]=g):g=n[14];var h;n[15]!==i||n[16]!==g?(h=c.jsx(r("BaseTooltip.react"),babelHelpers.extends({},i,{children:g})),n[15]=i,n[16]=g,n[17]=h):h=n[17];var y;return n[18]!==d||n[19]!==h?(y=c.jsx("span",{className:u,style:d,children:h}),n[18]=d,n[19]=h,n[20]=y):y=n[20],y}function _(e){var t=o("react-compiler-runtime").c(23),n,a,i,l,u,_,f,g,h;t[0]!==e?(u=e.color,a=e.disabled,i=e.icon,l=e.label,_=e.tooltip,f=e.tooltipAlign,g=e.tooltipImpl,h=e.tooltipOffsetY,n=babelHelpers.objectWithoutPropertiesLoose(e,s),t[0]=e,t[1]=n,t[2]=a,t[3]=i,t[4]=l,t[5]=u,t[6]=_,t[7]=f,t[8]=g,t[9]=h):(n=t[1],a=t[2],i=t[3],l=t[4],u=t[5],_=t[6],f=t[7],g=t[8],h=t[9]);var y=u===void 0?"white":u,C=_===void 0?null:_,b=f===void 0?"start":f,v=d(r("VideoPlayerControlsHiddenContext")),S=g!=null?g:r("CometTooltipImpl.react"),R;t[10]!==n||t[11]!==y||t[12]!==a||t[13]!==i||t[14]!==v||t[15]!==l?(R=c.jsx(r("BaseFocusRing.react"),{children:function(t){return c.jsx(r("CometPressable.react"),babelHelpers.extends({},n,{disabled:a,display:"inline",label:l,overlayDisabled:!0,testid:void 0,xstyle:[m.default,a===!0&&m.disabled,t,v===!0&&m.dropShadow],children:c.jsx(r("FDSIcon.react"),{color:y,icon:i,size:20})}))}}),t[10]=n,t[11]=y,t[12]=a,t[13]=i,t[14]=v,t[15]=l,t[16]=R):R=t[16];var L;return t[17]!==S||t[18]!==R||t[19]!==C||t[20]!==b||t[21]!==h?(L=c.jsx(p,{align:b,position:"above",tooltip:C,tooltipImpl:S,tooltipOffsetY:h,children:R}),t[17]=S,t[18]=R,t[19]=C,t[20]=b,t[21]=h,t[22]=L):L=t[22],L}l.default=_}),98);
__d("VideoPlayerControlsBottomRowAddOnContext",["react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useEffect,m=u.useState,p=s.createContext(null);function _(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=r("useStable")(f),i;return t[0]!==n||t[1]!==a?(i=s.jsx(p.Provider,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function f(){var e=null,t=null,n=null;return{getBottomRowAddOn:function(){return t},initialize:function(o){n=function(n){t=n,o(n)},e!=null&&(n(e),e=null)},setBottomRowAddOn:function(r){if(n==null){e=r;return}n(r)}}}function g(e){var t=o("react-compiler-runtime").c(3),n=c(p),r=m(e),a=r[0],i=r[1],l,s;return t[0]!==n?(l=function(){n!=null&&n.initialize(i)},s=[n],t[0]=n,t[1]=l,t[2]=s):(l=t[1],s=t[2]),d(l,s),a}function h(e){var t=o("react-compiler-runtime").c(4),n=c(p),r,a;t[0]!==e||t[1]!==n?(r=function(){n!=null&&n.setBottomRowAddOn(e)},a=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=a):(r=t[2],a=t[3]),d(r,a)}l.VideoPlayerControlsBottomRowAddOnContext=p,l.VideoPlayerControlsBottomRowAddOnContextProvider=_,l.useVideoPlayerControlsBottomRowAddOn=g,l.useSetVideoPlayerControlsBottomRowAddOn=h}),98);
__d("VideoPlayerDefaultControlsProperties",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["SAME_AS_OTHER_CONTROLS","SEPARATE_FROM_OTHER_CONTROLS"]),l=n("$InternalEnum")({VIDEO_CAPTIONS_MENU:"video_captions_menu",VIDEO_SETTINGS_MENU:"video_settings_menu"});i.MutedButtonVisibility=e,i.VideoMenuType=l}),66);
__d("createVideoStateHook",["VideoPlayerHooks","emptyFunction","gkx","react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useMemo,m=u.useSyncExternalStore,p=new Set,_=function(t){var e=new Map;p.add(e);var n=r("emptyFunction");function a(t,n){var r=e.get(t);return r||(r={consumers:new Set,key:t,lastValue:n},e.set(t,r)),r}function i(t,n){return{getSnapshot:function(){var r=e.get(t);return r==null?n:r.lastValue},setValue:function(r){var e=a(t,n),o;typeof r=="function"?o=r(e.lastValue):o=r,e.lastValue=o,e.consumers.forEach(function(e){e(o)})},subscribe:function(r){var e=a(t,n);return e.consumers.add(r),function(){e.consumers.delete(r)}}}}function l(e){var t=o("react-compiler-runtime").c(10),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.getSnapshot,p=c.setValue,_=c.subscribe,f;t[5]!==a?(f=function(){return a},t[5]=a,t[6]=f):f=t[6];var g=m(_,d,f),h;return t[7]!==p||t[8]!==g?(h=[g,p],t[7]=p,t[8]=g,t[9]=h):h=t[9],h}function u(e){var t=o("react-compiler-runtime").c(5),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.setValue;return d}function c(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.getSnapshot,p=c.subscribe,_;return t[5]!==a?(_=function(){return a},t[5]=a,t[6]=_):_=t[6],m(p,d,_)}return{setterHook:u,stateHook:l,valueHook:c}};function f(e){var t=o("react-compiler-runtime").c(3),n,r;t[0]!==e?(n=function(){return(function(){p.forEach(function(t){t.delete(e)})})},r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),c(n,r)}var g=_,h=f;l.createVideoStateHookImpl_SafeForConcurrentRendering=_,l.createVideoStateHook=g,l.useCleanupVideoStateHooks_INTERNAL=h}),98);
__d("VideoPlayerInstreamAdsStateHooks",["createVideoStateHook"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=o("createVideoStateHook")).createVideoStateHook(),u=s.stateHook,c=s.valueHook,d=[];function m(){return u(d)}function p(){return c(d)}var _=e.createVideoStateHook(),f=_.stateHook,g=_.valueHook,h=null;function y(){return f(h)}function C(){return g(h)}var b=e.createVideoStateHook(),v=b.setterHook,S=b.valueHook,R=!0;function L(){return v(R)}function E(){return S(R)}var k=e.createVideoStateHook(),I=k.stateHook,T=k.valueHook,D="INIT";function x(){return I(D)}function $(){return T(D)}var P=e.createVideoStateHook(),N=P.stateHook,M=P.valueHook,w=!0;function A(){return N(w)}function F(){return M(w)}var O=e.createVideoStateHook(),B=O.stateHook,W=O.valueHook,q=null;function U(){return B(q)}function V(){return W(q)}var H=e.createVideoStateHook(),G=H.stateHook,z=null;function j(){return G(z)}var K=e.createVideoStateHook(),Q=K.stateHook,X=null;function Y(){return Q(X)}var J=e.createVideoStateHook(),Z=J.stateHook,ee=null;function te(){return Z(ee)}var ne=e.createVideoStateHook(),re=ne.stateHook,oe=null;function ae(){return re(oe)}var ie=e.createVideoStateHook(),le=ie.stateHook,se=0;function ue(){return le(se)}var ce=e.createVideoStateHook(),de=ce.stateHook,me=!1;function pe(){return de(me)}var _e=e.createVideoStateHook(),fe=_e.stateHook,ge=_e.valueHook,he=null;function ye(){return fe(he)}function Ce(){return ge(he)}var be=e.createVideoStateHook(),ve=be.stateHook,Se=be.valueHook,Re=null;function Le(){return ve(Re)}function Ee(){return Se(Re)}function ke(){var e=$();return e==="STARTING_INDICATOR"||e==="START"||e==="START_AD"||e==="PLAY_NI_VIDEO"}l.useInstreamAdsMidRollsState=m,l.useInstreamAdsMidRollsValue=p,l.useInstreamAdsPostRollState=y,l.useInstreamAdsPostRollValue=C,l.useInstreamAdsPostRollEndedOrSkippedStateSetter=L,l.useInstreamAdsPostRollEndedOrSkippedStateValue=E,l.useInstreamAdsState=x,l.useInstreamAdsStateValue=$,l.useInstreamAdsIsEmptyState=A,l.useInstreamAdsIsEmptyStateValue=F,l.useInstreamAdsCurrentInsertionState=U,l.useInstreamAdsCurrentInsertionStateValue=V,l.useStartIndicatorBeginningTimeState=j,l.useAdBreaksTimeOffsetBeginningState=Y,l.useInstreamAdsExtraFieldsState=te,l.useInstreamAdsHideAdBehaviorState=ae,l.useUnifiedSchedulerLastFetchTimeState=ue,l.useWaitingForAdFetchState=pe,l.useInstreamAdsFeedContextCardState=ye,l.useInstreamAdsFeedContextCardStateValue=Ce,l.useInstreamAdsFullScreenContextCardState=Le,l.useInstreamAdsFullScreenContextCardStateValue=Ee,l.useInstreamAdsIsStart=ke}),98);
__d("VideoPlayerPlayButton.react",["fbt","ix","CometImage.react","CometPressable.react","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){switch(e){case"LARGE":return u("352839");case"MEDIUM":return u("101640");case"SMALL":return u("354763")}}function m(e){var t=o("react-compiler-runtime").c(13),n=e.iconSize,a=e.isVisible,i=e.onClick,l=n===void 0?"LARGE":n,u;t[0]!==l?(u=d(l),t[0]=l,t[1]=u):u=t[1];var m;t[2]!==u?(m=c.jsx(r("CometImage.react"),{src:u}),t[2]=u,t[3]=m):m=t[3];var p=m,_;t[4]!==p||t[5]!==i?(_=i!=null?c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:592,children:c.jsx(r("CometPressable.react"),{display:"inline",label:s._(/*BTDS*/"\u10d5\u10d8\u10d3\u10d4\u10dd\u10e1 \u10d3\u10d0\u10d9\u10d5\u10e0\u10d0"),onPress:i,overlayDisabled:!0,testid:void 0,children:p})}):p,t[4]=p,t[5]=i,t[6]=_):_=t[6];var f=_,g;t[7]!==l||t[8]!==a?(g={0:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},8:{className:"xy75621 xafmxuu x14z9mp xat24cr x1ob4rv2 xni59qk x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},4:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},12:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},2:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},10:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},6:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},14:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},1:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},9:{className:"xy75621 xafmxuu x14z9mp xat24cr x1ob4rv2 xni59qk x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},5:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},13:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},3:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},11:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},7:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},15:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"}}[(l==="LARGE")<<3|(l==="MEDIUM")<<2|(l==="SMALL")<<1|!a<<0],t[7]=l,t[8]=a,t[9]=g):g=t[9];var h;return t[10]!==f||t[11]!==g?(h=c.jsx("i",babelHelpers.extends({},g,{children:f})),t[10]=f,t[11]=g,t[12]=h):h=t[12],h}l.default=m}),226);
__d("VideoPlayerSmallPlayButton.react",["fbt","CometImage.react","CometPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.isVisible,a=e.onClick,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("CometImage.react"),{src:"/images/video/play_48dp.png"}),t[0]=i):i=t[0];var l=i,c;t[1]!==a?(c=a!=null?u.jsx(r("CometPressable.react"),{display:"inline",label:s._(/*BTDS*/"\u10d5\u10d8\u10d3\u10d4\u10dd\u10e1 \u10d3\u10d0\u10d9\u10d5\u10e0\u10d0"),onPress:a,overlayDisabled:!0,children:l}):l,t[1]=a,t[2]=c):c=t[2];var d=c,m;t[3]!==n?(m={0:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xsdox4t xbudbmw xs9mwh0 x14z9mp xat24cr xwqyzqf x1hc1fzr x10l6tqk xwa60dl x1useyqa"},1:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xsdox4t xbudbmw xs9mwh0 x14z9mp xat24cr xwqyzqf x10l6tqk xwa60dl x1useyqa xg01cxk xlshs6z"}}[!n<<0],t[3]=n,t[4]=m):m=t[4];var p;return t[5]!==d||t[6]!==m?(p=u.jsx("i",babelHelpers.extends({},m,{children:d})),t[5]=d,t[6]=m,t[7]=p):p=t[7],p}l.default=c}),226);
__d("formatDurationSeconds",["fbt","padNumber"],(function(t,n,r,o,a,i,l,s){function e(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),o=Math.floor(e%60);return t?s._(/*BTDS*/"{hours}:{minutes}:{seconds}",[s._param("hours",t),s._param("minutes",r("padNumber")(n,2)),s._param("seconds",r("padNumber")(o,2))]):s._(/*BTDS*/"{minutes}:{seconds}",[s._param("minutes",n),s._param("seconds",r("padNumber")(o,2))])}l.default=e}),226);
__d("VideoPlayerTimeIndicator.react",["FDSText.react","formatDurationSeconds","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e.shouldCenterSelf,a=e.timestampSec,i=n===!0?"var(--always-black)":"var(--always-dark-overlay)",l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l="x18l40ae xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1wa3icf x123j3cw x1gabggj xs9asl8 xaso8d8 x10l6tqk xuxw1ft",t[0]=l):l=t[0];var u;t[1]!==i?(u={backgroundColor:i},t[1]=i,t[2]=u):u=t[2];var c;t[3]!==a?(c=r("formatDurationSeconds")(Math.round(a)),t[3]=a,t[4]=c):c=t[4];var d;t[5]!==c?(d=s.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c}),t[5]=c,t[6]=d):d=t[6];var m;t[7]!==u||t[8]!==d?(m=s.jsx("div",{className:l,style:u,children:d}),t[7]=u,t[8]=d,t[9]=m):m=t[9];var p=m,_;return t[10]!==n||t[11]!==p?(_=n===!0?s.jsx("div",{className:"x78zum5 xl56j7k x1n2onr6",children:p}):p,t[10]=n,t[11]=p,t[12]=_):_=t[12],_}l.default=u}),98);
__d("VideoPlayerUserInteractionCounter",["FBLogger","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t,n){var a=o("react-compiler-runtime").c(12),i=d(e),l,s;a[0]!==e?(l=function(){if(e!==i.current)throw r("FBLogger")("comet_video_player").mustfixThrow("User interaction name should not change between renders ('%s' -> '%s').",i.current,e)},s=[e],a[0]=e,a[1]=l,a[2]=s):(l=a[1],s=a[2]),c(l,s);var u=d(n),m,p;a[3]!==n?(m=function(){u.current=n},p=[n],a[3]=n,a[4]=m,a[5]=p):(m=a[4],p=a[5]),c(m,p);var _=r("usePrevious")(t),f=d(!1),g,h;a[6]!==t||a[7]!==_?(g=function(){var e=i.current,n=u.current;n&&(_===null||t!==_)&&(t?(f.current=!0,n({name:e,type:"started"})):_!==null&&(f.current=!1,n({name:e,type:"ended"})))},h=[t,_],a[6]=t,a[7]=_,a[8]=g,a[9]=h):(g=a[8],h=a[9]),c(g,h);var y,C;a[10]===Symbol.for("react.memo_cache_sentinel")?(y=function(){var e=i.current,t=u.current;return(function(){t&&f.current&&t({name:e,type:"ended"})})},C=[],a[10]=y,a[11]=C):(y=a[10],C=a[11]),c(y,C)}function _(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Set,e[0]=t):t=e[0];var n=d(t),r=m(0),a=r[0],i=r[1],l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=function(t){var e=n.current;t.type==="started"||t.type==="happening"?(e.add(t.name),i(e.size)):t.type==="ended"&&(e.delete(t.name),i(e.size))},e[1]=l):l=e[1];var s=l,u;return e[2]!==a?(u={ongoingInteractionsCount:a,onUserInteraction:s},e[2]=a,e[3]=u):u=e[3],u}l.useVideoPlayerUserInteraction=p,l.useVideoPlayerUserInteractionCounter=_}),98);
__d("VideoPlayerWithThumbnail.react",["CometImage.react","CometVisualCompletionAttributes","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useState,p={thumbnail:{height:"x5yr21d",width:"x14atkfc",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(10),n=e.onLoad,a=e.src,i=e.thumbnailStyle,l=(s||(s=o("VideoPlayerHooks"))).useVideoPlaybackEnded(),c=s.usePaused(),_=m(!1),f=_[0],g=_[1],h,y;if(t[0]!==c?(h=function(){c||g(!0)},y=[c],t[0]=c,t[1]=h,t[2]=y):(h=t[1],y=t[2]),d(h,y),!l&&f)return null;var C;t[3]===Symbol.for("react.memo_cache_sentinel")?(C="x6s0dn4 x1ey2m1c x9f619 x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy",t[3]=C):C=t[3];var b;t[4]!==i?(b=[p.thumbnail,i],t[4]=i,t[5]=b):b=t[5];var v;return t[6]!==n||t[7]!==a||t[8]!==b?(v=u.jsx("div",babelHelpers.extends({className:C},r("CometVisualCompletionAttributes").IGNORE,{children:u.jsx(r("CometImage.react"),{onLoad:n,src:a,xstyle:b})})),t[6]=n,t[7]=a,t[8]=b,t[9]=v):v=t[9],v}l.default=_}),98);
__d("useVideoPlayerControllerSubscriptionHavingController",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e,t){var n=o("react-compiler-runtime").c(9),r;n[0]!==e||n[1]!==t?(r=function(){return t(e,null)},n[0]=e,n[1]=t,n[2]=r):r=n[2];var a=d(r),i=a[0],l=a[1],s=c(t),m,p;n[3]!==t?(m=function(){s.current=t},p=[t],n[3]=t,n[4]=m,n[5]=p):(m=n[4],p=n[5]),u(m,p);var _,f;return n[6]!==e?(_=function(){l(function(t){return s.current(e,t)});var t=e.subscribe(function(){l(function(t){return s.current(e,t)})});return(function(){t.remove()})},f=[e],n[6]=e,n[7]=_,n[8]=f):(_=n[7],f=n[8]),u(_,f),i}l.default=m}),98);
__d("useVideoPlayerControllerSubscription",["VideoPlayerHooks","useVideoPlayerControllerSubscriptionHavingController"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("useVideoPlayerControllerSubscriptionHavingController")((e||(e=o("VideoPlayerHooks"))).useController(),t)}l.default=s}),98);
__d("useAudioAvailabilityAtPlayhead",["VideoPlayerAudioAvailabilityInfo","VideoPlayerHooks","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(2),n=(e||(e=o("VideoPlayerHooks"))).useAudioAvailabilityInfo(),a;t[0]!==n?(a=function(t,r){var e=t.getPlayheadPosition(),a=o("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityAtPlayheadInfo(n,{playheadPosition:e});return r!=null&&r.isPlayheadWithinMutedSegment===a.isPlayheadWithinMutedSegment&&r.isSilentAtPlayhead===a.isSilentAtPlayhead&&r.volumeControlState===a.volumeControlState?r:a},t[0]=n,t[1]=a):a=t[1];var i=a;return r("useVideoPlayerControllerSubscription")(i)}l.default=s}),98);
__d("useFeedClickEventHandler",["react","react-compiler-runtime","useStoryClickEventLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(4),a=r("useStoryClickEventLogger")(),i;return n[0]!==t||n[1]!==a||n[2]!==e?(i=function(r){e&&e(r);var n=r.type;if(n==="click"||n==="contextmenu"||n==="mousedown"&&typeof r.button=="number"&&(r.button===1||r.button===2)||n==="keydown"&&(r.key==="Enter"||r.key===" ")){var o=typeof r.button=="number"?r.button:0;a(r.timeStamp,o,t)}},n[0]=t,n[1]=a,n[2]=e,n[3]=i):i=n[3],i}l.default=u}),98);
__d("usePlayerOriginRouteTracePolicy",["CometNotificationsRootContext","CometRouteRenderType","react","useCometRouteTracePolicy","useCometRouterState","useParentRoute","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e,t=s(r("CometNotificationsRootContext")),n=t.isNotificationsRoute,a=r("useCometRouteTracePolicy")(),i=o("CometRouteRenderType").useIsPushView(),l=r("useParentRoute")(),u=r("useCometRouterState")(),c=r("useRoutePassthroughProps")();if((c==null?void 0:c.isARLTW)===!0)return"comet.watch.arltw";var d=a==="comet.videos.tahoe",m=a==="comet.stories.viewer",p=a==="comet.reels.home"||a==="comet.reels.unified.player";if(i){if(d)return"unknown";if(m)return a;if(p&&(l==null?void 0:l.tracePolicy)==null&&u!=null){var _,f=u.main,g=u.pushViewStack,h=g&&g.length>1?g[g.length-2]:f,y=h.route;return(_=y.tracePolicy)!=null?_:a}}return n&&!d?a:(e=l==null?void 0:l.tracePolicy)!=null?e:a}l.default=u}),98);
__d("useVideoPlayerHasStartedPlayingAtLeastOnce",["VideoPlayerHooks","createVideoStateHook","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect,c=o("createVideoStateHook").createVideoStateHook(null),d=c.stateHook;function m(){var e=o("react-compiler-runtime").c(4),t=d(!1),n=t[0],r=t[1],a=(s||(s=o("VideoPlayerHooks"))).usePlaying(),i,l;return e[0]!==a||e[1]!==r?(i=function(){a&&r(!0)},l=[a,r],e[0]=a,e[1]=r,e[2]=i,e[3]=l):(i=e[2],l=e[3]),u(i,l),n}l.default=m}),98);
__d("useVideoPlayerBigPlayButtonOverlay",["VideoPlayerHooks","VideoPlayerPlayButton.react","VideoPlayerSmallPlayButton.react","react","react-compiler-runtime","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(13),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.buttonSize,l=a.forceVisible,c=a.overrideInteraction,d=a.shouldUnmute,m=i===void 0?"large":i,p=r("useVideoPlayerHasStartedPlayingAtLeastOnce")(),_=(s||(s=o("VideoPlayerHooks"))).usePaused(),f=s.useLastMuteReason(),g=s.useController(),h;t[2]!==g||t[3]!==f||t[4]!==d?(h=function(){g.play("user_initiated"),d===!0&&f!=="user_initiated"&&g.setMuted(!1,"product_initiated")},t[2]=g,t[3]=f,t[4]=d,t[5]=h):h=t[5];var y=h,C=c!=null?c.handler:y,b=l===!0||l===!1?l:!p&&_,v;t[6]!==b||t[7]!==m||t[8]!==C?(v=m==="small"?u.jsx(r("VideoPlayerSmallPlayButton.react"),{isVisible:b,onClick:C}):u.jsx(r("VideoPlayerPlayButton.react"),{isVisible:b,onClick:C}),t[6]=b,t[7]=m,t[8]=C,t[9]=v):v=t[9];var S=v,R;return t[10]!==S||t[11]!==b?(R={bigPlayButtonElement:S,bigPlayButtonIsVisible:b},t[10]=S,t[11]=b,t[12]=R):R=t[12],R}l.default=d}),98);
__d("useVideoPlayerClickToPauseInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(){var e=o("react-compiler-runtime").c(5),t=(u||(u=o("VideoPlayerHooks"))).usePlaying(),n=u.useController(),r=u.useIsLive(),a;e[0]!==n?(a=function(){n.pause("user_initiated")},e[0]=n,e[1]=a):a=e[1];var i=a,l=t&&!r,c;return e[2]!==l||e[3]!==i?(c=l?{ariaLabel:s._(/*BTDS*/"\u10e4\u10d8\u10e0\u10d8\u10e1 \u10d3\u10d0\u10de\u10d0\u10e3\u10d6\u10d4\u10d1\u10d0"),handler:i,overlayLabel:""}:null,e[2]=l,e[3]=i,e[4]=c):c=e[4],c}l.default=d}),226);
__d("useVideoPlayerClickToPlayInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime","useFeedClickEventHandler"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(e){var t=o("react-compiler-runtime").c(9),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.shouldUnmute,l=(u||(u=o("VideoPlayerHooks"))).usePaused(),c=u.useController(),d=u.useLastMuteReason(),m;t[2]!==c||t[3]!==d||t[4]!==i?(m=function(){c.play("user_initiated"),i===!0&&d!=="user_initiated"&&c.setMuted(!1,"product_initiated")},t[2]=c,t[3]=d,t[4]=i,t[5]=m):m=t[5];var p=m,_=r("useFeedClickEventHandler")(p),f=l,g;return t[6]!==f||t[7]!==_?(g=f?{ariaLabel:s._(/*BTDS*/"\u10e4\u10d8\u10e0\u10d8\u10e1 \u10d3\u10d0\u10d9\u10d5\u10e0\u10d0"),handler:_,overlayLabel:""}:null,t[6]=f,t[7]=_,t[8]=g):g=t[8],g}l.default=d}),226);/*FB_PKG_DELIM*/
__d("AdsValidationConsts",[],(function(t,n,r,o,a,i){var e=Object.freeze({ixCanvasPrefix:"https://fb.com/canvas_doc/",maxAge:65,maxAdgroupNameLength:400,maxFriendlyNameLength:128,maxURLLength:1024,minAge:13,minAgeDefault:18,nonDefaultMinAgeByCountryCode:{ID:21,TH:20},minMessagingDestinationAge:18,minLeadGenerationAge:18,minCallNowAge:18,minWAMOStatusAge:13,nameMaxLength:400,maxAdObjectNameLength:400});i.default=e}),66);
__d("ManagedError",[],(function(t,n,r,o,a,i){var e=(function(e){function t(t,n){var r;return r=e.call(this,t!=null?t:"")||this,t!=null?r.message=t:r.message="",r.innerError=n,r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.default=e}),66);
__d("AssertionError",["ManagedError"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(t){return e.call(this,t)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ManagedError"));l.default=e}),98);
__d("Assert",["AssertionError","sprintf"],(function(t,n,r,o,a,i,l){function e(e,t){if(typeof e!="boolean"||e===!1)throw new(r("AssertionError"))(t);return e}function s(t,n,o){var a;if(n===void 0)a="undefined";else if(n===null)a="null";else{var i=Object.prototype.toString.call(n),l=/\s(\w*)/.exec(i);a=l==null?typeof l:l[1].toLowerCase()}return e(t.indexOf(a)!==-1,o!=null?o:r("sprintf")("Expression is of type %s, not %s",a,t)),n}function u(t,n,r){return e(n instanceof t,r!=null?r:"Expression not instance of type"),n}function c(e,t){m["is"+e]=t,m["maybe"+e]=function(e,n){return e==null?e:t(e,n)}}var d=function(t,n){return t},m={isInstanceOf:u,isTrue:e,isTruthy:function(n,r){return e(!!n,r)},isBoolean:d,isFunction:d,isNumber:d,isObject:d,isString:d,isUndefined:d,maybeObject:d,maybeNumber:d,maybeFunction:d};["Boolean","Function","Number","Object","String","Undefined"].forEach(function(e){c(e,s.bind(null,e.toLowerCase()))});var p=m;l.default=p}),98);
__d("BandicootSession",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",CLOSED:"CLOSED"}),l=600*1e3,s=336*60*60*1e3;function u(e){return Date.now()-e.lastUpdated}function c(e){return!!(typeof e=="object"&&e&&e.lastUpdated&&e.status)}function d(t){return t.status===e.CLOSED?!1:!(t.status===e.INACTIVE&&u(t)>l)}function m(t){return t.status===e.ACTIVE&&u(t)>l}function p(e){return u(e)>s}i.Status=e,i.isValidSession=c,i.isTrackedSession=d,i.isCrashedSession=m,i.isOrphanSession=p}),66);
__d("Bandicoot",["invariant","BandicootSession","FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l,s){"use strict";var e=5e3,u=e*2,c="Bandicoot:";function d(){try{var e=window.localStorage;if(e){var t="__test"+Date.now();e.setItem(t,""),e.removeItem(t)}return e}catch(e){return r("FBLogger")("bandicoot").warn("Local storage is full"),null}}var m=d(),p=(function(){function t(e){this.$5=c+e,this.$4={},this.$1=this.$7.bind(this),this.sessionID=null,this.sessionStartTime=null,this.storage=m}var n=t.prototype;return n.getCrashTimeData=function(){var e=window.performance&&window.performance.memory||{},t=this.sessionStartTime;return{duration:t?Date.now()-t:0,tabs:Object.keys(this.$8()).length,jsHeapSizeLimit:e.jsHeapSizeLimit,totalJSHeapSize:e.totalJSHeapSize,usedJSHeapSize:e.usedJSHeapSize,elementsInDOM:document.getElementsByTagName("*").length,uri:window.location.href}},n.getLogTimeData=function(){return{userAgent:window.navigator.userAgent}},n.logCrash=function(t,n,o){r("FBLogger")("bandicoot").warn("Session %s crashed at %s",t,o)},n.logBrowserUnsupported=function(){r("FBLogger")("bandicoot").warn("Browser not supported")},n.logTrackingError=function(){r("FBLogger")("bandicoot").warn("Failed to record data for current session")},n.startSession=function(){var t=this;if(!this.storage){this.logBrowserUnsupported();return}this.$2||(this.sessionID||(this.sessionID=Math.random().toString(36).slice(2,9)),this.sessionStartTime||(this.sessionStartTime=Date.now()),this.$2=setInterval(function(){t.$9()},e),this.$9(),document.addEventListener&&document.addEventListener("visibilitychange",this.$1),this.$10())},n.endSession=function(){this.storage&&this.$2&&(clearInterval(this.$2),this.$2=null,this.$3||this.$11({status:o("BandicootSession").Status.CLOSED}),this.sessionID=null,this.sessionStartTime=null,document.removeEventListener&&document.removeEventListener("visibilitychange",this.$1))},n.logKnownCrashes=function(){var e=this;if(this.storage&&!this.$2){var t=this.$8();t=this.$12(t,function(t,n){return o("BandicootSession").isCrashedSession(t)?(e.logCrash(n,t,e.getLogTimeData()),null):t}),this.$13(t)}},n.$14=function(){var e=this.sessionID;return e||s(0,663),e},n.$9=function(){var e=this.$8();this.$15(e),e=this.$16(e),this.$13(e)},n.$15=function(t){var e=this.$14(),n=t[e]?t[e]:{};t[e]=babelHelpers.extends({},n,this.getCrashTimeData(),{lastUpdated:Date.now(),status:this.$17()})},n.$12=function(t,n){var e={};return Object.keys(t).forEach(function(r){var a=t[r];if(o("BandicootSession").isValidSession(a)&&o("BandicootSession").isTrackedSession(a)&&!o("BandicootSession").isOrphanSession(a)){var i=n(a,r);i&&(e[r]=i)}}),e},n.$16=function(t){var e=this;return this.$12(t,function(t,n){if(o("BandicootSession").isCrashedSession(t)){var r=t.loggerReportTime||0;if(Date.now()-r>u)t.loggerReportTime=Date.now(),t.loggerReportSession=e.$14();else if(t.loggerReportSession==e.$14())return e.logCrash(n,t,e.getLogTimeData()),e.$4[n]=!0,null}return t})},n.$8=function(t){t=t||this.$5;var e=this.storage.getItem(t)||"{}";try{e=JSON.parse(e)}catch(n){e={},this.storage.removeItem(t),r("FBLogger")("bandicoot").catching(r("getErrorSafe")(n)).warn("Invalid JSON data")}return e},n.$11=function(t){t.lastUpdated=Date.now();var e=this.$8(),n=this.sessionID;n&&e[n]&&(Object.assign(e[n],t),this.$13(e))},n.$13=function(n){var t=JSON.stringify(n);try{this.storage.setItem(this.$5,t)}catch(t){var o=this.$6,a=Date.now();(!o||a>o+e)&&(this.logTrackingError(),this.$6=a);try{this.storage.removeItem(this.$5)}catch(e){this.$3=!0,this.endSession(),r("FBLogger")("bandicoot").catching(r("getErrorSafe")(e)).warn("Removing from storage failed")}}},n.$10=function(){for(var e=0;e<this.storage.length;++e){var t=this.storage.key(e);if(t.indexOf(c)===0&&t!==this.$5){var n=this.$8(t),r=Object.keys(n).every(function(e){var t=n[e];return!o("BandicootSession").isValidSession(t)||o("BandicootSession").isOrphanSession(t)});r&&this.storage.removeItem(t)}}},n.$7=function(){this.$11({status:this.$17()})},n.$17=function(){return document.hidden?o("BandicootSession").Status.INACTIVE:o("BandicootSession").Status.ACTIVE},t})();l.default=p}),98);
__d("BrandedContentSharedToSponsorStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_SHARED:0,ALL_SHARED:1});i.default=e}),66);
__d("BrandedContentSponsorRelationship",[],(function(t,n,r,o,a,i){var e=Object.freeze({WITH:0,PAID_RELATIONSHIP_WITH:1,PRESENTED_BY:2,SOCIAL_TAGGING:3,SUPPORT:4,BRAND_INLINE_AD_WITHOUT_CREATOR_PAGE:5,CREATOR_INLINE_AD_WITHOUT_SPONSOR_PAGE:6,SPONSORSHIP:7,AFFILIATE_LINKS:8});i.default=e}),66);
__d("CallToActionTypes",[],(function(t,n,r,o,a,i){var e=Object.freeze({OPEN_LINK:"OPEN_LINK",LIKE_PAGE:"LIKE_PAGE",SHOP_NOW:"SHOP_NOW",PLAY_GAME:"PLAY_GAME",INSTALL_APP:"INSTALL_APP",USE_APP:"USE_APP",CALL:"CALL",CALL_ME:"CALL_ME",VIDEO_CALL:"VIDEO_CALL",GET_MOBILE_APP:"GET_MOBILE_APP",INSTALL_MOBILE_APP:"INSTALL_MOBILE_APP",INSTALL_FREE_MOBILE_APP:"INSTALL_FREE_MOBILE_APP",USE_MOBILE_APP:"USE_MOBILE_APP",MOBILE_DOWNLOAD:"MOBILE_DOWNLOAD",BOOK_TRAVEL:"BOOK_TRAVEL",LISTEN_MUSIC:"LISTEN_MUSIC",WATCH_VIDEO:"WATCH_VIDEO",LEARN_MORE:"LEARN_MORE",SIGN_UP:"SIGN_UP",DOWNLOAD:"DOWNLOAD",WATCH_MORE:"WATCH_MORE",NO_BUTTON:"NO_BUTTON",VISIT_PAGES_FEED:"VISIT_PAGES_FEED",MISSED_CALL:"MISSED_CALL",CALL_NOW:"CALL_NOW",DIAL_CODE:"DIAL_CODE",APPLY_NOW:"APPLY_NOW",CONTACT:"CONTACT",BUY_NOW:"BUY_NOW",GET_OFFER:"GET_OFFER",GET_OFFER_VIEW:"GET_OFFER_VIEW",BUY_TICKETS:"BUY_TICKETS",UPDATE_APP:"UPDATE_APP",GET_DIRECTIONS:"GET_DIRECTIONS",BUY:"BUY",SEE_DETAILS:"SEE_DETAILS",SEND_UPDATES:"SEND_UPDATES",MESSAGE_PAGE:"MESSAGE_PAGE",MESSAGE_USER:"MESSAGE_USER",DONATE:"DONATE",SUBSCRIBE:"SUBSCRIBE",SAY_THANKS:"SAY_THANKS",SELL_NOW:"SELL_NOW",SHARE:"SHARE",DONATE_NOW:"DONATE_NOW",GET_QUOTE:"GET_QUOTE",CONTACT_US:"CONTACT_US",ORDER_NOW:"ORDER_NOW",START_ORDER:"START_ORDER",ADD_TO_CART:"ADD_TO_CART",VIEW_CART:"VIEW_CART",VIEW_IN_CART:"VIEW_IN_CART",VIDEO_ANNOTATION:"VIDEO_ANNOTATION",MOMENTS:"MOMENTS",RECORD_NOW:"RECORD_NOW",INQUIRE_NOW:"INQUIRE_NOW",CONFIRM:"CONFIRM",VOTE_NOW:"VOTE_NOW",GIVE_FREE_RIDES:"GIVE_FREE_RIDES",REGISTER_NOW:"REGISTER_NOW",OPEN_MESSENGER_EXT:"OPEN_MESSENGER_EXT",CIVIC_ACTION:"CIVIC_ACTION",SEND_INVITES:"SEND_INVITES",REFER_FRIENDS:"REFER_FRIENDS",SAVE:"SAVE",REQUEST_TIME:"REQUEST_TIME",SEE_MENU:"SEE_MENU",EMAIL_NOW:"EMAIL_NOW",PAY_OR_REQUEST:"PAY_OR_REQUEST",SEARCH:"SEARCH",GET_SHOWTIMES:"GET_SHOWTIMES",TRY_IT:"TRY_IT",LISTEN_NOW:"LISTEN_NOW",TRY_ON:"TRY_ON",TRY_DEMO:"TRY_DEMO",WOODHENGE_SUPPORT:"WOODHENGE_SUPPORT",SOTTO_SUBSCRIBE:"SOTTO_SUBSCRIBE",SEARCH_MORE:"SEARCH_MORE",FOLLOW_USER:"FOLLOW_USER",BLOOD_DONATIONS:"BLOOD_DONATIONS",CLAIM_OFFER:"CLAIM_OFFER",RAISE_MONEY:"RAISE_MONEY",SEE_SHOP:"SEE_SHOP",GET_DETAILS:"GET_DETAILS",FIND_OUT_MORE:"FIND_OUT_MORE",VISIT_WEBSITE:"VISIT_WEBSITE",BROWSE_SHOP:"BROWSE_SHOP",UNLIKE_PAGE:"UNLIKE_PAGE",BET_NOW:"BET_NOW",OPEN_MOVIES:"OPEN_MOVIES",EVENT_RSVP:"EVENT_RSVP",INTERESTED:"INTERESTED",GO_LIVE:"GO_LIVE",SEND_TIP:"SEND_TIP",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",GET_EVENT_TICKETS:"GET_EVENT_TICKETS",VIEW_INSTAGRAM_PROFILE:"VIEW_INSTAGRAM_PROFILE",INSTAGRAM_MESSAGE:"INSTAGRAM_MESSAGE",FOLLOW_NEWS_STORYLINE:"FOLLOW_NEWS_STORYLINE",LINK_CARD:"LINK_CARD",PRE_REGISTER:"PRE_REGISTER",SEE_MORE:"SEE_MORE",WATCH_APP_UPGRADE:"WATCH_APP_UPGRADE",LOYALTY_LEARN_MORE:"LOYALTY_LEARN_MORE",ACTIVATE_OFFER:"ACTIVATE_OFFER",BOOK_NOW:"BOOK_NOW",BOOK_TEST_DRIVE:"BOOK_TEST_DRIVE",CHECK_AVAILABILITY:"CHECK_AVAILABILITY",FIND_A_GROUP:"FIND_A_GROUP",FIND_YOUR_GROUPS:"FIND_YOUR_GROUPS",REMIND_ME:"REMIND_ME",SAVE_OFFER:"SAVE_OFFER",SEE_OFFER:"SEE_OFFER",PAY_TO_ACCESS:"PAY_TO_ACCESS",PURCHASE_GIFT_CARDS:"PURCHASE_GIFT_CARDS",FOLLOW_PAGE:"FOLLOW_PAGE",SEND_A_GIFT:"SEND_A_GIFT",JOBS_APPLY_NOW:"JOBS_APPLY_NOW",VIEW_RESUME:"VIEW_RESUME",SWIPE_UP_SHOP:"SWIPE_UP_SHOP",SWIPE_UP_PRODUCT:"SWIPE_UP_PRODUCT",SEND_GIFT_MONEY:"SEND_GIFT_MONEY",SEND_GIFT:"SEND_GIFT",WATCH_MUSIC_VIDEO:"WATCH_MUSIC_VIDEO",TRY_IN_CAMERA:"TRY_IN_CAMERA",WHATSAPP_LINK:"WHATSAPP_LINK",PLAY_GAME_ON_FACEBOOK:"PLAY_GAME_ON_FACEBOOK",GET_STARTED:"GET_STARTED",VISIT_WORLD:"VISIT_WORLD",OPEN_INSTANT_APP:"OPEN_INSTANT_APP",AUDIO_CALL:"AUDIO_CALL",JOIN_GROUP:"JOIN_GROUP",GET_PROMOTIONS:"GET_PROMOTIONS",JOIN_CHANNEL:"JOIN_CHANNEL",VISIT_PROFILE:"VISIT_PROFILE",CHAT_ON_WHATSAPP:"CHAT_ON_WHATSAPP",EXPLORE_MORE:"EXPLORE_MORE",PLAY:"PLAY",MAKE_AN_APPOINTMENT:"MAKE_AN_APPOINTMENT",ASK_ABOUT_SERVICES:"ASK_ABOUT_SERVICES",BOOK_A_CONSULTATION:"BOOK_A_CONSULTATION",GET_A_QUOTE:"GET_A_QUOTE",BUY_VIA_MESSAGE:"BUY_VIA_MESSAGE",ASK_FOR_MORE_INFO:"ASK_FOR_MORE_INFO",CHAT_WITH_US:"CHAT_WITH_US",VIEW_PRODUCT:"VIEW_PRODUCT",VIEW_CHANNEL:"VIEW_CHANNEL",GET_IN_TOUCH:"GET_IN_TOUCH",WATCH_LIVE_VIDEO:"WATCH_LIVE_VIDEO",IMAGINE:"IMAGINE",SHOP_WITH_AI:"SHOP_WITH_AI",TRY_ON_WITH_AI:"TRY_ON_WITH_AI",TRY_NOW:"TRY_NOW"});i.default=e}),66);
__d("fileSliceName",["UserAgent_DEPRECATED"],(function(t,n,r,o,a,i,l){var e="slice",s;(s=o("UserAgent_DEPRECATED").chrome())?s<21&&(e="webkitSlice"):(s=o("UserAgent_DEPRECATED").firefox())?s<13&&(e="mozSlice"):(s=o("UserAgent_DEPRECATED").safari())||o("UserAgent_DEPRECATED").webkit()&&(e="webkitSlice");var u=e;l.default=u}),98);
__d("fileSlice",["fileSliceName"],(function(t,n,r,o,a,i,l){var e=t.File&&t.File.prototype[r("fileSliceName")];e||(e=t.Blob&&t.Blob.prototype[r("fileSliceName")]);var s=e;l.default=s}),98);
__d("VideoUploadFeatureDetector",["UserAgent_DEPRECATED","fileSlice"],(function(t,n,r,o,a,i,l){function e(){return typeof r("fileSlice")=="function"&&d()}function s(){return!o("UserAgent_DEPRECATED").firefox()}function u(){return"FileList"in window}function c(){return"FileReader"in window&&"DataView"in window}function d(){return"FormData"in window}l.supportsChunking=e,l.supportsFullProgress=s,l.supportsFileAPI=u,l.supportsFileReading=c,l.supportsXHR=d}),98);
__d("VideoUploadFile",["VideoUploadFeatureDetector","fileSlice","md5"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t,n,r){this.$1=e,this.$2=t,this.$3=n,this.$4=r==null?void 0:r.toLowerCase()}e.fromBlob=function(n){var t=n.type.indexOf("/")!=-1?"."+n.type.split("/").pop().toLowerCase():"",r="blob"+t,o=new File([n],r,{type:n.type});return e.fromFile(o)},e.fromFile=function(n){var t=e.getExtensionFromFileName(n.name);return new this(null,n,n.size,t)},e.fromFileInput=function(n){var t=null,r=null,a=e.getExtensionFromFileInput(n);return o("VideoUploadFeatureDetector").supportsFileAPI()&&n.files.length&&(t=n.files[0],r=t.size),new this(n,t,r,a)};var t=e.prototype;return t.getFileInput=function(){return this.$1},t.getFile=function(){return this.$2},t.getSize=function(){return this.$3},t.getExtension=function(){return this.$4},t.getCreatorProduct=function(){return this.$4==="gif"?4:2},t.getChunk=function(t,n){return this.$2!=null?r("fileSlice").call(this.$2,t,n):null},t.getFilePath=function(){var e;return(e=this.$2)==null?void 0:e.name},t.getStableAssetID=function(){var e;return(e=r("md5")(this.getFilePath()))!=null?e:"unknown"},e.getExtensionFromFileInput=function(t){return this.getExtensionFromFileName(t.value)},e.getExtensionFromFileName=function(t){return t!=null&&t.indexOf(".")!==-1?t.split(".").pop().toLowerCase():""},e})();l.default=e}),98);
__d("WaterfallIDGenerator",["CurrentUser","md5","uuidv4"],(function(t,n,r,o,a,i,l){function e(){var e=2147483647;return Math.random()*e}function s(){return Math.floor(Date.now()/1e3)}function u(){var t=r("md5")([r("CurrentUser").getID(),s(),e()].join(":"));return t==null?r("uuidv4")():t}l.generate=u}),98);
__d("enumUtils",["nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return Object.values(t).find(function(t){return t===e})}function s(t,n){return t==null?null:e(t,n)}function u(e,t){if(e!=null){for(var n of Object.keys(t))if(n===e)return n}return null}function c(t,n){return r("nullthrows")(e(t,n))}function d(e,t){return r("nullthrows")(u(e,t))}function m(e,t){var n=[];for(var r of e)n.push(c(r,t));return n}function p(e,t){var n;return(n=t[e])!=null?n:null}function _(e,t){return r("nullthrows")(p(e,t))}function f(e,t){var n=[];for(var r of e)n.push(_(r,t));return n}function g(e,t){var n;return Object.keys(t).forEach(function(r){t[r]===e&&(n=r)}),n}function h(e,t){return r("nullthrows")(g(e,t))}l.coerce=e,l.coerceNullable=s,l.coerceKey=u,l.assert=c,l.assertKey=d,l.assertIterable=m,l.coerceFromKey=p,l.assertFromKey=_,l.assertIterableFromKey=f,l.enumValueToKey=g,l.enumValueToKeyEnforcing=h}),98);
__d("ISOCountryCode",[],(function(t,n,r,o,a,i){var e=Object.freeze({AC:"AC",AD:"AD",AE:"AE",AF:"AF",AG:"AG",AI:"AI",AL:"AL",AM:"AM",AN:"AN",AO:"AO",AQ:"AQ",AR:"AR",AS:"AS",AT:"AT",AU:"AU",AW:"AW",AX:"AX",AZ:"AZ",BA:"BA",BB:"BB",BD:"BD",BE:"BE",BF:"BF",BG:"BG",BH:"BH",BI:"BI",BJ:"BJ",BL:"BL",BM:"BM",BN:"BN",BO:"BO",BQ:"BQ",BR:"BR",BS:"BS",BT:"BT",BV:"BV",BW:"BW",BY:"BY",BZ:"BZ",CA:"CA",CC:"CC",CD:"CD",CF:"CF",CG:"CG",CH:"CH",CI:"CI",CK:"CK",CL:"CL",CM:"CM",CN:"CN",CO:"CO",CR:"CR",CU:"CU",CV:"CV",CW:"CW",CX:"CX",CY:"CY",CZ:"CZ",DE:"DE",DJ:"DJ",DK:"DK",DM:"DM",DO:"DO",DZ:"DZ",EC:"EC",EE:"EE",EG:"EG",EH:"EH",ER:"ER",ES:"ES",ET:"ET",FI:"FI",FJ:"FJ",FK:"FK",FM:"FM",FO:"FO",FR:"FR",GA:"GA",GB:"GB",GD:"GD",GE:"GE",GF:"GF",GG:"GG",GH:"GH",GI:"GI",GL:"GL",GM:"GM",GN:"GN",GP:"GP",GQ:"GQ",GR:"GR",GS:"GS",GT:"GT",GU:"GU",GW:"GW",GY:"GY",HK:"HK",HM:"HM",HN:"HN",HR:"HR",HT:"HT",HU:"HU",ID:"ID",IE:"IE",IL:"IL",IM:"IM",IN:"IN",IO:"IO",IQ:"IQ",IR:"IR",IS:"IS",IT:"IT",JE:"JE",JM:"JM",JO:"JO",JP:"JP",KE:"KE",KG:"KG",KH:"KH",KI:"KI",KM:"KM",KN:"KN",KP:"KP",KR:"KR",KW:"KW",KY:"KY",KZ:"KZ",LA:"LA",LB:"LB",LC:"LC",LI:"LI",LK:"LK",LR:"LR",LS:"LS",LT:"LT",LU:"LU",LV:"LV",LY:"LY",MA:"MA",MC:"MC",MD:"MD",ME:"ME",MF:"MF",MG:"MG",MH:"MH",MK:"MK",ML:"ML",MM:"MM",MN:"MN",MO:"MO",MP:"MP",MQ:"MQ",MR:"MR",MS:"MS",MT:"MT",MU:"MU",MV:"MV",MW:"MW",MX:"MX",MY:"MY",MZ:"MZ",NA:"NA",NC:"NC",NE:"NE",NF:"NF",NG:"NG",NI:"NI",NL:"NL",NO:"NO",NP:"NP",NR:"NR",NU:"NU",NZ:"NZ",OM:"OM",PA:"PA",PE:"PE",PF:"PF",PG:"PG",PH:"PH",PK:"PK",PL:"PL",PM:"PM",PN:"PN",PR:"PR",PS:"PS",PT:"PT",PW:"PW",PY:"PY",QA:"QA",RE:"RE",RO:"RO",RS:"RS",RU:"RU",RW:"RW",SA:"SA",SB:"SB",SC:"SC",SD:"SD",SE:"SE",SG:"SG",SH:"SH",SI:"SI",SJ:"SJ",SK:"SK",SL:"SL",SM:"SM",SN:"SN",SO:"SO",SR:"SR",SS:"SS",ST:"ST",SV:"SV",SX:"SX",SY:"SY",SZ:"SZ",TC:"TC",TD:"TD",TF:"TF",TG:"TG",TH:"TH",TJ:"TJ",TK:"TK",TL:"TL",TM:"TM",TN:"TN",TO:"TO",TR:"TR",TT:"TT",TV:"TV",TW:"TW",TZ:"TZ",UA:"UA",UG:"UG",UM:"UM",US:"US",UY:"UY",UZ:"UZ",VA:"VA",VC:"VC",VE:"VE",VG:"VG",VI:"VI",VN:"VN",VU:"VU",WF:"WF",WS:"WS",XK:"XK",YE:"YE",YT:"YT",ZA:"ZA",ZM:"ZM",ZW:"ZW"});i.default=e}),66);
__d("getIsEligibleFor180SecondReelLimit",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("9083")}l.default=e}),98);
__d("ResumableUploadService",["cr:720"],(function(t,n,r,o,a,i,l){l.default=n("cr:720")}),98);
__d("getByPath",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e;if(!t||!t.length)return r;for(var o=0;o<t.length;o++){var a=t[o];if(r&&typeof r!="string"&&typeof r!="number"&&a in r)r=r[a];else return n}return r}i.default=e}),66);
__d("MediaUploadCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743942"),s=o("FalcoLoggerInternal").create("media_upload_cancel",e),u=s;l.default=u}),98);
__d("MediaUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743943"),s=o("FalcoLoggerInternal").create("media_upload_failure",e),u=s;l.default=u}),98);
__d("MediaUploadFlowFatalFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743945"),s=o("FalcoLoggerInternal").create("media_upload_flow_fatal",e),u=s;l.default=u}),98);
__d("MediaUploadFlowGiveupFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743946"),s=o("FalcoLoggerInternal").create("media_upload_flow_giveup",e),u=s;l.default=u}),98);
__d("MediaUploadFlowStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743948"),s=o("FalcoLoggerInternal").create("media_upload_flow_start",e),u=s;l.default=u}),98);
__d("MediaUploadFlowSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743949"),s=o("FalcoLoggerInternal").create("media_upload_flow_success",e),u=s;l.default=u}),98);
__d("MediaUploadInitFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743950"),s=o("FalcoLoggerInternal").create("media_upload_init_failure",e),u=s;l.default=u}),98);
__d("MediaUploadInitStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743951"),s=o("FalcoLoggerInternal").create("media_upload_init_start",e),u=s;l.default=u}),98);
__d("MediaUploadInitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743952"),s=o("FalcoLoggerInternal").create("media_upload_init_success",e),u=s;l.default=u}),98);
__d("MediaUploadProcessFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743954"),s=o("FalcoLoggerInternal").create("media_upload_process_failure",e),u=s;l.default=u}),98);
__d("MediaUploadProcessSkippedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743955"),s=o("FalcoLoggerInternal").create("media_upload_process_skipped",e),u=s;l.default=u}),98);
__d("MediaUploadProcessStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743956"),s=o("FalcoLoggerInternal").create("media_upload_process_start",e),u=s;l.default=u}),98);
__d("MediaUploadProcessSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743957"),s=o("FalcoLoggerInternal").create("media_upload_process_success",e),u=s;l.default=u}),98);
__d("MediaUploadStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743958"),s=o("FalcoLoggerInternal").create("media_upload_start",e),u=s;l.default=u}),98);
__d("MediaUploadSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743959"),s=o("FalcoLoggerInternal").create("media_upload_success",e),u=s;l.default=u}),98);
__d("MediaUploadTransferCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743960"),s=o("FalcoLoggerInternal").create("media_upload_transfer_cancel",e),u=s;l.default=u}),98);
__d("MediaUploadTransferFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743961"),s=o("FalcoLoggerInternal").create("media_upload_transfer_failure",e),u=s;l.default=u}),98);
__d("MediaUploadTransferStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743962"),s=o("FalcoLoggerInternal").create("media_upload_transfer_start",e),u=s;l.default=u}),98);
__d("MediaUploadTransferSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743963"),s=o("FalcoLoggerInternal").create("media_upload_transfer_success",e),u=s;l.default=u}),98);
__d("cometComposerMediaUploadLogger",["MediaUploadCancelFalcoEvent","MediaUploadFailureFalcoEvent","MediaUploadFlowFatalFalcoEvent","MediaUploadFlowGiveupFalcoEvent","MediaUploadFlowStartFalcoEvent","MediaUploadFlowSuccessFalcoEvent","MediaUploadInitFailureFalcoEvent","MediaUploadInitStartFalcoEvent","MediaUploadInitSuccessFalcoEvent","MediaUploadProcessFailureFalcoEvent","MediaUploadProcessSkippedFalcoEvent","MediaUploadProcessStartFalcoEvent","MediaUploadProcessSuccessFalcoEvent","MediaUploadStartFalcoEvent","MediaUploadSuccessFalcoEvent","MediaUploadTransferCancelFalcoEvent","MediaUploadTransferFailureFalcoEvent","MediaUploadTransferStartFalcoEvent","MediaUploadTransferSuccessFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(e.type){case"MEDIA_RESIZE_START":s(e.fields,t);break;case"MEDIA_RESIZE_SUCCESS":u(e.fields,t);break;case"MEDIA_RESIZE_FAILURE":e.fields;break;case"MEDIA_UPLOAD_START":d(e.fields,t);break;case"MEDIA_UPLOAD_SUCCESS":m(e.fields,t);break;case"MEDIA_UPLOAD_FAILURE":p(e.fields,t);break;case"MEDIA_UPLOAD_CANCEL":_(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_START":f(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_FAILURE":g(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_CANCEL":h(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_SKIPPED":y(e.fields,t);break;case"MEDIA_UPLOAD_PROCESS_SUCCESS":C(e.fields,t);break;case"MEDIA_UPLOAD_TRANSFER_START":b(e.fields,t);break;case"MEDIA_UPLOAD_TRANSFER_FAILURE":v(e.fields,t);break;case"MEDIA_UPLOAD_TRANSFER_CANCEL":S(e.fields,t);break;case"MEDIA_UPLOAD_TRANSFER_SUCCESS":R(e.fields,t);break;case"MEDIA_UPLOAD_FLOW_START":L(e.fields,t);break;case"MEDIA_UPLOAD_FLOW_SUCCESS":E(e.fields,t);break;case"MEDIA_UPLOAD_FLOW_FATAL":k(e.fields,t);break;case"MEDIA_UPLOAD_FLOW_GIVEUP":I(e.fields,t);break;case"MEDIA_UPLOAD_INIT_START":T(e.fields,t);break;case"MEDIA_UPLOAD_INIT_SUCCESS":D(e.fields,t);break;case"MEDIA_UPLOAD_INIT_FAILURE":x(e.fields,t);break;default:break}}function s(e,t){var n,r,o,a,i,l={creation_session_id:t,media_id:e==null?void 0:e.media_id,media_type:(n=e==null?void 0:e.media_type)!=null?n:"",source_file_size:e==null||(r=e.source_file_size)==null?void 0:r.toString(),source_height_int:e==null||(o=e.source_height_int)==null?void 0:o.toString(),source_type:e==null||(a=e.source_type)==null?void 0:a.toString(),source_width_int:e==null||(i=e.source_width_int)==null?void 0:i.toString()}}function u(e,t){var n,r,o,a,i,l,s,u={creation_session_id:t,media_id:e==null?void 0:e.media_id,media_type:(n=e==null?void 0:e.media_type)!=null?n:"",source_file_size:e==null||(r=e.source_file_size)==null?void 0:r.toString(),source_height_int:e==null||(o=e.source_height_int)==null?void 0:o.toString(),source_type:e==null||(a=e.source_type)==null?void 0:a.toString(),source_width_int:e==null||(i=e.source_width_int)==null?void 0:i.toString(),upload_height_int:e==null||(l=e.upload_height_int)==null?void 0:l.toString(),upload_width_int:e==null||(s=e.upload_width_int)==null?void 0:s.toString()}}function c(e,t){}function d(e,t){r("MediaUploadStartFalcoEvent").log(function(){return $(e,t)})}function m(e,t){r("MediaUploadSuccessFalcoEvent").log(function(){return $(e,t)})}function p(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,error_code:e==null?void 0:e.error_code,error_description:e==null?void 0:e.error_description,error_summary:e==null?void 0:e.error_summary,is_optimistic_upload:e==null?void 0:e.is_optimistic_upload,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_id:e==null?void 0:e.media_id,media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker,video_edits_applied:e==null?void 0:e.video_edits_applied};r("MediaUploadFailureFalcoEvent").log(function(){return s})}function _(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,is_optimistic_upload:e==null?void 0:e.is_optimistic_upload,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker,video_edits_applied:e==null?void 0:e.video_edits_applied};r("MediaUploadCancelFalcoEvent").log(function(){return s})}function f(e,t){r("MediaUploadProcessStartFalcoEvent").log(function(){return $(e,t)})}function g(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,is_optimistic_upload:e==null?void 0:e.is_optimistic_upload,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker,video_edits_applied:e==null?void 0:e.video_edits_applied};r("MediaUploadProcessFailureFalcoEvent").log(function(){return s})}function h(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,is_optimistic_upload:e==null?void 0:e.is_optimistic_upload,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker,video_edits_applied:e==null?void 0:e.video_edits_applied};r("MediaUploadProcessFailureFalcoEvent").log(function(){return s})}function y(e,t){var n,o,a,i,l,s,u={creation_session_id:t,media_type:(n=e==null?void 0:e.media_type)!=null?n:"",original_file_size:e==null||(o=e.original_file_size)==null?void 0:o.toString(),source:e==null?void 0:e.source,source_bit_rate:e==null||(a=e.source_bit_rate)==null?void 0:a.toString(),source_height:e==null||(i=e.source_height)==null?void 0:i.toString(),source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null||(s=e.source_width)==null?void 0:s.toString()};r("MediaUploadProcessSkippedFalcoEvent").log(function(){return u})}function C(e,t){r("MediaUploadProcessSuccessFalcoEvent").log(function(){return $(e,t)})}function b(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_id:e==null?void 0:e.media_id,media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null||(l=e.source_height)==null?void 0:l.toString(),source_type:e==null||(s=e.source_type)==null?void 0:s.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadTransferStartFalcoEvent").log(function(){return u})}function v(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null||(l=e.source_height)==null?void 0:l.toString(),source_type:e==null||(s=e.source_type)==null?void 0:s.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadTransferFailureFalcoEvent").log(function(){return u})}function S(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadTransferCancelFalcoEvent").log(function(){return s})}function R(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_id:e==null?void 0:e.media_id,media_item_fbid:e==null?void 0:e.media_item_fbid,media_session_id:e==null?void 0:e.media_session_id,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null||(l=e.source_height)==null?void 0:l.toString(),source_type:e==null||(s=e.source_type)==null?void 0:s.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadTransferSuccessFalcoEvent").log(function(){return u})}function L(e,t){var n,o={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_id:e==null?void 0:e.media_id,media_type:e==null?void 0:e.media_type,original_file_size:e==null||(n=e.original_file_size)==null?void 0:n.toString(),source:e==null?void 0:e.source,source_type:e==null?void 0:e.source_type,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadFlowStartFalcoEvent").log(function(){return o})}function E(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_id:e==null?void 0:e.media_id,media_item_fbid:e==null?void 0:e.media_item_fbid,media_type:e==null?void 0:e.media_type,original_file_size:e==null||(o=e.original_file_size)==null?void 0:o.toString(),source:e==null?void 0:e.source,source_bit_rate:e==null||(a=e.source_bit_rate)==null?void 0:a.toString(),source_height:e==null||(i=e.source_height)==null?void 0:i.toString(),source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null||(s=e.source_width)==null?void 0:s.toString(),use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadFlowSuccessFalcoEvent").log(function(){return u})}function k(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_type:e==null?void 0:e.media_type,original_file_size:e==null||(n=e.original_file_size)==null?void 0:n.toString(),source:e==null?void 0:e.source,source_bit_rate:e==null||(o=e.source_bit_rate)==null?void 0:o.toString(),source_file_size:e==null||(a=e.source_file_size)==null?void 0:a.toString(),source_height:e==null||(i=e.source_height)==null?void 0:i.toString(),source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null||(s=e.source_width)==null?void 0:s.toString(),use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadFlowFatalFalcoEvent").log(function(){return u})}function I(e,t){var n={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_type:e==null?void 0:e.media_type,source:e==null?void 0:e.source,source_type:e==null?void 0:e.source_type,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadFlowGiveupFalcoEvent").log(function(){return n})}function T(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadInitStartFalcoEvent").log(function(){return s})}function D(e,t){var n,o,a,i,l,s,u={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null||(l=e.source_height)==null?void 0:l.toString(),source_type:e==null||(s=e.source_type)==null?void 0:s.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadInitSuccessFalcoEvent").log(function(){return u})}function x(e,t){var n,o,a,i,l,s={author_is_page:e==null?void 0:e.author_is_page,creation_session_id:t,media_data_size:e==null||(n=e.media_data_size)==null?void 0:n.toString(),media_item_fbid:e==null?void 0:e.media_item_fbid,media_type:(o=e==null?void 0:e.media_type)!=null?o:"",original_file_size:e==null||(a=e.original_file_size)==null?void 0:a.toString(),share_type:e==null?void 0:e.share_type,source:e==null?void 0:e.source,source_bit_rate:e==null?void 0:e.source_bit_rate,source_file_size:e==null||(i=e.source_file_size)==null?void 0:i.toString(),source_height:e==null?void 0:e.source_height,source_type:e==null||(l=e.source_type)==null?void 0:l.toString(),source_width:e==null?void 0:e.source_width,use_fb_image_picker:e==null?void 0:e.use_fb_image_picker};r("MediaUploadInitFailureFalcoEvent").log(function(){return s})}function $(e,t){var n={creation_session_id:t};return babelHelpers.extends({},e,n)}l.default=e}),98);
__d("getMediaFile",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.file}i.default=e}),66);
__d("getVideoTrimSettings",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.extra.trimData}i.default=e}),66);
__d("ComposerMediaFileUploader",["fbt","ActorURI","QuickPerformanceLogger","ReactComposerMediaConfig","VideoUploadFile","VideoUploadFlowNotifier","VideoUploadSurface","VideoUploader","XComposerPhotoUploader","cometComposerMediaUploadLogger","getMediaFile","getVideoTrimSettings","qpl"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(function(){function e(){this.subscribers=[]}var t=e.prototype;return t.subscribe=function(t){this.subscribers.push(t)},t.notify=function(t){this.subscribers.forEach(function(e){return e(t)})},t.unsubscribe=function(t){this.subscribers=this.subscribers.filter(function(e){return e!==t})},e})(),c=new Map,d=(function(){function t(e,t,n,r){var a,i;this.startedObserver=new u,this.progressObserver=new u,this.successObserver=new u,this.errorObserver=new u,this.sphericalImageDetectedObserver=new u,this.uploadStatuses=new Map,this.uploadStatusChangeObserver=new u,this.videoUploadsQueue=[],this.actorID=e,this.videoUploaderConfig=t,this.creationSessionID=n!=null?n:"",this.photoUploader=this.$1(this.actorID,r),this.videoUploader=this.$2(this.videoUploaderConfig,this.creationSessionID),this.videoUploadFlowNotifier=o("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({cancel_on_leave:!1,composer_entry_point_ref:(a=this.videoUploaderConfig.composer_entry_point_ref)!=null?a:"unknown",composer_session_id:(i=this.creationSessionID)!=null?i:"",extended_flow_logging_enabled:!0,source:this.videoUploaderConfig.source}),o("VideoUploadSurface").VideoUploadSurface.getOrCreate(o("VideoUploadSurface").VideoUploadSurfaceIDs.FEED).notifiers().register(this.videoUploadFlowNotifier,this.creationSessionID)}var n=t.prototype;return n.$3=function(t,n){var e,r=(e=this.uploadStatuses.get(t))==null?void 0:e.bytesTotal;r!=null&&(this.uploadStatuses.set(t,{bytesLoaded:n!=null?n:r,bytesTotal:r}),this.uploadStatusChangeObserver.notify(this.uploadStatuses))},n.$1=function(n,a){var t=this;return new(r("XComposerPhotoUploader"))({concurrentLimit:r("ReactComposerMediaConfig").photo.concurrentLimit,onUploadFailure:function(n,r){var e,o;t.$4(n,"PHOTO",(e=r.response.getErrorDescriptionString())!=null?e:"",null,r.response.error.toString()),t.errorObserver.notify({entID:(o=r.response.payload)==null?void 0:o.photoID,error:r.response.getErrorSummary(),uploadID:n})},onUploadIsSpherical:function(n,r,o){n&&r&&t.sphericalImageDetectedObserver.notify({isSpherical:n,sphericalImage:r,uploadID:o})},onUploadProgress:function(n,r){var e=Math.min(1,Math.max(0,r.event.loaded/r.event.total));t.progressObserver.notify({percentComplete:e,uploadID:n}),t.$3(n,r.event.loaded)},onUploadStart:function(n,r){t.$5(n,"PHOTO"),t.startedObserver.notify({uploadID:n})},onUploadSuccess:function(o,a){var n=a.response.payload;if(n==null){var i;t.$4(o,"PHOTO",(i=a.response.getErrorDescriptionString())!=null?i:""),t.errorObserver.notify({entID:null,error:a.response.getErrorSummary(),uploadID:o})}else t.$6(o,n.photoID,"PHOTO"),t.successObserver.notify({attachmentType:"PHOTO",entID:n.photoID,imageURL:n.imageSrc,takenTime:n.mediaTakenTime?n.mediaTakenTime*1e3:null,uploadID:o}),t.$3(o),(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(741087294,"2028")),e.markerAnnotate(r("qpl")._(741087294,"2028"),{int:{height:n.height,width:n.width}}),e.markerEnd(r("qpl")._(741087294,"2028"),2)},retryLimit:r("ReactComposerMediaConfig").photo.retryLimit,uploadData:babelHelpers.extends({},r("ReactComposerMediaConfig").photo.uploadData,{source:8},a?{work_shared_draft_mode:"drafter_creating"}:{}),uploadEndpoint:o("ActorURI").create(r("ReactComposerMediaConfig").photo.uploadEndpoint,this.actorID)})},n.$2=function(t,n){var e=babelHelpers.extends({},t,{isMultiMediaPost:!0,waterfall_id:n});return new(r("VideoUploader"))(e)},n.upload=function(t,n){var e=this;t.forEach(function(t){var n=t.file,r=n.uploadID;r!=null&&e.uploadStatuses.get(r)==null&&e.uploadStatuses.set(r,{bytesLoaded:0,bytesTotal:n.size})}),this.uploadStatusChangeObserver.notify(this.uploadStatuses),this.$7(t.filter(function(e){var t=e.extra;return t.fileType==="PHOTO"}).map(function(e){var t=e.file;return t}),n),this.$8(t.filter(function(e){var t=e.extra;return t.fileType==="VIDEO"}))},n.$7=function(t,n){t.length>0&&this.photoUploader.getAsyncUploadRequest(t,{preventDefaultErrorHandler:n}).send()},n.$8=function(t){var e=this;if(t.length>0&&(this.videoUploadsQueue=this.videoUploadsQueue.concat(t)),this.videoUploadsQueue.length>0&&!this.videoUploader.isSessionExist()){var n=this.videoUploadsQueue.shift(),o=r("getMediaFile")(n);this.currentVideoUploadID=o.uploadID,this.videoUploader=this.$2(this.videoUploaderConfig,this.creationSessionID);var a=this.videoUploader;a.subscribe("upload-started",function(t,n){var r=o.uploadID;e.$5(r!=null?r:"","VIDEO"),r!=null&&e.startedObserver.notify({uploadID:r})}),a.subscribe("upload-progressed",function(t,n){var r=Math.min(1,Math.max(0,(n.start_offset+n.sent_bytes)/n.file_size)),i=o.uploadID;i!=null&&(e.progressObserver.notify({entID:a.getVideoID(),percentComplete:r,uploadID:i}),e.$3(i,n.start_offset+n.sent_bytes))}),a.subscribe("upload-finished",function(t,n){a.reset();var r=o.uploadID;e.$6(r!=null?r:"",n.video_id,"VIDEO"),r!=null&&(e.successObserver.notify({attachmentType:"VIDEO",entID:n.video_id,uploadID:r}),e.$3(r)),e.$8([])}),a.subscribe("upload-failed",function(t,n){var r=o.uploadID;if(e.$4(r!=null?r:"","VIDEO",n.error_description,n.video_id,n.error_code,n.error_summary),r!=null){var a;e.errorObserver.notify({entID:n.video_id,error:(a=n.error_description)!=null?a:s._(/*BTDS*/"Something went wrong and your video couldn't be uploaded. Please try again."),uploadID:r})}e.$8([])}),a.subscribe("upload-canceled",function(t){var n=o.uploadID;e.$9(n!=null?n:"","VIDEO")}),this.videoUploadFlowNotifier.registerVideoUpload(a,o.uploadID);var i=null,l=r("getVideoTrimSettings")(n);l!=null&&(i=[{params:{trim_end:l.videoTrimEnd,trim_start:l.videoTrimStart},type:"VideoTrim"}]),a.upload(r("VideoUploadFile").fromFile(o),{creativeTools:i})}},n.$5=function(t,n){r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_type:n},type:"MEDIA_UPLOAD_TRANSFER_START"},this.creationSessionID)},n.$6=function(t,n,o){r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_item_fbid:n,media_type:o},type:"MEDIA_UPLOAD_TRANSFER_SUCCESS"},this.creationSessionID),r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_item_fbid:n,media_type:o},type:"MEDIA_UPLOAD_SUCCESS"},this.creationSessionID),r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_item_fbid:n,media_type:o},type:"MEDIA_UPLOAD_FLOW_SUCCESS"},this.creationSessionID)},n.$4=function(t,n,o,a,i,l){r("cometComposerMediaUploadLogger")({fields:{error_code:i,error_description:o,error_summary:l,media_id:t,media_item_fbid:a,media_type:n},type:"MEDIA_UPLOAD_FAILURE"},this.creationSessionID)},n.$9=function(t,n){r("cometComposerMediaUploadLogger")({fields:{media_id:t,media_type:n},type:"MEDIA_UPLOAD_CANCEL"},this.creationSessionID)},n.getCreationSessionID=function(){return this.creationSessionID},n.cancelUpload=function(t,n){n==="VIDEO"&&(this.videoUploadsQueue=this.videoUploadsQueue.filter(function(e){return r("getMediaFile")(e).uploadID!==t}),this.currentVideoUploadID===t&&(this.videoUploader.cancel(),this.$8([])))},t})(),m={createOrGetInstance:function(t,n,r,a,i){a===void 0&&(a=!1),i===void 0&&(i=!1);var e=c.get(t)||new d(t,n,r,a);if(e.creationSessionID!==r||i){var l;e.creationSessionID=r!=null?r:"",e.videoUploaderConfig=n,e.videoUploadFlowNotifier=o("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({cancel_on_leave:!1,composer_entry_point_ref:(l=e.videoUploaderConfig.composer_entry_point_ref)!=null?l:"unknown",composer_session_id:r!=null?r:"",extended_flow_logging_enabled:!0,source:e.videoUploaderConfig.source}),o("VideoUploadSurface").VideoUploadSurface.getOrCreate(o("VideoUploadSurface").VideoUploadSurfaceIDs.FEED).notifiers().register(e.videoUploadFlowNotifier,e.creationSessionID)}c.set(t,e);var s=function(){c.delete(t)};return[e,s]},getInstance:function(t){return c.get(t)}};l.default=m}),226);
__d("StoriesCreateMediaTypeEnum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({PHOTO:"photo",SATP:"satp",VIDEO:"video",CHANNEL:"channel"}),l=e;i.default=l}),66);/*FB_PKG_DELIM*/
__d("CometFacebookHelpURLConstants",[],(function(t,n,r,o,a,i){"use strict";var e="https://www.facebook.com/help";i.FACEBOOK_HELP_BASE_URL=e}),66);
__d("CometFullScreen",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t){var r=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen;return typeof r=="function"?r.call(t):(e||(e=n("Promise"))).reject()}function s(){var t=document.exitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitExitFullscreen;return typeof t=="function"?t.call(document):(e||(e=n("Promise"))).reject()}function u(){return(document.webkitFullscreenEnabled===!0||document.mozFullScreenEnabled===!0||document.msFullscreenEnabled===!0||document.fullscreenEnabled===!0)&&(typeof document.webkitExitFullscreen=="function"||typeof document.mozCancelFullScreen=="function"||typeof document.msExitFullscreen=="function"||typeof document.exitFullscreen=="function")}function c(){return document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||null}function d(){return c()!=null}function m(){return["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"]}function p(e){var t=window.document,n=!1,r=!0;return m().forEach(function(o){t.addEventListener(o,e,{capture:n,passive:r})}),function(){m().forEach(function(r){t.removeEventListener(r,e,n)})}}i.requestFullScreen=l,i.exitFullScreen=s,i.isSupported=u,i.getFullScreenElement=c,i.isFullScreen=d,i.getFullScreenChangeEventNames=m,i.subscribeToFullScreenChangeEvent=p}),66);
__d("CometLightweightVideoAttachmentContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isLightweightVideoAttachment:!1});l.default=u}),98);
__d("CometObjectFitContainer.react",["FBLogger","cr:964538","isStringNullOrEmpty","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={inner:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},innerWithAspectRatio:{bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},outer:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},outerWithAspectRatio:{height:"xt7dq6l",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(21),a=t.children,i=t.debugRole,l=t.innerInlineStyle,s=t.innerXStyle,d=t.outerInlineStyle,m=t.outerRef,p=t.outerXStyle,_=t.testid,f=r("isStringNullOrEmpty")(_)?void 0:_+"-outer",g=r("isStringNullOrEmpty")(_)?void 0:_+"-inner",h;n[0]!==i?(h={},n[0]=i,n[1]=h):h=n[1];var y;n[2]!==p?(y=(e||(e=r("stylex")))(c.outer,p),n[2]=p,n[3]=y):y=n[3];var C;n[4]!==i?(C={},n[4]=i,n[5]=C):C=n[5];var b;n[6]!==s?(b=(e||(e=r("stylex")))(c.inner,s),n[6]=s,n[7]=b):b=n[7];var v;n[8]!==a||n[9]!==l||n[10]!==C||n[11]!==b||n[12]!==g?(v=u.jsx("div",babelHelpers.extends({},C,{className:b,"data-testid":void 0,style:l,children:a})),n[8]=a,n[9]=l,n[10]=C,n[11]=b,n[12]=g,n[13]=v):v=n[13];var S;return n[14]!==d||n[15]!==m||n[16]!==h||n[17]!==y||n[18]!==v||n[19]!==f?(S=u.jsx("div",babelHelpers.extends({},h,{className:y,"data-testid":void 0,ref:m,style:d,children:v})),n[14]=d,n[15]=m,n[16]=h,n[17]=y,n[18]=v,n[19]=f,n[20]=S):S=n[20],S}function m(e){var t=o("react-compiler-runtime").c(15),n=e.children,a=e.contentAspectRatio,i=e.debugRole,l=e.objectFitMode,s=e.ref,m=e.testid,p=l===void 0?"CONTAINER_SIZE":l,_=a!=null&&isFinite(a)&&a>0?a:1.7777777777777777;if(p==="CONTAINER_WIDTH_BASED_ASPECT_RATIO"){var f=isFinite(_)&&_>0?100/_:100,g;t[0]!==f?(g=f.toFixed(5),t[0]=f,t[1]=g):g=t[1];var h=g+"%",y;t[2]!==h?(y={paddingBottom:h},t[2]=h,t[3]=y):y=t[3];var C=y,b;return t[4]!==n||t[5]!==i||t[6]!==C||t[7]!==s||t[8]!==m?(b=u.jsx(d,{children:n,debugRole:i,innerXStyle:c.innerWithAspectRatio,outerInlineStyle:C,outerRef:s,outerXStyle:c.outerWithAspectRatio,testid:void 0}),t[4]=n,t[5]=i,t[6]=C,t[7]=s,t[8]=m,t[9]=b):b=t[9],b}else if(p==="CONTAINER_SIZE"){var v;return t[10]!==n||t[11]!==i||t[12]!==s||t[13]!==m?(v=u.jsx(d,{children:n,debugRole:i,outerRef:s,testid:void 0}),t[10]=n,t[11]=i,t[12]=s,t[13]=m,t[14]=v):v=t[14],v}else throw r("FBLogger")("comet_ui").mustfixThrow("Unsupported objectFitMode %s",p)}l.default=m}),98);
__d("VideoPlayerOnViewability.react",["DOMRectIsEqual","DOMRectReadOnly","VideoPlayerViewabilityConstants","emptyFunction","react","useIntersectionObserver","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo,p=c.useRef,_=10,f=[.25,.75,.99,1].concat(new Array(10).fill().map(function(e,t){return t/10}));function g(t){var n=t.viewportMargins,o=p(-1),a=p(-1),i=p(r("DOMRectReadOnly").fromRect({height:0,width:0,x:0,y:0})),l=p(null),s=p(null),c=-n.top+"px "+-n.right+"px "+-n.bottom+"px "+-n.left+"px",g=t.onVideoPlayerViewabilityInfoChange||r("emptyFunction"),h=_,y=d(function(e){if(e.time>a.current&&!r("DOMRectIsEqual")(e.boundingClientRect,i.current)){var t=e.boundingClientRect,n=t.height,o=t.width,s=t.x,u=t.y,c=l.current,d=r("DOMRectReadOnly").fromRect({height:n,width:o,x:s,y:u});if(i.current=d,a.current=e.time,c===null||c<=0||c<=r("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE)return;g({positionToViewport:d,visiblePercentage:c})}},[i,l,g]),C=d(function(e){if(e.time>o.current&&(e.intersectionRatio!==l.current||!r("DOMRectIsEqual")(e.boundingClientRect,i.current))){var t=e.boundingClientRect,n=t.height,u=t.width,c=t.x,d=t.y,m=e.intersectionRatio,p=r("DOMRectReadOnly").fromRect({height:n,width:u,x:c,y:d}),_=s.current,f=_,h=!1,y=Math.abs((_||0)*100-(m||0)*100);(m!==null&&y>=1||y>0&&m<(_||0))&&(f=m,s.current=m,h=!0),l.current=m,o.current=e.time;var C=i.current;if(i.current=p,a.current=e.time,!h&&r("DOMRectIsEqual")(C,p))return;f!==null&&g({positionToViewport:p,visiblePercentage:f})}},[a,i,l,g,o]),b=m(function(){for(var e=[],t=1;t<=h;t++)e.push("-"+(100-t/h*100)+"% 0% 0% 0%");return e},[h]),v=(e||(e=r("useUnsafeRef_DEPRECATED")))([]);v.current=[];for(var S=0;S<b.length;S++)v.current.push(d(r("useIntersectionObserver")(y,{root:null,rootMargin:b[S],threshold:f}),[b[S],f,r("useIntersectionObserver")]));var R=v.current.length,L=d(function(e){for(var t=0;t<R;t++)v.current[t](e)},[R,v]),E=d(r("useIntersectionObserver")(C,{root:null,rootMargin:c,threshold:f}),[C,c,f,r("useIntersectionObserver")]),k=d(function(e){E(e),L(e)},[E,L]);return u.jsx("div",{className:"x5yr21d x1uhb9sk xh8yej3",ref:k,children:u.Children.only(t.children)})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("renderVideoPlayerImplementation",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){if(e.typename==="VideoPlayerEmptyImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerOzImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerProgressiveImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerNextgendashImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));throw e.typename,r("FBLogger")("comet_video_player").mustfixThrow('CoreVideoPlayer: Unrecognized implementation typename "%s".',e.typename)}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("useCreateVideoPlayerPassiveViewabilityInfo",["removeFromArray","useStable"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("useStable")(s)}function s(){var e=[],t=null;return{setVideoPlayerViewabilityInfo:function(r){t=r,e.forEach(u)},videoPlayerPassiveViewabilityInfo:{getCurrent:function(){return t},subscribe:function(n){return e.push(n),{remove:function(){r("removeFromArray")(e,n)}}}}}}function u(e){return e()}l.default=e}),98);
__d("useCometSize_DO_NOT_USE",["CometThrottle","ExecutionEnvironment","FBLogger","HiddenSubtreePassiveContext","react","useResizeObserver","useStable","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useContext,m=c.useEffect,p=c.useLayoutEffect,_=c.useRef,f=c.useState;function g(e){var t=e.setBoxStateStable,n=null,o=function(r){var e,o;((e=n)==null?void 0:e.height)===r.height&&((o=n)==null?void 0:o.width)===r.width||(n=r,t(r))},a=function(t){var e=t.getBoundingClientRect(),n=e.height,r=e.width;o({height:n,width:r})},i=r("CometThrottle")(function(e){var t=e.height,n=e.width;t===0&&n===0||o({height:t,width:n})},200,{leading:!0,trailing:!0});return{measure:a,onResizeThrottled:i}}function h(t,n){if(t===void 0&&(t=!1),n===void 0&&(n=!1),!(e||(e=r("ExecutionEnvironment"))).canUseDOM&&!t)throw r("FBLogger")("comet_ssr").blameToPreviousFile().mustfixThrow("useCometSize is not compatible with Server Rendering. This will break SSR! See https://fburl.com/wiki/xrzohrqb");var o=_(null),a=f(null),i=a[0],l=a[1],u=d(r("HiddenSubtreePassiveContext")),c=r("useStable")(function(){return g({setBoxStateStable:l})}),h=r("useResizeObserver")(c.onResizeThrottled),y=_(h);p(function(){y.current=h},[h]);var C=(s||(s=r("useUnsafeRef_DEPRECATED")))(function(e){e!==o.current&&(o.current=e,e!=null&&!n&&c.measure(e)),y.current(o.current)});return m(function(){if(u.getCurrentState().hidden){var e=u.subscribeToChanges(function(t){!t.hidden&&o.current!=null&&!n&&(c.measure(o.current),e.remove())});return function(){return e.remove()}}},[u,c]),m(function(){return function(){c.onResizeThrottled.cancel()}},[c]),[C.current,i]}l.default=h}),98);
__d("useObjectFitContainerDimensions",["CometObjectFitContainer.react","react","react-compiler-runtime","useCometSize_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=584;function c(e){return e==="video_home_inline"||e==="inline"?{height:u,width:u}:{height:1080,width:1920}}function d(e,t,n){var a=o("react-compiler-runtime").c(8),i=r("useCometSize_DO_NOT_USE")(t!=null?t:!1,n!=null?n:!1),l=i[0],u=i[1],d;a[0]!==u||a[1]!==e?(d=u!=null?u:c(e),a[0]=u,a[1]=e,a[2]=d):d=a[2];var m=d,p;a[3]!==l?(p=function(t){return s.jsx(r("CometObjectFitContainer.react"),{debugRole:null,objectFitMode:"CONTAINER_SIZE",ref:l,children:t})},a[3]=l,a[4]=p):p=a[4];var _;return a[5]!==m||a[6]!==p?(_=[m,p],a[5]=m,a[6]=p,a[7]=_):_=a[7],_}l.default=d}),98);
__d("videoPlayerUniqueID",["guid"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return"id-vpuid-"+(e!=null?e:r("guid")())}l.default=e}),98);
__d("CoreVideoPlayer.react",["ErrorMetadata","FBLogger","VideoPlayerOnViewability.react","VideoPlayerViewabilityContexts","cr:9824","createVideoStateHook","err","getVideoShareDownstreamSignalTracking","react","react-compiler-runtime","renderVideoPlayerImplementation","useCreateVideoPlayerPassiveViewabilityInfo","useObjectFitContainerDimensions","useStable","videoPlayerUniqueID"],(function(t,n,r,o,a,i,l){"use strict";var e=["implementations"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef;function p(e){var t=o("react-compiler-runtime").c(20),n=e.coreVideoPlayerProps,a=e.implementation,i=n.coreVideoPlayerMetaData,l=n.fullscreenController,s=n.isFullscreen,c=n.onCoreVideoStatesChanged,d=n.renderWithCoreVideoStates,p=n.trackingDataEncrypted,_=n.trackingNodes,f=n.viewportMarginsForViewability,g;t[0]!==i.videoPlayerUniqueIDOverride?(g=function(){return r("videoPlayerUniqueID")(i.videoPlayerUniqueIDOverride)},t[0]=i.videoPlayerUniqueIDOverride,t[1]=g):g=t[1];var h=r("useStable")(g);o("createVideoStateHook").useCleanupVideoStateHooks_INTERNAL(h);var y=m(0),C=r("useCreateVideoPlayerPassiveViewabilityInfo")(),b=C.setVideoPlayerViewabilityInfo,v=C.videoPlayerPassiveViewabilityInfo,S=r("useObjectFitContainerDimensions")(i.subOrigin,i.bypassUseCometSizeError,i.bypassMeasureOnMount),R=S[0],L=S[1],E;t[2]!==d||t[3]!==v?(E=function(t){var e=t.implementationController,n=t.implementationExposedState;return d({implementationController:e,implementationExposedState:n,videoPlayerPassiveViewabilityInfo:v})},t[2]=d,t[3]=v,t[4]=E):E=t[4];var k=E,I;t[5]!==c||t[6]!==v?(I=function(t){var e=t.implementationController,n=t.implementationExposedState;c&&c({implementationController:e,implementationExposedState:n,videoPlayerPassiveViewabilityInfo:v})},t[5]=c,t[6]=v,t[7]=I):I=t[7];var T=I,D=o("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTrackingWithNumberStartTime(),x={accessToken:i.accessToken,dimensions:R,downstreamShareSignalTracking:D,instanceKey:h,playerImplementationInstanceCountRef:y,productAttribution:i.productAttribution,trackingDataEncrypted:p,trackingNodes:_},$={coreVideoPlayerMetaData:i,dimensions:R,fullscreenController:l,loggingMetaData:x,onExposedStateChanged:T,renderWithExposedState:k,videoPlayerPassiveViewabilityInfo:v},P=o("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext,N=r("VideoPlayerOnViewability.react"),M=r("renderVideoPlayerImplementation")(a,$),w;t[8]!==N||t[9]!==b||t[10]!==M||t[11]!==f?(w=u.jsx(N,{onVideoPlayerViewabilityInfoChange:b,viewportMargins:f,children:M}),t[8]=N,t[9]=b,t[10]=M,t[11]=f,t[12]=w):w=t[12];var A;t[13]!==s||t[14]!==P.Provider||t[15]!==w?(A=u.jsx(P.Provider,{value:s,children:w}),t[13]=s,t[14]=P.Provider,t[15]=w,t[16]=A):A=t[16];var F;return t[17]!==L||t[18]!==A?(F=L(A),t[17]=L,t[18]=A,t[19]=F):F=t[19],F}function _(t){var a=o("react-compiler-runtime").c(6),i,l;if(a[0]!==t?(l=t.implementations,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l):(i=a[1],l=a[2]),l.length===0){var s,c,d,m,_=r("err")("No implementations given to CoreVideoPlayer");_.name="VideoPlayerNoImplementations",_.project="comet_video_player";var f=(s=_.metadata)!=null?s:new(r("ErrorMetadata"));_.metadata=f;var g=i.coreVideoPlayerMetaData.videoFBID;throw g!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",g),(c=r("FBLogger")("comet_video_player").catching(_)).mustfixThrow.apply(c,[(d=_.messageFormat)!=null?d:_.message].concat(_.messageFormat!=null?(m=_.messageParams)!=null?m:[]:[]))}var h;return a[3]!==i||a[4]!==l?(h=n("cr:9824")?u.jsx(n("cr:9824"),{CoreVideoPlayerWithOneImplementation:p,coreVideoPlayerProps:i,implementations:l}):u.jsx(p,{coreVideoPlayerProps:i,implementation:l[0]}),a[3]=i,a[4]=l,a[5]=h):h=a[5],h}l.default=_}),98);
__d("DOMContainer.react",["invariant","isNode","react"],(function(t,n,r,o,a,i,l,s){var e=["display"],u,c=u||(u=o("react")),d=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.containerNode=null,e.setContainerNode=function(t){e.containerNode=t;var n=e.props.containerRef;typeof n=="function"&&n(t)},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.getDOMChild=function(){var e=this.props.children;return r("isNode")(e)||s(0,1533),e},o.shouldComponentUpdate=function(t){return t.children!==this.props.children},o.componentDidMount=function(){var e=this.containerNode;e!=null&&e.appendChild(this.getDOMChild())},o.componentDidUpdate=function(t){var e=this.containerNode;if(e!=null){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(this.getDOMChild())}},o.render=function(){var t=this.props,n=t.display,r=babelHelpers.objectWithoutPropertiesLoose(t,e),o=n==="block"?"div":"span";return c.jsx(o,babelHelpers.extends({},r,{ref:this.setContainerNode,children:void 0}))},n})(c.Component);d.defaultProps={display:"inline"},l.default=d}),98);
__d("CoreVideoPlayerFitParentContainer.react",["DOMContainer.react","cr:964538","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.ref,r=e.children,a=e.debugRole,i=e.testid,l;t[0]!==a?(l=null,t[0]=a,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",t[2]=u):u=t[2];var c;return t[3]!==r||t[4]!==n||t[5]!==l||t[6]!==i?(c=s.jsx("div",babelHelpers.extends({},l,{className:u,"data-testid":void 0,ref:n,children:r})),t[3]=r,t[4]=n,t[5]=l,t[6]=i,t[7]=c):c=t[7],c}function c(e){var t=o("react-compiler-runtime").c(7),n=e.ref,a=e.debugRole,i=e.domElement,l;t[0]!==a?(l=null,t[0]=a,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",t[2]=u):u=t[2];var c;return t[3]!==i||t[4]!==n||t[5]!==l?(c=s.jsx(r("DOMContainer.react"),babelHelpers.extends({},l,{className:u,display:"block",ref:n,children:i})),t[3]=i,t[4]=n,t[5]=l,t[6]=c):c=t[6],c}function d(e){var t=e.debugRole,n=document.createElement("div");return n.className="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",n}l.CoreVideoPlayerFitParentContainer=u,l.CoreVideoPlayerFitParentDOMContainer=c,l.createFitParentContainerDiv=d}),98);
__d("FDSResizeUpFilled20Icon",["cr:14081"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14081")}),98);
__d("GlobalVideoPortsRenderers.react",["CoreVideoPlayer.react","VideoPlayerContexts","VideoPlayerPortalingPlaceInfoProvider.react","emptyFunction","fb-error","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useState,p=r("emptyFunction").thatReturns(null);function _(e){var t=o("react-compiler-runtime").c(14),n=e.coreVideoPlayerMetaData,a=e.currentPlaceID,i=e.currentVideoID,l=e.fullscreenController,s=e.implementations,c=e.isFullscreen,d=e.onCoreVideoStatesChanged,m=e.previousPlaceMetaData,_=e.trackingDataEncrypted,f=e.trackingNodes,g=e.viewportMarginsForViewability,h;t[0]!==n||t[1]!==l||t[2]!==s||t[3]!==c||t[4]!==d||t[5]!==_||t[6]!==f||t[7]!==g?(h=u.jsx(r("CoreVideoPlayer.react"),{coreVideoPlayerMetaData:n,fullscreenController:l,implementations:s,isFullscreen:c,onCoreVideoStatesChanged:d,renderWithCoreVideoStates:p,trackingDataEncrypted:_,trackingNodes:f,viewportMarginsForViewability:g}),t[0]=n,t[1]=l,t[2]=s,t[3]=c,t[4]=d,t[5]=_,t[6]=f,t[7]=g,t[8]=h):h=t[8];var y;return t[9]!==a||t[10]!==i||t[11]!==m||t[12]!==h?(y=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:a,currentVideoID:i,portalingEnabled:!0,previousPlaceMetaData:m,thisPlaceID:a,children:h}),t[9]=a,t[10]=i,t[11]=m,t[12]=h,t[13]=y):y=t[13],y}function f(e){var t=o("react-compiler-runtime").c(11),n=e.currentPlaceID,r=e.currentVideoID,a=e.previousPlaceMetaData,i=e.renderPlaceholder,l=e.thisPlaceID,c=e.videoPixelsAspectRatio,d;t[0]!==i?(d=i!=null?i():null,t[0]=i,t[1]=d):d=t[1];var m;t[2]!==d||t[3]!==c?(m=u.jsx((s||(s=o("VideoPlayerContexts"))).VideoPixelsAspectRatioContext.Provider,{value:c,children:d}),t[2]=d,t[3]=c,t[4]=m):m=t[4];var p;return t[5]!==n||t[6]!==r||t[7]!==a||t[8]!==m||t[9]!==l?(p=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:n,currentVideoID:r,portalingEnabled:!0,previousPlaceMetaData:a,thisPlaceID:l,children:m}),t[5]=n,t[6]=r,t[7]=a,t[8]=m,t[9]=l,t[10]=p):p=t[10],p}function g(e){var t=o("react-compiler-runtime").c(12),n=e.currentPlaceID,a=e.currentVideoID,i=e.injectCoreVideoStatesRef,l=e.previousPlaceMetaData,s=e.renderComponents,c=e.thisPlaceID,p=m(null),_=p[0],f=p[1],g=m(null),h=g[0],y=g[1],C,b;if(t[0]!==i?(C=function(){return i.current=function(e,t){if(e!=null){var n,o,a=r("fb-error").getErrorSafe(e),i=r("fb-error").err.apply(r("fb-error"),[(n=a.messageFormat)!=null?n:a.message].concat(a.messageFormat!=null?(o=a.messageParams)!=null?o:[]:[]));i.name=i.errorName=a.name,i.metadata=a.metadata,i.stack=a.stack,i.taalOpcodes=a.taalOpcodes,i.cause=e,y(i)}f(t)},(function(){i.current=null})},b=[i],t[0]=i,t[1]=C,t[2]=b):(C=t[1],b=t[2]),d(C,b),c===n){if(h!=null)throw h;if(_!=null){var v;t[3]!==_||t[4]!==s?(v=s(_),t[3]=_,t[4]=s,t[5]=v):v=t[5];var S;return t[6]!==n||t[7]!==a||t[8]!==l||t[9]!==v||t[10]!==c?(S=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:n,currentVideoID:a,portalingEnabled:!0,previousPlaceMetaData:l,thisPlaceID:c,children:v}),t[6]=n,t[7]=a,t[8]=l,t[9]=v,t[10]=c,t[11]=S):S=t[11],S}else return null}else return null}l.GlobalVideoPortsPlayerRenderer=_,l.GlobalVideoPortsPlaceholderRenderer=f,l.GlobalVideoPortsVideoComponentsRenderer=g}),98);
__d("GraphQLVideoAutoplayGatingResult",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e!=null?e:"unknown",o=t||null;return{autoplayGatingResult:r,autoplaySetting:o,canAutoplay:n!=null?n:!1}}i.makeGraphQLVideoAutoplayGatingResult=e}),66);
__d("VideoPlayerCaptionsDisplay.react",["FBLogger","VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useContext,m={captionsCenterAlign:{justifyContent:"xl56j7k",textAlign:"x2b8uid",$$css:!0},captionsContainer:{bottom:"xfqi8uc",boxSizing:"x9f619",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",textAlign:"x2b8uid",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",width:"xh8yej3",$$css:!0},captionsLeftAlign:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},captionsRightAlign:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0}},p={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},_={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},f={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function g(e){switch(e){case"center":return m.captionsCenterAlign;case"left":return m.captionsLeftAlign;case"right":return m.captionsRightAlign;default:r("FBLogger")("comet_video_player").mustfix("Unsupported captions text alignment: %s",e)}}function h(e,t,n){var r={},o=e.captionsBackgroundColor,a=e.captionsBackgroundOpacity,i=e.captionsTextColor,l=e.captionsTextSize;if(o!==null){var s=a!==null?_[a]:1;r.backgroundColor="rgba("+f[o]+","+s+")"}return i!==null&&(r.color="rgba("+f[i]+")"),l!==null&&(r.fontSize=t!=null?babelHelpers.extends({},p,t)[l]:p[l]),n&&(r.marginBottom=35),r}function y(t){var n,a,i=o("react-compiler-runtime").c(14),l=t.activeCaptions,s=t.adjustments,p=t.captionDisplayStyle,_=l==null?void 0:l.rows,f=d(r("VideoPlayerCaptionsDisplayConfigContext")),y=f.liveCaptionsTextAlignment,S=f.textSizeMapping,R=d(o("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),L;i[0]!==R?(L=R==null?void 0:R.getBottomRowAddOn(),i[0]=R,i[1]=L):L=i[1];var E=L!=null,k;i[2]===Symbol.for("react.memo_cache_sentinel")?(k={},i[2]=k):k=i[2];var I=k;if(p){var T;i[3]!==p||i[4]!==E||i[5]!==S?(T=h(p,S,E),i[3]=p,i[4]=E,i[5]=S,i[6]=T):T=i[6],I=T}var D=(u||(u=o("VideoPlayerHooks"))).useIsLive(),x=(n=l==null||(a=l.styles)==null?void 0:a.textAlignment)!=null?n:"center";if(_!=null&&_.length>0){var $;if(i[7]!==s||i[8]!==I||i[9]!==x||i[10]!==D||i[11]!==y||i[12]!==_){var P=_.map(v).filter(b);$=P.length>0?c.jsx("div",{className:(e||(e=r("stylex")))(m.captionsContainer,g(D&&y!=null?y:x)),style:{paddingLeft:s.left,paddingRight:s.right,transform:"translateY("+-s.bottom+"px)"},children:c.jsx("div",{className:"x18l40ae x14ctfv x1lkfr7t xk50ysn x37zpob xdj266r x32vodv xat24cr x1v6o4qg xulzisn xoge9qh x1uwfbks xytt9sc",style:I,children:P.map(C)})}):null,i[7]=s,i[8]=I,i[9]=x,i[10]=D,i[11]=y,i[12]=_,i[13]=$}else $=i[13];return $}return null}function C(e,t){return c.jsxs("span",{children:[e,c.jsx("br",{})]},t)}C.displayName=C.name+" [from "+i.id+"]";function b(e){return!!e}function v(e){return e.trim()}var S=c.memo(y),R=S;l.default=R}),98);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(){var e=o("react-compiler-runtime").c(2),t=(s||(s=o("VideoPlayerHooks"))).useVideoPlayerCaptionsReservations(),n;return e[0]!==t?(n={bottom:0,left:0,right:0,top:0},t.length>0&&t.forEach(function(e){n[e.location]=n[e.location]+e.size}),e[0]=t,e[1]=n):n=e[1],n}l.default=c}),98);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","react-compiler-runtime","useVideoPlayerCaptionsDisplayAdjustments"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(4),t=(s||(s=o("VideoPlayerHooks"))).useActiveCaptions(),n=r("useVideoPlayerCaptionsDisplayAdjustments")(),a=s.useCaptionDisplayStyle(),i;return e[0]!==t||e[1]!==n||e[2]!==a?(i=u.jsx(r("VideoPlayerCaptionsDisplay.react"),{activeCaptions:t,adjustments:n,captionDisplayStyle:a}),e[0]=t,e[1]=n,e[2]=a,e[3]=i):i=e[3],i}l.default=c}),98);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useReducer,p=d.useState;function _(e,t){switch(t.type){case"reserve":return e.concat(t.reservation);case"release":return e.filter(function(e){return e!==t.reservation});default:return e}}function f(e){var t=o("react-compiler-runtime").c(11),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];var i=m(_,a),l=i[0],d=i[1],f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f={release:function(t){d({reservation:t,type:"release"})},reserve:function(t){return d({reservation:t,type:"reserve"}),t}},t[1]=f):f=t[1];var g=p(f),h=g[0],y=(s||(s=o("VideoPlayerHooks"))).useCaptionsVisible(),C;t[2]!==y?(C=y?c.jsx(r("VideoPlayerCaptions.react"),{}):null,t[2]=y,t[3]=C):C=t[3];var b;t[4]!==n||t[5]!==l||t[6]!==C?(b=c.jsxs((u||(u=o("VideoPlayerContexts"))).VideoPlayerCaptionsReservationsContext.Provider,{value:l,children:[C,n]}),t[4]=n,t[5]=l,t[6]=C,t[7]=b):b=t[7];var v;return t[8]!==h||t[9]!==b?(v=c.jsx((u||(u=o("VideoPlayerContexts"))).VideoPlayerCaptionsReservationActionsContext.Provider,{value:h,children:b}),t[8]=h,t[9]=b,t[10]=v):v=t[10],v}l.default=f}),98);
__d("VideoPlayerOzImplLazyImportTemporaryModuleJustForGating.react",["deferredLoadComponent","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferredForDisplay")("VideoPlayerOzImplementationV2.react").__setRef("VideoPlayerOzImplLazyImportTemporaryModuleJustForGating.react"));l.default=e}),98);
__d("useDebouncedValue",["clearTimeout","react","react-compiler-runtime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=o("react-compiler-runtime").c(4),a=c(e),i=a[0],l=a[1],s,d;return n[0]!==t||n[1]!==e?(s=function(){var n=r("setTimeout")(function(){return l(e)},t);return(function(){return r("clearTimeout")(n)})},d=[e,t],n[0]=t,n[1]=e,n[2]=s,n[3]=d):(s=n[2],d=n[3]),u(s,d),i}l.default=d}),98);
__d("VideoPlayerSpinner.react",["CometLightweightVideoAttachmentContext","FDSLoadingAnimation.react","gkx","react","react-compiler-runtime","stylex","useDebouncedValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext,d=36,m={spinner:{height:"xc9qbxq",insetInlineStart:"xbudbmw",opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",transitionDelay:"x5w5eug",transitionDuration:"x13dflua",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x14qfxbe",$$css:!0},spinnerHidden:{opacity:"xg01cxk",transitionDelay:"x2p8vrm",transitionDuration:"x13dflua",transitionProperty:"x1jl3cmp",transitionTimingFunction:"xl405pv",visibility:"xlshs6z",$$css:!0},spinnerSnappier:{transitionDelay:"x2p8vrm",$$css:!0},spinnerSnappierHidden:{transitionDelay:"x1ahifba",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(8),a=t.isVisible,i=r("useDebouncedValue")(a,a?200:500),l=c(r("CometLightweightVideoAttachmentContext")),s=l.isLightweightVideoAttachment,p;n[0]!==a?(p=(e||(e=r("stylex"))).props(m.spinner,r("gkx")("24333")?[m.spinnerSnappier,!a&&m.spinnerHidden,!a&&m.spinnerSnappierHidden]:[!a&&m.spinnerHidden]),n[0]=a,n[1]=p):p=n[1];var _=!i,f=s?"media":"default",g;n[2]!==_||n[3]!==f?(g=u.jsx(r("FDSLoadingAnimation.react"),{animationPaused:_,color:f,size:d}),n[2]=_,n[3]=f,n[4]=g):g=n[4];var h;return n[5]!==p||n[6]!==g?(h=u.jsx("div",babelHelpers.extends({},p,{children:g})),n[5]=p,n[6]=g,n[7]=h):h=n[7],h}l.default=p}),98);
__d("addToMap",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){if(e.get(t)===n)return e;var r=new Map(e);return r.set(t,n),r}i.default=e}),66);
__d("computeAspectRatio",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e!=null&&t!=null&&e!==0&&t!==0?e/t:null}i.default=e}),66);
__d("getVideoPlayerAutoplayProps",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=t!=null?t:"respect_user_settings",o=r==="dangerously_always_autoplay",a=n!=null?n:"unknown",i=e.autoplaySetting||"default_autoplay",l=i==="off",s=o||r==="respect_user_settings"&&!l&&e.canAutoplay,u=r==="do_not_autoplay"?a:e.autoplayGatingResult,c=s?"allow":r==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:u,autoplaySetting:i,canAutoplay:c}}i.default=e}),66);
__d("getVideoPlayerUserFacingErrorMessageFromError",["fbt","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return r("gkx")("24345")&&e.message.toLowerCase().indexOf("audio_renderer_error")>=0}function u(e){return e.message.indexOf("DEVICE_CERTIFICATE_REVOKED")>=0}function c(e){return e.name.indexOf("VideoImplementationsDashManifestUnsupportedCodecs")>=0||e.name.indexOf("VideoImplementationsMediaSourceUnsupported")>=0}function d(e){return e.name==="OZ_NETWORK"&&e.message.includes("CDN URL expired")}function m(t){var n=null;return e(t)?n=s._(/*BTDS*/"\u10d0\u10e3\u10d3\u10d8\u10dd\u10e1 \u10e0\u10d4\u10dc\u10d3\u10d4\u10e0\u10d4\u10e0\u10d8\u10e1 \u10e8\u10d4\u10ea\u10d3\u10dd\u10db\u10d0. \u10d2\u10d0\u10d3\u10d0\u10e2\u10d5\u10d8\u10e0\u10d7\u10d4\u10d7 \u10d9\u10dd\u10db\u10de\u10d8\u10e3\u10e2\u10d4\u10e0\u10d8."):u(t)?n=s._(/*BTDS*/"\u10d4\u10e1 \u10d5\u10d8\u10d3\u10d4\u10dd DRM-\u10d8\u10d7 \u10d3\u10d0\u10ea\u10e3\u10da\u10d8\u10d0, \u10db\u10d0\u10d2\u10e0\u10d0\u10db, \u10e0\u10dd\u10d2\u10dd\u10e0\u10ea \u10e9\u10d0\u10dc\u10e1, \u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10db\u10dd\u10ec\u10e7\u10dd\u10d1\u10d8\u10da\u10dd\u10d1\u10d8\u10e1 \u10e1\u10d4\u10e0\u10e2\u10d8\u10e4\u10d8\u10d9\u10d0\u10e2\u10d8 \u10e3\u10d9\u10d0\u10dc \u10d2\u10d0\u10ee\u10db\u10dd\u10d1\u10d8\u10da\u10d8\u10d0. \u10d3\u10d0\u10e0\u10ec\u10db\u10e3\u10dc\u10d3\u10d8\u10d7, \u10e0\u10dd\u10db \u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10d1\u10e0\u10d0\u10e3\u10d6\u10d4\u10e0\u10d8 \u10d2\u10d0\u10dc\u10d0\u10ee\u10da\u10d4\u10d1\u10e3\u10da\u10d8\u10d0 \u10d3\u10d0 \u10e1\u10ea\u10d0\u10d3\u10d4\u10d7 \u10ee\u10d4\u10da\u10d0\u10ee\u10da\u10d0."):c(t)?n=s._(/*BTDS*/"\u10d0\u10db \u10d5\u10d8\u10d3\u10d4\u10dd\u10e1 \u10d3\u10d0\u10d9\u10d5\u10e0\u10d0 \u10d5\u10d4\u10e0 \u10ee\u10d4\u10e0\u10ee\u10d3\u10d4\u10d1\u10d0 \u10d7\u10e5\u10d5\u10d4\u10dc \u10db\u10d8\u10d4\u10e0 \u10d2\u10d0\u10db\u10dd\u10e7\u10d4\u10dc\u10d4\u10d1\u10e3\u10da\u10d8 \u10d1\u10e0\u10d0\u10e3\u10d6\u10d4\u10e0\u10d8\u10d7, \u10dd\u10de\u10d4\u10e0\u10d0\u10ea\u10d8\u10e3\u10da\u10d8 \u10e1\u10d8\u10e1\u10e2\u10d4\u10db\u10d8\u10d7 \u10d0\u10dc \u10de\u10e0\u10dd\u10d2\u10e0\u10d0\u10db\u10e3\u10da\u10d8 \u10e3\u10d6\u10e0\u10e3\u10dc\u10d5\u10d4\u10da\u10e7\u10dd\u10e4\u10d8\u10d7."):d(t)&&(n=s._(/*BTDS*/"\u10d0\u10db \u10d5\u10d8\u10d3\u10d4\u10dd\u10e1 \u10e8\u10d8\u10d2\u10d7\u10d0\u10d5\u10e1\u10d8 \u10d0\u10db\u10df\u10d0\u10db\u10d0\u10d3 \u10ee\u10d4\u10da\u10db\u10d8\u10e1\u10d0\u10ec\u10d5\u10d3\u10dd\u10db\u10d8 \u10d0\u10e0 \u10d0\u10e0\u10d8\u10e1.")),n}l.default=m}),226);
__d("logVultureJSDeadComponent",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){r("FBLogger")("vulture_js").mustfix("A dead component was referenced, Dead Component %s",e)}l.default=e}),98);
__d("useEventCallbackOn",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t,n){var r=o("react-compiler-runtime").c(5),a,i;r[0]!==n||r[1]!==t||r[2]!==e?(a=function(){return e.addEventListener(t,n),(function(){e.removeEventListener(t,n)})},i=[e,t,n],r[0]=n,r[1]=t,r[2]=e,r[3]=a,r[4]=i):(a=r[3],i=r[4]),s(a,i)}l.default=u}),98);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(){var e=t.document;return typeof e.hidden!="undefined"?"visibilitychange":typeof e.mozHidden!="undefined"?"mozvisibilitychange":typeof e.msHidden!="undefined"?"msvisibilitychange":typeof e.webkitHidden!="undefined"?"webkitvisibilitychange":"visibilitychange"}function m(){var e=t.document;return typeof e.hidden!="undefined"?e.hidden:typeof e.mozHidden!="undefined"?e.mozHidden:typeof e.msHidden!="undefined"?e.msHidden:typeof e.webkitHidden!="undefined"?e.webkitHidden:!1}var p=d();function _(e){var n=t.document.hasFocus?t.document.hasFocus():!0,r=m();return r||(e?!1:!n)}function f(){return m()}function g(e){"use no memo";var n=(e==null?void 0:e.noPauseOnBlurOrFocus)===!0,o=c(function(){return _(n)}),a=o[0],i=o[1],l=c(function(){return f()}),s=l[0],d=l[1],m=!!e&&e.scrollTerminatesHiddenOrBlurred===!0,g=u(function(){i(_(n)),d(f())},[i,n]),h=g,y=u(function(){var e=_(n);e&&m&&a&&i(!1)},[a,n,m]);return n&&(h=r("emptyFunction")),r("useEventCallbackOn")(t.window,"blur",h),r("useEventCallbackOn")(t.window,"focus",h),r("useEventCallbackOn")(t.document,p,g),r("useEventCallbackOn")(t.window,"scroll",y),{isDocumentHidden:s,isDocumentHiddenOrBlurred:a}}l.default=g}),98);
__d("useThrottled",["cr:6101"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:6101")}),34);
__d("useThrottledComet",["CometThrottle","react","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useLayoutEffect,d=s.useRef;function m(e,t){t===void 0&&(t=100);var n=d(e);c(function(){n.current=e},[e]);var o=r("useStable")(function(){return r("CometThrottle")(function(){var e=arguments;return n.current==null?void 0:n.current.apply(n,e)},t)});return u(function(){return function(){o.cancel()}},[]),o}l.default=m}),98);
__d("useThrottledImpl",["cr:1708227"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1708227")}),98);/*FB_PKG_DELIM*/
__d("BaseDataEntryKeyBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.key;return t.trimLeft().toLowerCase()}i.default=e}),66);
__d("BaseCacheEntryKeyBuilder",["BaseDataEntryKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("BaseDataEntryKeyBuilder")(e.entry)}l.default=e}),98);
__d("BaseDataEntryLabelKeyBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.label.trimLeft().toLowerCase()}i.default=e}),66);
__d("BaseCacheEntryLabelKeyBuilder",["BaseDataEntryLabelKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("BaseDataEntryLabelKeyBuilder")(e.entry)}l.default=e}),98);
__d("BaseTypeaheadDataCacheProvider",["BaseDataEntryLabelKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.cache,n=e.matchBuilder,o=e.mergeBuilder,a=e.keyBuilder,i=a===void 0?r("BaseDataEntryLabelKeyBuilder"):a;this.$1=t,this.$2=n,this.$3=o,this.$4=i}var t=e.prototype;return t.add=function(t){var e=this;t.forEach(function(t){var n=e.$4(t),r=e.$1.get(n);e.$1.set(n,r!=null&&e.$3!=null?e.$3(t,r):t)})},t.clear=function(){this.$1.clear()},t.remove=function(t){var e=this.$4(t);this.$1.remove(e)},t.match=function(t){var e=this.$2({query:t});return this.$1.values().map(function(e){return e.type==="section"?babelHelpers.extends({},e):babelHelpers.extends({},e)}).filter(function(t){return t.type==="section"?(t.entries=t.entries.filter(e),!0):e(t)})},t.values=function(){return this.$1.values()},e})();l.default=e}),98);
__d("BaseTypeaheadInMemoryMapDataCache",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.clear=function(){this.$1.clear()},t.get=function(t){return this.$1.get(t)},t.has=function(t){return this.$1.has(t)},t.remove=function(t){this.$1.delete(t)},t.set=function(t,n){this.$1.set(t,n)},t.values=function(){return Array.from(this.$1.values())},e})();i.default=e}),66);
__d("baseTypeaheadStartsWithMatchBuilder",["escapeRegex"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.query,n=new RegExp("^"+r("escapeRegex")(t),"i");return function(e){var t;return n.test((t=e.label)!=null?t:"")}}l.default=e}),98);
__d("BaseTypeaheadBaseStaticDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadStartsWithMatchBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.entries,n=e.keyBuilder,o=e.matchBuilder,a=o===void 0?r("baseTypeaheadStartsWithMatchBuilder"):o;this.$1=new(r("BaseTypeaheadDataCacheProvider"))({cache:new(r("BaseTypeaheadInMemoryMapDataCache")),keyBuilder:n,matchBuilder:a}),this.$1.add(t)}var t=e.prototype;return t.fetchCache=function(t){var e=t.query;return{entries:this.$1.match(e),params:t}},e})();l.default=e}),98);
__d("XPlatReactRelayErrorHandling",["CometRelayErrorHandling"],(function(t,n,r,o,a,i){"use strict";var e=importNamespace("CometRelayErrorHandling").markErrorAsHandled;i.markErrorAsHandled=e}),66);
__d("BaseTypeaheadDataProvider",["CometRelay","Promise","XPlatReactRelayErrorHandling"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.onError,n=e.options,r=e.query,o=e.queryVariablesBuilder,a=e.relayEnvironment;this.$1=t,this.$2=r,this.$3=o,this.$4=a,this.$5=n}var r=t.prototype;return r.fetch=function(r){var t=this,a=this.$3.build(),i=a(r);return new(e||(e=n("Promise")))(function(e,n){var r,a=!1;o("CometRelay").fetchQuery(t.$4,t.$2,i,{fetchPolicy:(r=t.$5)==null?void 0:r.fetchPolicy}).subscribe({error:function(r){o("XPlatReactRelayErrorHandling").markErrorAsHandled(r),t.$1!=null&&t.$1(r),n(r)},next:function(n){a||(a=!0,e({requestQueryVariables:i,response:n}))}})})},t})();l.default=s}),98);
__d("BaseTypeaheadDataProviderQueryVariablesBuilder",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=null,this.$2=null,this.$3=e}var t=e.prototype;return t.build=function(){return this.$3(this.$1,this.$2)},t.setComputedVariables=function(t){return this.$2=t,this},t.setDefaultVariables=function(t){return this.$1=t,this},e})();i.default=e}),66);
__d("BaseTypeaheadNetworkDataSource",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.fetchNetwork=function(t){var e=this;return this.$1.fetch(t).then(function(n){var r=n.requestQueryVariables,o=n.response;return{entries:e.$2(o,r),params:t}})},e})();i.default=e}),66);
__d("BaseTypeaheadNetworkCacheDataSource",["BaseTypeaheadNetworkDataSource"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var o=n.normalizeFunc;this.$1=new(r("BaseTypeaheadNetworkDataSource"))(e,o),this.$2=t}var t=e.prototype;return t.fetchCache=function(t){var e=t.query,n=this.$2.match(e);return{entries:n,params:t}},t.fetchNetwork=function(t){var e=this,n=t.query;return this.$1.fetchNetwork(t).then(function(r){var o=r.entries;return o!=null&&e.$2.add(o,n),{entries:e.$2.match(n),params:t}})},t.clearCache=function(){this.$2.clear()},e})();l.default=e}),98);
__d("searchBaseTypeaheadTakeNEntriesFromSectionedEntries",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(t===0)return[];var n=l(e,t),r=n.entryIndex,o=n.entryUnionIndex;if(o===void 0)return e;var a=e.slice(0,o+1);if(r!==void 0&&o!==void 0){var i=a[o];i.type==="section"&&(i.entries=i.entries.slice(0,r+1))}return a}function l(e,t){for(var n=t,r=0;r<e.length;r++){var o=e[r];if(o.type!=="section"){if(n--,n===0)return{entryUnionIndex:r}}else{if(n<=o.entries.length)return{entryIndex:n-1,entryUnionIndex:r};n-=o.entries.length}}return{}}i.default=e}),66);
__d("BaseTypeaheadPayloadDecoratorAddLimit",["searchBaseTypeaheadTakeNEntriesFromSectionedEntries"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t){var n=t.entries;return babelHelpers.extends({},t,{entries:r("searchBaseTypeaheadTakeNEntriesFromSectionedEntries")(n,e)})}}l.default=e}),98);
__d("baseTypeaheadDedupEntriesBuilder",["baseTypeaheadFlattenEntries"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t,n){var o=new Set(r("baseTypeaheadFlattenEntries")(t).map(function(t){return e(t)})),a=new Map;for(var i of t)i.type==="section"&&a.set(i.key,i);var l=n.map(function(t){if(t.type==="section"){var n=t.entries.filter(function(t){return!o.has(e(t))});if(n.length===0)return null;var r=a.get(t.key);return r!=null?(r.entries=[].concat(r.entries,n),null):(t.entries=n,t)}else return o.has(e(t))?null:t}).filter(Boolean);return[].concat(t,l)}}l.default=e}),98);
__d("baseTypeaheadLabelSuffixBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=e.label.trimLeft().toLowerCase();return t==null||!n.startsWith(t)?"":n.slice(t.length)}i.default=e}),66);
__d("BaseTypeaheadQueryDataCacheProvider",["BaseCacheEntryLabelKeyBuilder","BaseTypeaheadInMemoryMapDataCache","FBLogger","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e===void 0?{}:e,n=t.dedupe,o=t.suffixBuilder;this.$1=new(r("BaseTypeaheadInMemoryMapDataCache")),this.$2=n!=null?n:r("baseTypeaheadDedupEntriesBuilder")(r("BaseCacheEntryLabelKeyBuilder")),this.$3=o!=null?o:r("baseTypeaheadLabelSuffixBuilder")}var t=e.prototype;return t.add=function(t,n){n===void 0&&(n="");var e=(n!=null?n:"").trimLeft().toLowerCase(),r=this.$4(t,e);this.$1.set(e,r)},t.clear=function(){this.$1.clear()},t.match=function(t){var e=t.trimLeft().toLowerCase();if(e===""){var n;return((n=this.$1.get(e))!=null?n:[]).map(function(e){var t=e.entry;return t})}for(var r=[],o=1;o<=e.length;o++){var a=e.substring(0,o),i=e.substring(o,e.length),l=this.$5(a,i);r=this.$2(r,l)}return r.map(function(e){var t=e.entry;return t})},t.remove=function(t){r("FBLogger")("search").mustfix("'remove' is not implemented for BaseTypeaheadQueryDataCacheProvider")},t.$5=function(t,n){var e,r=(e=this.$1.get(t))!=null?e:[];return r.map(function(e){return!e.suffix.startsWith(n)&&e.suffix!==n.trim()?null:e}).filter(Boolean)},t.$4=function(t,n){var e=this;return t.map(function(t){return{entry:t,suffix:e.$3(t,n)}})},t.values=function(){return r("FBLogger")("search").mustfix("'entries' is not implemented for BaseTypeaheadQueryDataCacheProvider"),[]},e})();l.default=e}),98);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({fetch:r("emptyFunction"),isLoading:!1,refetch:r("emptyFunction"),source:"all"});l.default=u}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null,secondaryActionHighlighted:null});l.default=u}),98);
__d("CometTypeaheadGraphQLDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.gqlQuery,n=e.normalize,o=e.options,a=e.queryVariablesBuilderFunction,i=e.relayEnvironment,l=function(){return a},s=new(r("BaseTypeaheadDataProviderQueryVariablesBuilder"))(l),u=new(r("BaseTypeaheadDataProvider"))({options:o,query:t,queryVariablesBuilder:s,relayEnvironment:i}),c=new(r("BaseTypeaheadQueryDataCacheProvider"))({dedupe:r("baseTypeaheadDedupEntriesBuilder")(r("BaseCacheEntryKeyBuilder")),suffixBuilder:r("baseTypeaheadLabelSuffixBuilder")});this.$1=new(r("BaseTypeaheadNetworkCacheDataSource"))(u,c,{normalizeFunc:n})}var t=e.prototype;return t.fetchCache=function(t){return this.$1.fetchCache(t)},t.fetchNetwork=function(t){return this.$1.fetchNetwork(t)},t.clearCache=function(){this.$1.clearCache()},e})();l.default=e}),98);
__d("CometTypeaheadProgressGlimmer.react",["FDSProgressRingIndeterminate.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xdd8jsf",justifyContent:"xl56j7k",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(o("react-strict-dom").html.div,{style:u.root,children:s.jsx(r("FDSProgressRingIndeterminate.react"),{color:"dark",size:24})}),e[0]=t):t=e[0],t}l.default=c}),98);
__d("CometTypeaheadViewListSection.react",["FDSUnitHeader.react","emptyFunction","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={header:{marginBottom:"x1e56ztr",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(14),n=e.action,a=e.children,i=e.emptyStateContent,l=e.entries,c=e.highlightedEntry,d=e.itemRole,m=e.onHeaderActionPress,p=e.queryString,_=e.title,f;t[0]!==n||t[1]!==l.length||t[2]!==m||t[3]!==_?(f=_!=null&&l.length!==0?s.jsx(o("react-strict-dom").html.div,{style:u.header,children:s.jsx(r("FDSUnitHeader.react"),{action_DEPRECATED:(n==null?void 0:n.type)==="link"?n.label:void 0,actionLinkProps:(n==null?void 0:n.type)==="link"?{url:n.url}:void 0,headline:_,level:3,onActionPress:(n==null?void 0:n.type)==="link"?m:r("emptyFunction"),paddingHorizontal:8,paddingTop:12})}):null,t[0]=n,t[1]=l.length,t[2]=m,t[3]=_,t[4]=f):f=t[4];var g=l.length===0&&i!=null&&p===""?i:null,h;t[5]!==a||t[6]!==l||t[7]!==(c==null?void 0:c.key)||t[8]!==d?(h=l.length!==0?s.jsx(o("react-strict-dom").html.ul,{children:l.map(function(e,t){return a({entry:e,index:t,isActive:e.key===(c==null?void 0:c.key),itemRole:d})})}):null,t[5]=a,t[6]=l,t[7]=c==null?void 0:c.key,t[8]=d,t[9]=h):h=t[9];var y;return t[10]!==f||t[11]!==g||t[12]!==h?(y=s.jsxs(o("react-strict-dom").html.li,{children:[f,g,h]}),t[10]=f,t[11]=g,t[12]=h,t[13]=y):y=t[13],y}l.default=c}),98);
__d("CometTypeaheadSectionedViewListStrategy.react",["CometCompositeStructureContext","CometTypeaheadViewListSection.react","getItemRoleFromCompositeRole","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","emptyStateContent","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","onHeaderActionPress","queryString","viewItemStrategyRenderer"],s,u=s||(s=o("react")),c=s.useMemo,d={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(37),a,i,l,s,c,m,p,_;if(n[0]!==t){var f=t.ariaProps,g=t.emptyStateContent,h=t.entries,y=t.extraViewProps,C=t.highlightedEntry,b=t.isLoading,v=t.onAbandonTypeahead_DO_NOT_USE,S=t.onHeaderActionPress,R=t.queryString,L=t.viewItemStrategyRenderer,E=babelHelpers.objectWithoutPropertiesLoose(t,e);i=f,l=g,s=h,c=C,m=S,p=R,a=L,_=E,n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=m,n[7]=p,n[8]=_}else a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],m=n[6],p=n[7],_=n[8];var k=i.role,I;if(k!=null){var T;n[9]!==k?(T={role:k},n[9]=k,n[10]=T):T=n[10],I=T}else{var D;n[11]===Symbol.for("react.memo_cache_sentinel")?(D={},n[11]=D):D=n[11],I=D}var x=I;if(s.length===0&&l!=null)return p===""?l:null;var $;n[12]!==k?($=r("getItemRoleFromCompositeRole")(k),n[12]=k,n[13]=$):$=n[13];var P=$,N;if(n[14]!==a||n[15]!==l||n[16]!==s||n[17]!==c||n[18]!==P||n[19]!==m||n[20]!==p||n[21]!==_){var M;n[23]!==a||n[24]!==l||n[25]!==c||n[26]!==P||n[27]!==m||n[28]!==p||n[29]!==_?(M=function(t){if(t.type==="section"){var e=t.action,n=t.entries,o=t.key,i=t.label;return u.jsx(r("CometTypeaheadViewListSection.react"),{action:e,emptyStateContent:l,entries:n,highlightedEntry:c,itemRole:P,onHeaderActionPress:m,queryString:p,title:i,children:function(t){var e=t.entry,n=t.isActive,r=t.itemRole;return u.createElement(a,babelHelpers.extends({},_,{entry:e,isActive:n,key:e.key,queryString:p,role:r}))}},o)}else{var s;return u.createElement(a,babelHelpers.extends({},_,{entry:t,isActive:t.key===((s=c)==null?void 0:s.key),key:t.key,queryString:p,role:P}))}},n[23]=a,n[24]=l,n[25]=c,n[26]=P,n[27]=m,n[28]=p,n[29]=_,n[30]=M):M=n[30],N=s.map(M),n[14]=a,n[15]=l,n[16]=s,n[17]=c,n[18]=P,n[19]=m,n[20]=p,n[21]=_,n[22]=N}else N=n[22];var w;n[31]!==x||n[32]!==N?(w=u.jsx(r("CometCompositeStructureContext").Provider,{value:x,children:N}),n[31]=x,n[32]=N,n[33]=w):w=n[33];var A;return n[34]!==i||n[35]!==w?(A=u.jsx(o("react-strict-dom").html.ul,babelHelpers.extends({},i,{"data-testid":void 0,style:d.root,children:w})),n[34]=i,n[35]=w,n[36]=A):A=n[36],A}l.default=m}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadStateContext"))}l.default=u}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={root:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginBottom:"xat24cr",marginTop:"xdj266r",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},d={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",insetInlineStart:null,insetInlineEnd:null,top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootFocused:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0},contentRootHighlighted:{backgroundColor:"x1wpzbip xugaqoy",$$css:!0},itemIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",$$css:!0},pressable:{flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(54),n=e.additionalEndContentOutsideOfPressable,a=e.children,i=e.cursorDisabled_SEARCH_ONLY,l=e.entry,u=e.isActive,m=e.isEmphasized,p=e.isDisabled,_=e.itemEndContent,f=e.itemStartContent,g=e.linkProps,h=e.onPressEntry,y=e.onPressEntryIn,C=e.overlayDisabled_SEARCH_ONLY,b=e.role,v=e.testid,S=e.xstyle,R=e.debugElement,L=e.focusable,E=e.itemEndContentKeyboardFocusable,k=i===void 0?!1:i,I=m===void 0?!1:m,T=p===void 0?!1:p,D=C===void 0?!1:C,x=S===void 0?c.root:S,$=L===void 0?!1:L,P=E===void 0?!1:E,N=r("useCometInternalTypeaheadState")(),M=N.secondaryActionHighlighted,w;t[0]!==l||t[1]!==h?(w=function(t){h&&h(l,t)},t[0]=l,t[1]=h,t[2]=w):w=t[2];var A=w,F;t[3]!==l||t[4]!==y?(F=function(t){y&&y(l,t)},t[3]=l,t[4]=y,t[5]=F):F=t[5];var O=F,B=b==="row"?"gridcell":"none",W=P===!0&&B==="gridcell"?void 0:l.key,q=T?r("emptyFunction"):A,U=T?r("emptyFunction"):O,V=P!==!0?B:"none",H=u&&d.contentRootHighlighted,G=u&&M!==!0&&d.contentRootFocused,z=I&&d.contentRootEmphasized,j=n==null?d.pressable:d.pressableWithAdditionalEndContent,K;t[6]!==H||t[7]!==G||t[8]!==z||t[9]!==j||t[10]!==x?(K=[d.contentRoot,H,G,z,x,j],t[6]=H,t[7]=G,t[8]=z,t[9]=j,t[10]=x,t[11]=K):K=t[11];var Q;t[12]!==f?(Q=f!=null?s.jsx(r("CometRowItem.react"),{children:s.jsx(o("react-strict-dom").html.div,{style:d.itemIcon,children:f})}):null,t[12]=f,t[13]=Q):Q=t[13];var X;t[14]!==B||t[15]!==a||t[16]!==l.key||t[17]!==P?(X=P===!0&&B==="gridcell"?s.jsx(o("react-strict-dom").html.div,{id:l.key,role:B,children:a}):a,t[14]=B,t[15]=a,t[16]=l.key,t[17]=P,t[18]=X):X=t[18];var Y;t[19]!==X?(Y=s.jsx(r("CometRowItem.react"),{expanding:!0,children:X}),t[19]=X,t[20]=Y):Y=t[20];var J;t[21]!==B||t[22]!==l.key||t[23]!==_||t[24]!==P?(J=_!=null?s.jsx(r("CometRowItem.react"),{children:P===!0&&B==="gridcell"?s.jsx(o("react-strict-dom").html.div,{id:l.key+"-secondary-action",role:B,children:_}):_}):null,t[21]=B,t[22]=l.key,t[23]=_,t[24]=P,t[25]=J):J=t[25];var Z;t[26]!==Q||t[27]!==Y||t[28]!==J?(Z=s.jsxs(r("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[Q,Y,J]}),t[26]=Q,t[27]=Y,t[28]=J,t[29]=Z):Z=t[29];var ee=T&&d.contentRootDisabled,te;t[30]!==ee?(te=s.jsx(o("react-strict-dom").html.div,{style:ee}),t[30]=ee,t[31]=te):te=t[31];var ne;t[32]!==n||t[33]!==k||t[34]!==l.key||t[35]!==l.label||t[36]!==$||t[37]!==T||t[38]!==g||t[39]!==D||t[40]!==q||t[41]!==U||t[42]!==V||t[43]!==K||t[44]!==Z||t[45]!==te?(ne=s.jsxs(r("CometPressable.react"),{"aria-describedby":l.key,cursorDisabled:k,disabled:T,display:"block",expanding:!0,focusable:$,label:l.label,linkProps:g,onPress:q,onPressIn:U,overlayDisabled:D,overlayFocusRingPosition:"inset",role:V,xstyle:K,children:[Z,n,te]}),t[32]=n,t[33]=k,t[34]=l.key,t[35]=l.label,t[36]=$,t[37]=T,t[38]=g,t[39]=D,t[40]=q,t[41]=U,t[42]=V,t[43]=K,t[44]=Z,t[45]=te,t[46]=ne):ne=t[46];var re;return t[47]!==R||t[48]!==u||t[49]!==b||t[50]!==W||t[51]!==ne||t[52]!==v?(re=s.jsxs(o("react-strict-dom").html.li,{"aria-selected":u,"data-testid":void 0,id:W,role:b,style:d.root,children:[R,ne]}),t[47]=R,t[48]=u,t[49]=b,t[50]=W,t[51]=ne,t[52]=v,t[53]=re):re=t[53],re}l.default=m}),98);
__d("CometTypeaheadViewList.react",["CometCompositeStructureContext","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","children","entries","highlightedEntry"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var n=o("react-compiler-runtime").c(16),a,i,l,s,c;n[0]!==t?(a=t.ariaProps,i=t.children,l=t.entries,s=t.highlightedEntry,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d=s!=null?s.key:null,m=a.role,p;n[6]!==m?(p=babelHelpers.extends({},m!=null?{role:m}:{}),n[6]=m,n[7]=p):p=n[7];var _=p,f;if(n[8]!==d||n[9]!==a||n[10]!==i||n[11]!==_||n[12]!==l||n[13]!==c||n[14]!==m){var g=r("getItemRoleFromCompositeRole")(m);f=l!=null&&l.length>0?u.jsxs(u.Fragment,{children:[c.label!=null&&u.jsx("div",{className:"x14vqqas xod5an3 x1diwwjn xbmvrgn",children:c.label}),u.jsx("ul",babelHelpers.extends({},a,{className:"x78zum5 xdt5ytf x1iyjqo2","data-testid":void 0,children:u.jsx(r("CometCompositeStructureContext").Provider,{value:_,children:l.map(function(e,t){var n=d===e.key;return i({entry:e,index:t,isActive:n,isLastItem:l.length-1===t,itemRole:g})})})}))]}):null,n[8]=d,n[9]=a,n[10]=i,n[11]=_,n[12]=l,n[13]=c,n[14]=m,n[15]=f}else f=n[15];return f}l.default=d}),98);
__d("CometTypeaheadViewListStrategy.react",["CometTypeaheadViewList.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"],s,u=s||(s=o("react"));function c(t){var n,a=o("react-compiler-runtime").c(17),i,l,s,c,d,m;if(a[0]!==t){var p=t.ariaProps,_=t.entries,f=t.extraViewProps,g=t.highlightedEntry,h=t.isLoading,y=t.onAbandonTypeahead_DO_NOT_USE,C=t.viewItemStrategyRenderer,b=babelHelpers.objectWithoutPropertiesLoose(t,e);l=p,s=_,c=f,d=g,i=C,m=b,a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c,a[5]=d,a[6]=m}else i=a[1],l=a[2],s=a[3],c=a[4],d=a[5],m=a[6];var v=(n=c)==null?void 0:n.label,S;a[7]!==i||a[8]!==c||a[9]!==m?(S=function(t){var e=t.entry,n=t.isActive,r=t.isLastItem,o=t.itemRole;return u.createElement(i,babelHelpers.extends({},m,c,{entry:e,isActive:n,isLastItem:r,key:e.key,role:o}))},a[7]=i,a[8]=c,a[9]=m,a[10]=S):S=a[10];var R;return a[11]!==l||a[12]!==s||a[13]!==d||a[14]!==v||a[15]!==S?(R=u.jsx(r("CometTypeaheadViewList.react"),{ariaProps:l,entries:s,highlightedEntry:d,label:v,testid:void 0,children:S}),a[11]=l,a[12]=s,a[13]=d,a[14]=v,a[15]=S,a[16]=R):R=a[16],R}l.default=c}),98);
__d("FBNucleusCrossFilled20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M15.543 3.043a1 1 0 1 1 1.414 1.414L11.414 10l5.543 5.542a1 1 0 0 1-1.414 1.415L10 11.414l-5.543 5.543a1 1 0 0 1-1.414-1.415L8.586 10 3.043 4.457a1 1 0 1 1 1.414-1.414L10 8.586l5.543-5.543z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSChevronLeftFilled16Icon",["cr:13978"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13978")}),98);
__d("FDSChevronLeftFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("492485"),16),u=e;l.default=u}),98);
__d("FDSChevronRightFilled16Icon",["cr:13982"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13982")}),98);
__d("FDSChevronRightFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("492533"),16),u=e;l.default=u}),98);
__d("baseTypeaheadFetchPayloadDecorate",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){t===void 0&&(t=[]);var n=e;return t.forEach(function(e){n=e(n)}),n}i.default=e}),66);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){var o,a;if(e.length===0){n(null,null);return}var i=t!=null?e.findIndex(function(e){return e.key===t})+1:0;i===e.length&&(i=0);var l=(o=(a=e[i])==null?void 0:a.hasSecondaryAction)!=null?o:!1;n(e[i],l?r:null)}function l(e,t,n,r){var o,a;if(e.length===0){n(null,null);return}var i=t!=null?e.findIndex(function(e){return e.key===t})-1:e.length-1;i===-1&&(i=e.length-1);var l=(o=(a=e[i])==null?void 0:a.hasSecondaryAction)!=null?o:!1;n(e[i],l?r:null)}function s(e,t,n,r){if(e.length===0){n(null,!1);return}if(r===!0){var o=e.findIndex(function(e){return e.key===t});n(e[o],!1)}else l(e,t,n,!0)}function u(t,n,r,o){if(t.length===0){r(null,!1);return}if(o===!0)e(t,n,r,!1);else{var a=t.findIndex(function(e){return e.key===n});r(t[a],!0)}}i.moveDown=e,i.moveUp=l,i.moveLeft=s,i.moveRight=u}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function s(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=1),n&&e.onReady(function(e){e.bumpEntityKey(354,t,"fetched-cache",r)})}l.default=s}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function s(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=1),n&&e.onReady(function(e){e.bumpEntityKey(354,t,"fetched-network",r)})}l.default=s}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n=e.dataSource,r;return t[0]!==n?(r=function(t){var e=t.onResolvePayload,r=t.requestParams,o=r.perfTraceAPI,a=n.fetchCache(r);return o&&o.addMarkerPoint("cachedResponse","AppTiming"),e(a),a},t[0]=n,t[1]=r):r=t[1],r}l.default=u}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){var t=o("react-compiler-runtime").c(9),n=e.dataSource,a=m(!1),i=a[0],l=a[1],s=d(0),u=d(!1),p,_;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=function(){return u.current=!1,(function(){u.current=!0})},_=[],t[0]=p,t[1]=_):(p=t[0],_=t[1]),c(p,_);var f;t[2]!==n?(f=function(t){var e=t.onResolvePayload,o=t.requestParams;s.current=s.current+1;var a=s.current,i=o.perfTraceAPI;l(!0),r("promiseDone")(n.fetchNetwork(o).then(function(t){!u.current&&a===s.current&&(e(t),i&&i.addMarkerPoint("networkResponse","AppTiming"))}).finally(function(){!u.current&&a===s.current&&(s.current=0,l(!1))}))},t[2]=n,t[3]=f):f=t[3];var g=f,h;t[4]!==i?(h={isLoading:i},t[4]=i,t[5]=h):h=t[5];var y;return t[6]!==g||t[7]!==h?(y=[h,g],t[6]=g,t[7]=h,t[8]=y):y=t[8],y}l.default=p}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["FBLogger","baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","react","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=8;function m(e,t){var n=e.dataSource,o=e.dataSourceFetchConfigParams,a=e.onResolvePayload,i=o!=null?o:r("emptyObject"),l=i.renderLimit,s=l===void 0?d:l,m=i.bypassCacheRenderLimitCheck,p=m===void 0?!1:m,_=i.shouldDebounceNetwork,f=_===void 0?!0:_,g=i.networkDebounceWaitDuration,h=i.requestFlow,y=c(h),C=r("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:n}),b=r("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:n}),v=b[0].isLoading,S=b[1],R=r("useDebouncedComet")(S,{wait:g});function L(){var e=!1;function o(t,n){var o=n.isTraceComplete,i=n.source;try{e||a(t,{isTraceComplete:o,source:i})}catch(t){e||r("FBLogger")("search").mustfix("Failed to resolve fetched payload")}}function i(e){var t=e.requestParams,a=e.source,i=t.requestFlow;i!=null&&(y.current=i);var l=null;if(typeof n.fetchCache=="function"&&["all","cache"].includes(a)){l=C({onResolvePayload:function(t){var e=t.entries,n=r("baseTypeaheadFlattenEntries")(e).length;o(t,{isTraceComplete:!p&&n>=s,source:"cache"}),r("cometTypeaheadODSLogFetchCacheEvent")&&r("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:t});var u=l,c=u.entries,d=r("baseTypeaheadFlattenEntries")(c).length;if(!p&&d>=s)return}if(typeof n.fetchNetwork=="function"&&["all","network"].includes(a)){var m={onResolvePayload:function(t){o(t,{isTraceComplete:!0,source:t.entries.length>0?"network":"network-no-results"}),r("cometTypeaheadODSLogFetchNetworkEvent")&&r("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers.extends({},t,{requestFlow:y.current})};f?R(m):S(m)}}return t!=null&&i(t),function(){e=!0}}return u(L,[t]),[{isLoading:v}]}l.default=m}),98);
__d("useBaseTypeaheadDataSourceFetch",["FBLogger","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetchResolver"],(function(t,n,r,o,a,i,l){"use strict";var e=["loggingEventTrace"],s,u=s||(s=o("react")),c=u.useCallback,d=u.useState;function m(t){var n,a=o("react-compiler-runtime").c(9),i=d(null),l=i[0],s=i[1],u=r("useBaseTypeaheadDataSourceFetchResolver")(t,l),c=u[0],m=c.isLoading,p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p=function(t,n){var e=n===void 0?"all":n;s({requestParams:t,source:e})},a[0]=p):p=a[0];var _=p,f;a[1]!==l?(f=function(n){var t=n||{},o=t.requestFlow,a=t.source;if(l==null){r("FBLogger")("search").mustfix("Refetch cannot be called with undefined `fetchParams`");return}var i=l.requestParams,s=i.loggingEventTrace,u=babelHelpers.objectWithoutPropertiesLoose(i,e),c=babelHelpers.extends({loggingEventTrace:babelHelpers.extends({},s,{sequenceID:String(Date.now())}),requestFlow:o},u);_(c,a)},a[1]=l,a[2]=f):f=a[2];var g=f,h=(n=l==null?void 0:l.source)!=null?n:"all",y;a[3]!==m||a[4]!==h?(y={isLoading:m,source:h},a[3]=m,a[4]=h,a[5]=y):y=a[5];var C;return a[6]!==g||a[7]!==y?(C=[y,_,g],a[6]=g,a[7]=y,a[8]=C):C=a[8],C}l.default=m}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadFetchContext"))}l.default=u}),98);
__d("useCustomEqualityMemo",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(t,n){var o=(e||(e=r("useUnsafeRef_DEPRECATED")))(t),a=n(o.current,t)?o.current:t;return u(function(){o.current=a},[a]),a}l.default=c}),98);
__d("useDeepEqualMemo",["areEqual","useCustomEqualityMemo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("useCustomEqualityMemo")(t,e||(e=r("areEqual")))}l.default=s}),98);
__d("useCometTypeaheadGraphQLDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLDataSource","react","useDeepEqualMemo"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=e.gqlQuery,n=e.limit,a=e.normalize,i=e.options,l=e.queryVariablesBuilderFunction,u=s(function(){return r("BaseTypeaheadPayloadDecoratorAddLimit")(n)},[n]),c=o("CometRelay").useRelayEnvironment(),d=r("useDeepEqualMemo")(l({query:""})),m=s(function(){return new(r("CometTypeaheadGraphQLDataSource"))({gqlQuery:t,normalize:a,options:i,queryVariablesBuilderFunction:l,relayEnvironment:c})},[d,c]);return s(function(){return{clearCache:function(){m.clearCache()},fetchCache:function(t){return u(m.fetchCache(t))},fetchNetwork:function(t){return m.fetchNetwork(t).then(function(e){return u(e)})}}},[m,u])}l.default=u}),98);
__d("useCometTypeaheadViewLabel",["fbt","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useMemo;function c(e){var t=o("react-compiler-runtime").c(3),n=e.activeEntries,r;e:{var a=n.length;if(a===0){var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"\u10eb\u10d8\u10d4\u10d1\u10d8\u10e1 \u10e8\u10d4\u10db\u10dd\u10d7\u10d0\u10d5\u10d0\u10d6\u10d4\u10d1\u10e3\u10da\u10d8 \u10db\u10dd\u10d7\u10ee\u10dd\u10d5\u10dc\u10d4\u10d1\u10d8 \u10d0\u10e0 \u10d0\u10e0\u10d8\u10e1."),t[0]=i):i=t[0],r=i;break e}var l;t[1]!==a?(l=s._(/*BTDS*/"_j{\"*\":\"{number} \\u10e8\\u10d4\\u10db\\u10dd\\u10d7\\u10d0\\u10d5\\u10d0\\u10d6\\u10d4\\u10d1\\u10e3\\u10da\\u10d8 \\u10eb\\u10d8\\u10d4\\u10d1\\u10d0\",\"_1\":\"1 \\u10e8\\u10d4\\u10db\\u10dd\\u10d7\\u10d0\\u10d5\\u10d0\\u10d6\\u10d4\\u10d1\\u10e3\\u10da\\u10d8 \\u10eb\\u10d8\\u10d4\\u10d1\\u10d0\"}",[s._plural(a,"number")]),t[1]=a,t[2]=l):l=t[2],r=l}return r}l.default=c}),226);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useId,c=s.useMemo;function d(e){var t=o("react-compiler-runtime").c(29),n=e.activeEntries,a=e.helperText,i=e.highlightedEntry,l=e.inputLabel,s=e.isOpened,c=e.secondaryActionHighlighted,d=e.viewRole,m=l===void 0?"":l,p=u(),_=r("useCometInternalTypeaheadFetch")(),f=_.isLoading,g=u(),h;t[0]!==n?(h={activeEntries:n},t[0]=n,t[1]=h):h=t[1];var y=r("useCometTypeaheadViewLabel")(h),C;t[2]!==i||t[3]!==c?(C=i!=null?{"aria-activedescendant":c===!0?i.key+"-secondary-action":i.key}:{},t[2]=i,t[3]=c,t[4]=C):C=t[4];var b=C,v;t[5]!==n.length||t[6]!==s||t[7]!==p?(v=s&&n.length>0?{"aria-controls":p}:null,t[5]=n.length,t[6]=s,t[7]=p,t[8]=v):v=t[8];var S=v,R;t[9]!==g||t[10]!==a?(R=a!=null&&String(a).length>0?{"aria-describedby":g}:null,t[9]=g,t[10]=a,t[11]=R):R=t[11];var L=R,E;t[12]!==f||t[13]!==p||t[14]!==y||t[15]!==d?(E={"aria-busy":f,"aria-label":y,id:p,role:d},t[12]=f,t[13]=p,t[14]=y,t[15]=d,t[16]=E):E=t[16];var k=E,I;t[17]!==g?(I={id:g},t[17]=g,t[18]=I):I=t[18];var T=n.length>0&&s,D;t[19]!==m||t[20]!==b||t[21]!==S||t[22]!==L||t[23]!==T?(D=babelHelpers.extends({},b,S,L,{"aria-autocomplete":"list","aria-expanded":T,"aria-label":m,role:"combobox"}),t[19]=m,t[20]=b,t[21]=S,t[22]=L,t[23]=T,t[24]=D):D=t[24];var x;return t[25]!==k||t[26]!==I||t[27]!==D?(x={ariaDescribedByProps:I,ariaInputProps:D,ariaViewProps:k},t[25]=k,t[26]=I,t[27]=D,t[28]=x):x=t[28],x}l.default=d}),98);
__d("useCometTypeaheadSectionedViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadSectionedViewListStrategy.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["entries","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){var n=o("react-compiler-runtime").c(6),a=t.emptyStateContent,i=t.nullstateContent,l=t.onHeaderActionPress,s=t.viewItemStrategyRenderer,c=t.viewXStyle,d;return n[0]!==a||n[1]!==i||n[2]!==l||n[3]!==s||n[4]!==c?(d=function(n){var t=n.entries,d=n.isLoading,m=n.onAbandonTypeahead_DO_NOT_USE,p=n.queryString,_=babelHelpers.objectWithoutPropertiesLoose(n,e);return p.length===0&&i!=null?i:u.jsxs(o("react-strict-dom").html.div,{style:c,children:[u.jsx(r("CometTypeaheadSectionedViewListStrategy.react"),babelHelpers.extends({},_,{emptyStateContent:a,entries:t,isLoading:d,onHeaderActionPress:function(){m==null||m(),l==null||l()},queryString:p,viewItemStrategyRenderer:s})),d&&u.jsx(r("CometTypeaheadProgressGlimmer.react"),{})]})},n[0]=a,n[1]=i,n[2]=l,n[3]=s,n[4]=c,n[5]=d):d=n[5],d}l.default=d}),98);
__d("useCometTypeaheadViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadViewListStrategy.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["entries","isLoading","queryString"],s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=o("react-compiler-runtime").c(8),a=t.emptyStateContent,i=t.extraViewProps,l=t.loadingState,u=t.nullstateContent,d=t.viewItemStrategyRenderer,m=t.viewListStrategyRenderer,p=t.viewXStyle,_=m===void 0?r("CometTypeaheadViewListStrategy.react"):m,f;return n[0]!==_||n[1]!==a||n[2]!==i||n[3]!==l||n[4]!==u||n[5]!==d||n[6]!==p?(f=function(n){var t=n.entries,o=n.isLoading,m=n.queryString,f=babelHelpers.objectWithoutPropertiesLoose(n,e);return m.length===0&&u!=null?u:!o&&t.length===0&&a!=null?a:c.jsxs("div",babelHelpers.extends({},(s||(s=r("stylex"))).props([p]),{children:[c.jsx(_,babelHelpers.extends({},f,{entries:t,extraViewProps:i,isLoading:!1,queryString:m,viewItemStrategyRenderer:d})),o&&(l!=null?l:c.jsx(r("CometTypeaheadProgressGlimmer.react"),{}))]}))},n[0]=_,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=p,n[7]=f):f=n[7],f}l.default=m}),98);
__d("useShallowEqualMemo",["shallowEqual","useCustomEqualityMemo"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("useCustomEqualityMemo")(e,r("shallowEqual"))}l.default=e}),98);/*FB_PKG_DELIM*/
__d("BaseTextArea.react",["BaseFocusRing.react","BaseInput.react","Locale","react","react-compiler-runtime","stylex","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["addOnEnd","disabled","id","label","maxRows","minRows","placeholder","ref","suppressFocusRing","unresizable","value","variant","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useRef,_=d.useState,f=o("Locale").isRTL(),g={WebkitBoxOrient:"x1ua5tub",display:"x104kibb",$$css:!0},h={containerOverride:{backgroundColor:"xjbqb8w",backgroundImage:"x18o3ruo",borderLeftWidth:"xyj58a3",borderRightWidth:"xgfja2r",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",display:"xrvj5dj",paddingBottom:null,paddingLeft:null,paddingRight:null,paddingInlineStart:null,paddingInlineEnd:null,paddingTop:null,position:"x1n2onr6",":active_backgroundColor":"xyftt0y",":active_backgroundImage":"xuqm82a",":focus_backgroundColor":"xyc4ar7",":focus_backgroundImage":"x19zaomo",":hover_backgroundColor":"x1n5bzlp",":hover_backgroundImage":"xn3cpwa",$$css:!0},divOverride:{overflowWrap:"x1mzt3pk",pointerEvents:"x47corl",visibility:"xlshs6z",whiteSpace:"x126k92a",$$css:!0},elementOverride:{gridColumnEnd:"x1ls7aod",gridColumnStart:"xcrlgei",gridRowEnd:"x1byulpo",gridRowStart:"x1agbcgv",lineHeight:"x15bjb6t",marginBottom:null,marginLeft:null,marginRight:null,marginInlineStart:null,marginInlineEnd:null,marginTop:null,$$css:!0},labelRTL:{transformOrigin:"x1h1bmdg",$$css:!0},maxHeight:function(t){return[g,{WebkitLineClamp:t!=null?"x1yhjpo9":t,$$css:!0},{"--x-WebkitLineClamp":t!=null?t:void 0}]},unresizable:{bottom:"x1ey2m1c",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",resize:"xtt52l0",top:"x13vifvy",$$css:!0}};function y(t){var n,a,i,l=o("react-compiler-runtime").c(86),u,d,g,y,b,v,S,R,L,E,k,I,T,D;l[0]!==t?(u=t.addOnEnd,d=t.disabled,g=t.id,y=t.label,R=t.maxRows,L=t.minRows,b=t.placeholder,S=t.ref,E=t.suppressFocusRing,k=t.unresizable,I=t.value,T=t.variant,D=t.xstyle,v=babelHelpers.objectWithoutPropertiesLoose(t,e),l[0]=t,l[1]=u,l[2]=d,l[3]=g,l[4]=y,l[5]=b,l[6]=v,l[7]=S,l[8]=R,l[9]=L,l[10]=E,l[11]=k,l[12]=I,l[13]=T,l[14]=D):(u=l[1],d=l[2],g=l[3],y=l[4],b=l[5],v=l[6],S=l[7],R=l[8],L=l[9],E=l[10],k=l[11],I=l[12],T=l[13],D=l[14]);var x=R===void 0?200:R,$=L===void 0?1:L,P=E===void 0?!1:E,N=k===void 0?!1:k,M=I!=null?String(I):I,w=p(null),A=p(null),F=_(!1),O=F[0],B=F[1],W=_(!1),q=W[0],U=W[1],V=r("useMergeRefs")(w,S),H=M!==""&&M!=null,G,z;l[15]===Symbol.for("react.memo_cache_sentinel")?(G=function(){var e=function(){document.activeElement===w.current?B(!0):B(!1)},t=function(){B(!1),U(!1)},n=function(t){t.key!=="Shift"&&U(t.key==="Tab")},r=w.current;return document.addEventListener("focusin",e),r==null||r.addEventListener("blur",t),r==null||r.addEventListener("keyup",n),(function(){document.removeEventListener("focusin",e),r==null||r.removeEventListener("blur",t),r==null||r.removeEventListener("keyup",n)})},z=[],l[15]=G,l[16]=z):(G=l[15],z=l[16]),m(G,z);var j;l[17]!==v||l[18]!==M?(j=function(t){var e=t.target.value,n=A.current;if(n!=null&&M!=null){var r=e.endsWith("\n")?e+" ":e;n.textContent=r}v.onChange==null||v.onChange(t)},l[17]=v,l[18]=M,l[19]=j):j=l[19];var K=j,Q;l[20]!==H||l[21]!==g||l[22]!==y||l[23]!==T?(Q=function(t){var e,n,o;return c.jsx("label",babelHelpers.extends({},(s||(s=r("stylex"))).props(((e=T)==null?void 0:e.labelLocation)==="outside"?T.xstyleConfig.labelOutside:[(n=T)==null?void 0:n.xstyleConfig.labelInside,(H||t)&&((o=T)==null?void 0:o.xstyleConfig.labelInsideShrunk)],f&&h.labelRTL),{htmlFor:g,suppressHydrationWarning:!0,children:y}))},l[20]=H,l[21]=g,l[22]=y,l[23]=T,l[24]=Q):Q=l[24];var X=Q,Y;l[25]!==d||l[26]!==H||l[27]!==g||l[28]!==V||l[29]!==K||l[30]!==b||l[31]!==v||l[32]!==O||l[33]!==N||l[34]!==M||l[35]!==T||l[36]!==D?(Y=function(t){var e,n;return c.jsx(r("BaseInput.react"),babelHelpers.extends({},v,{disabled:d,id:g,onChange:K,placeholder:T!=null&&(H||O)||T==null?b:null,ref:V,type:"textarea",value:M,xstyle:[t,N===!0&&h.unresizable,D,(e=T)==null?void 0:e.xstyleConfig.input,d===!0&&((n=T)==null?void 0:n.xstyleConfig.inputDisabled),h.elementOverride]}))},l[25]=d,l[26]=H,l[27]=g,l[28]=V,l[29]=K,l[30]=b,l[31]=v,l[32]=O,l[33]=N,l[34]=M,l[35]=T,l[36]=D,l[37]=Y):Y=l[37];var J=Y,Z;l[38]!==D?(Z=(s||(s=r("stylex"))).props(D,h.containerOverride),l[38]=D,l[39]=Z):Z=l[39];var ee;l[40]!==D?(ee=(s||(s=r("stylex"))).props(D,h.elementOverride,h.divOverride),l[40]=D,l[41]=ee):ee=l[41];var te;l[42]!==$?(te=Array.from({length:$!=null?$:1}).map(C),l[42]=$,l[43]=te):te=l[43];var ne;l[44]!==ee||l[45]!==te?(ne=c.jsx("div",babelHelpers.extends({},ee,{"aria-hidden":"true",ref:A,children:te})),l[44]=ee,l[45]=te,l[46]=ne):ne=l[46];var re;l[47]!==x||l[48]!==D?(re=(s||(s=r("stylex"))).props(D,h.elementOverride,h.divOverride,h.maxHeight(x!=null?x:220)),l[47]=x,l[48]=D,l[49]=re):re=l[49];var oe;l[50]!==M?(oe=M!=null&&M.endsWith("\n")?M+" ":M,l[50]=M,l[51]=oe):oe=l[51];var ae;l[52]!==re||l[53]!==oe?(ae=c.jsx("div",babelHelpers.extends({},re,{"aria-hidden":"true",ref:A,children:oe})),l[52]=re,l[53]=oe,l[54]=ae):ae=l[54];var ie;l[55]!==J||l[56]!==T?(ie=function(t){var e;return T!=null?c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props((e=T)==null?void 0:e.xstyleConfig.inputWrapper),{children:J(t)})):J(t)},l[55]=J,l[56]=T,l[57]=ie):ie=l[57];var le;l[58]!==P||l[59]!==ie?(le=c.jsx(r("BaseFocusRing.react"),{suppressFocusRing:P,children:ie}),l[58]=P,l[59]=ie,l[60]=le):le=l[60];var se;if(l[61]!==X||l[62]!==O||l[63]!==((n=T)==null?void 0:n.labelLocation)){var ue,ce;se=((ue=T)==null?void 0:ue.labelLocation)==="inside"&&X(O),l[61]=X,l[62]=O,l[63]=(ce=T)==null?void 0:ce.labelLocation,l[64]=se}else se=l[64];var de;if(l[65]!==u||l[66]!==((a=T)==null?void 0:a.xstyleConfig)){var me,pe;de=u!=null&&c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props((me=T)==null?void 0:me.xstyleConfig.addOnEndWrapper),{children:u})),l[65]=u,l[66]=(pe=T)==null?void 0:pe.xstyleConfig,l[67]=de}else de=l[67];var _e;l[68]!==Z||l[69]!==ne||l[70]!==ae||l[71]!==le||l[72]!==se||l[73]!==de?(_e=c.jsxs("div",babelHelpers.extends({},Z,{children:[ne,ae,le,se,de]})),l[68]=Z,l[69]=ne,l[70]=ae,l[71]=le,l[72]=se,l[73]=de,l[74]=_e):_e=l[74];var fe=_e,ge;if(l[75]!==X||l[76]!==((i=T)==null?void 0:i.labelLocation)){var he,ye;ge=((he=T)==null?void 0:he.labelLocation)==="outside"&&X(!1),l[75]=X,l[76]=(ye=T)==null?void 0:ye.labelLocation,l[77]=ge}else ge=l[77];var Ce;if(l[78]!==q||l[79]!==fe||l[80]!==O||l[81]!==T){var be,ve,Se,Re;Ce=T!=null?c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props((be=T)==null?void 0:be.xstyleConfig.container,((ve=T)==null?void 0:ve.labelLocation)==="outside"&&T.xstyleConfig.labelOutside,O&&((Se=T)==null?void 0:Se.xstyleConfig.containerActive),q&&O&&((Re=T)==null?void 0:Re.xstyleConfig.containerFocused)),{children:fe})):fe,l[78]=q,l[79]=fe,l[80]=O,l[81]=T,l[82]=Ce}else Ce=l[82];var Le;return l[83]!==ge||l[84]!==Ce?(Le=c.jsxs(c.Fragment,{children:[ge,Ce]}),l[83]=ge,l[84]=Ce,l[85]=Le):Le=l[85],Le}function C(e,t){return c.jsx("br",{},t)}C.displayName=C.name+" [from "+i.id+"]",l.default=y}),98);
__d("CometFRXQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26218639531058767"}),null);
__d("LSCollapseAttachments",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.islc(t.sortBy(t.db.table(16).fetch([[[e[0],e[1]]],"idx_attachments_collapsible_id"]),[["timestampMs","DESC"]]),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(r,o){var a=r.done,i=r.value;return a?0:(o=i.item,t.sequence([function(r){return n[0]=o.messageId,t.forEach(t.db.table(16).fetch([[[e[0],e[1],{lt:n[0]}],[e[0],e[1],{gt:n[0]}]],"idx_attachments_collapsible_id"]),function(e){var n=e.item;return t.forEach(t.filter(t.db.table(12).fetch([[[n.threadKey,n.timestampMs,n.messageId]]]),function(e){return t.i64.eq(e.threadKey,n.threadKey)&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(e.timestampMs,n.timestampMs)&&e.messageId===n.messageId}),function(e){var t=e.update,n=e.item;return t({isCollapsed:!0})})})},function(e){return t.forEach(t.filter(t.db.table(12).fetch([[[o.threadKey,o.timestampMs,n[0]]]]),function(e){return t.i64.eq(e.threadKey,o.threadKey)&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(e.timestampMs,o.timestampMs)&&e.messageId===n[0]}),function(e){var t=e.update,n=e.item;return t({isCollapsed:!1})})}]))})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxCollapseAttachmentsStoredProcedure",e.__tables__=["attachments","messages"],a.exports=e}),null);
__d("LSUpdateMessageSubThreadKey",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(12).fetch([[[e[0]]],"messageId"]),function(t){var n=t.update,r=t.item;return n({subthreadKey:e[1]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpdateMessageSubThreadKeyStoredProcedure",e.__tables__=["messages"],a.exports=e}),null);
__d("LSUpdateOrInsertReactionV2",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.db.table(226).fetch([[[e[0],e[1],e[2]]]]).next().then(function(r,o){var a=r.done,i=r.value;return a?t.db.table(12).fetch([[[e[1]]],"messageId"]).next().then(function(n,r){var o=n.done,a=n.value;return o?0:(r=a.item,t.sequence([function(n){return t.forEach(t.filter(t.db.table(226).fetch([[[e[0],e[1],e[2]]],"optimistic"]),function(n){return t.i64.eq(n.threadKey,e[0])&&n.messageId===e[1]&&t.i64.eq(n.reactionFbid,e[2])&&t.i64.lt(n.authorityLevel,e[5])}),function(e){return e.delete()})},function(n){return t.db.table(226).add({messageId:e[1],threadKey:e[0],reactionFbid:e[2],messageTimestamp:r.timestampMs,authorityLevel:e[5],count:e[4],viewerIsReactor:e[6],viewerReactionTimestampMs:e[7],lastUpdatedTimestampMs:e[8]})}]))}):(o=i.item,n[2]=o.lastUpdatedTimestampMs,n[1]=o.authorityLevel,t.i64.eq(e[5],t.i64.cast([0,20]))||t.i64.eq(n[1],t.i64.cast([0,80]))&&t.i64.eq(e[5],t.i64.cast([0,80]))||t.i64.eq(n[1],t.i64.cast([0,20]))&&t.i64.eq(e[5],t.i64.cast([0,80]))&&t.i64.le(t.i64.add(n[2],t.i64.cast([0,2e3])),e[8])||t.i64.eq(n[1],t.i64.cast([0,20]))&&t.i64.eq(e[5],t.i64.cast([0,60]))||t.i64.eq(n[1],t.i64.cast([0,60]))&&t.i64.eq(e[5],t.i64.cast([0,80]))&&t.i64.le(n[2],e[8])?n[3]=!0:n[3]=!1,n[3]?t.db.table(226).put({messageId:e[1],threadKey:e[0],reactionFbid:e[2],messageTimestamp:o.messageTimestamp,reactionLiteral:e[3],count:e[4],authorityLevel:e[5],viewerIsReactor:e[6],viewerReactionTimestampMs:t.i64.cast([0,0]),lastUpdatedTimestampMs:e[8]}):t.resolve())})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpdateOrInsertReactionV2StoredProcedure",e.__tables__=["reactions_v2","messages"],a.exports=e}),null);
__d("LsFalcoEventEntryPoint",[],(function(t,n,r,o,a,i){"use strict";var e="message_actions",l="composer",s="icebreaker";i.messageActions=e,i.composer=l,i.icebreaker=s}),66);
__d("LsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2051889"),s=o("FalcoLoggerInternal").create("ls_message_action",e),u=s;l.default=u}),98);
__d("MWBroadcastChannelLoggingShapes",[],(function(t,n,r,o,a,i){"use strict";var e={action:2,event:191,parentSurface:11,source:105,surface:73},l={action:1,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:95,parentSurface:7,source:8,surface:4},s={action:2,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:161,parentSurface:7,source:8,surface:4},u={action:1,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:95,parentSurface:11,source:8,surface:58},c=babelHelpers.extends({},u,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),d=babelHelpers.extends({},u,{clientExtras:{entry_point:"public_chats:profile_from_mbs"}}),m=babelHelpers.extends({},u,{clientExtras:{entry_point:"public_chats:fandom_create_channel_email"}}),p={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:162,parentSurface:21,source:90,surface:59},_={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"},event:163,parentSurface:21,source:90,surface:59},f={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:161,parentSurface:21,source:90,surface:59},g=babelHelpers.extends({},f,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),h={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:164,parentSurface:11,source:92,surface:65},y={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:164,parentSurface:21,source:92,surface:66},C={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:161,parentSurface:11,source:92,surface:65},b={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:161,parentSurface:21,source:92,surface:66},v={action:1,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:95,parentSurface:11,source:8,surface:65},S={action:1,clientExtras:{entry_point:"public_chats:profile_qp"},event:95,parentSurface:21,source:8,surface:66},R={action:1,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:95,parentSurface:11,source:88,surface:64},L={action:1,clientExtras:{entry_point:"public_chats:channel_creation_qp"},event:95,parentSurface:11,source:67,surface:27},E={action:1,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:95,parentSurface:11,source:88,surface:69},k={action:1,clientExtras:{entry_point:"public_chats:channels_gutter"},event:95,parentSurface:11,source:8,surface:91},I={action:2,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:161,parentSurface:11,source:88,surface:64},T={action:2,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:161,parentSurface:11,source:88,surface:69},D={action:1,event:147,parentSurface:4,source:81,surface:51},x={action:1,event:165,parentSurface:21,source:93,surface:58},$={action:1,event:148,parentSurface:11,source:89,surface:21},P={action:2,event:7,parentSurface:17,source:82,surface:41},N={action:2,event:146,parentSurface:4,source:81,surface:51},M={action:2,event:261,parentSurface:4,source:81,surface:51},w={action:1,event:53,parentSurface:4,source:81,surface:51},A={action:1,event:8,parentSurface:17,source:8,surface:41},F={action:1,event:234,parentSurface:8,source:27,surface:16},O={action:1,event:234,parentSurface:7,source:62,surface:7},B={action:1,event:235,parentSurface:7,source:62,surface:7},W={action:1,event:236,parentSurface:7,source:62,surface:7},q={action:2,event:239,parentSurface:11,source:147,surface:87},U={action:1,event:240,parentSurface:11,source:147,surface:87},V={action:2,event:241,parentSurface:11,source:147,surface:87},H={action:1,event:242,parentSurface:11,source:147,surface:87},G={action:1,event:243,parentSurface:11,source:147,surface:87};i.CREATOR_WAITLIST_LOGGED_OUT_VIEW_RENDERED=e,i.CREATE_CHANNEL_TAPPED_FULL_PAGE_SHAPE=l,i.CREATE_CHANNEL_OPTION_RENDERED_FULL_PAGE_SHAPE=s,i.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_SHAPE=u,i.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_NULL_STATE_SHAPE=c,i.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_MBS_SHAPE=d,i.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_FCC_EMAIL_SHAPE=m,i.CHANNELS_LIST_RENDERED_SHAPE=p,i.CHANNELS_LIST_NULL_STATE_RENDERED_SHAPE=_,i.CREATE_CHANNEL_OPTION_CHANNELS_TAB_RENDERED_SHAPE=f,i.CREATE_CHANNEL_OPTION_CHANNELS_TAB_NULL_STATE_RENDERED_SHAPE=g,i.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_RENDERED_SHAPE=h,i.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_RENDERED_SHAPE=y,i.CREATE_CHANNEL_OPTION_NEWSFEED_QP_RENDERED_SHAPE=C,i.CREATE_CHANNEL_OPTION_PROFILE_PAGE_QP_RENDERED_SHAPE=b,i.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_TAP_SHAPE=v,i.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_TAP_SHAPE=S,i.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_TAP_SHAPE=R,i.CREATE_BROADCAST_CHANNEL_JEWEL_QP_TAP_SHAPE=L,i.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_TAP_SHAPE=E,i.CREATE_BROADCAST_CHANNEL_FROM_GUTTER_TAP_SHAPE=k,i.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_RENDERED_SHAPE=I,i.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_RENDERED_SHAPE=T,i.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_BUTTON_TAP_SHAPE=D,i.APPLUS_TAP_BROADCAST_CHANNEL_IN_CHANNELS_TAB_SHAPE=x,i.APPLUS_TAP_PIN_TO_FEATURE_IN_CREATION_FORM=$,i.PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED_SHAPE=P,i.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_RENDERED_SHAPE=N,i.PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED=M,i.BROADCAST_CHANNEL_CHANGE_IMAGE_TAP_SHAPE=w,i.THREAD_CREATE_TAP_SHAPE=A,i.VIEW_PINNED_MESSAGES_FROM_THREAD_DETAIL=F,i.VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER=O,i.PIN_MESSAGE=B,i.UNPIN_MESSAGE=W,i.SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED=q,i.SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED=U,i.SHARE_TO_CHANNELS_PAGE_IMPRESSION=V,i.SHARE_TO_CHANNELS_CHANNEL_TAPPED=H,i.SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED=G}),66);
__d("MWChatMessageBothOrientationFocusGroup.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusGroup.react","emptyFunction","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=o("FocusGroup.react").createFocusGroup(o("focusScopeQueries").tabbableScopeQuery),d=c[0],m=c[1],p={key:r("CometKeys").UP},_={key:r("CometKeys").DOWN},f={key:r("CometKeys").LEFT},g={key:r("CometKeys").RIGHT},h=[{command:p,description:s._(/*BTDS*/"\u10ec\u10d8\u10dc\u10d0 \u10d4\u10e0\u10d7\u10d4\u10e3\u10da\u10d8"),handler:r("emptyFunction")},{command:_,description:s._(/*BTDS*/"\u10e8\u10d4\u10db\u10d3\u10d4\u10d2\u10d8 \u10d4\u10e0\u10d7\u10d4\u10e3\u10da\u10d8"),handler:r("emptyFunction")},{command:f,description:s._(/*BTDS*/"\u10e8\u10d4\u10db\u10d3\u10d4\u10d2\u10d8 \u10d4\u10e0\u10d7\u10d4\u10e3\u10da\u10d8"),handler:r("emptyFunction")},{command:g,description:s._(/*BTDS*/"\u10ec\u10d8\u10dc\u10d0 \u10d4\u10e0\u10d7\u10d4\u10e3\u10da\u10d8"),handler:r("emptyFunction")}];function y(e){var t=o("react-compiler-runtime").c(2),n=e.children,a;return t[0]!==n?(a=u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:h,xstyle:!1,children:n}),t[0]=n,t[1]=a):a=t[1],a}var C=y;l.FocusGroup=d,l.FocusGroupItem=m,l.keyCommands=C}),226);
__d("MWXTooltipGroup.react",["cr:824"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:824")}),98);
__d("MWChatPollFacepile.react",["fbt","CometImage.react","FDSDots3HorizontalFilled16Icon","FDSIcon.react","MWXPressable.react","MWXTooltip.react","MWXTooltipGroup.react","intlList","intlSummarizeNumber","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={large:{height:"x10w6t97",$$css:!0},medium:{height:"x1qx5ct2",$$css:!0},mediumLarge:{height:"xxk0z11",$$css:!0},small:{height:"x1v9usgg",$$css:!0}},m={contact:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},contactGapNegative:{marginInlineStart:"x137kccz",$$css:!0},contactGapNormal:{marginInlineStart:"xdwrcjd",$$css:!0},contactLarge:{height:"x10w6t97",width:"x1td3qas",$$css:!0},contactMedium:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},contactMediumLarge:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},contactSmall:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},contactWithBorder:{borderTopColor:"x1exxf4d",borderInlineEndColor:"xpv9jar",borderBottomColor:"x1nb4dca",borderInlineStartColor:"x1nmn18",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginTop:"x1y332i5",$$css:!0},contactWithGap:{borderTopColor:"x1bsybk2",borderInlineEndColor:"x38sb4y",borderBottomColor:"x2lbui5",borderInlineStartColor:"xgmch35",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",marginTop:"x1198e8h",$$css:!0},overflow:{backgroundColor:"x1vtvx1t",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",boxSizing:"x9f619",color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",lineHeight:"x1u7k74",marginBottom:"x4ii5y1",marginInlineStart:"x137kccz",marginTop:"xr1yuqi",paddingTop:"x1nn3v0j",paddingInlineEnd:"xf159sx",paddingBottom:"x1120s5i",paddingInlineStart:"xmzvs34",$$css:!0},overflowForPrompt:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1iwo8zk",borderStartEndRadius:"x1033uif",borderEndEndRadius:"x179ill4",borderEndStartRadius:"x1b60jn0",color:"xzsf02u",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},photoWrap:{display:"x1rg5ohu",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",position:"x1n2onr6",$$css:!0},root:{display:"x78zum5",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function p(e){switch(e){case"small":return m.contactSmall;case"medium":return m.contactMedium;case"mediumLarge":return m.contactMediumLarge;case"large":return m.contactLarge;default:}}function _(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.tooltip,i;return t[0]!==n||t[1]!==a?(i=a!=null?c.jsx(r("MWXTooltip.react"),{align:"middle",label:s._(/*BTDS*/"\u10e1\u10ee\u10d5\u10d0"),position:"above",tooltip:a,children:n}):n,t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function f(t){var n=o("react-compiler-runtime").c(42),a=t.contacts,i=t.contactWithBorder,l=t.countOverride,u=t.direction,f=t.gap,b=t.isPrompt,v=t.limit,S=t.onPress,R=t.overflowStyle,L=t.size,E=i===void 0?!0:i,k=u===void 0?"normal":u,I=f===void 0?"normal":f,T=b===void 0?!1:b,D=v===void 0?2:v,x=R===void 0?"showTotalCount":R,$=l!=null?l:a.length,P=$>D,N;if(n[0]!==a||n[1]!==D||n[2]!==$){var M=a.slice(0,-D).reverse().filter(C).map(y),w=$-D-M.length;w>0&&M.push(s._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[s._plural(w),s._param("count",r("intlSummarizeNumber")(w))])),N=M.length===0?void 0:c.jsx("ul",{children:M.map(h)}),n[0]=a,n[1]=D,n[2]=$,n[3]=N}else N=n[3];var A=N,F;if(n[4]!==a||n[5]!==D||n[6]!==P||n[7]!==$){var O=a.slice(-(P?D:1e3)).reverse(),B=O.map(g);F=a.length>0?s._(/*BTDS*/"_j{\"*\":{\"*\":\"{number} votes including those from {=names}\"},\"_1\":{\"_1\":\"1 vote from {=names}\"}}",[s._plural($,"number"),s._plural($),s._param("=names",r("intlList")(B))]):s._(/*BTDS*/"0 votes"),n[4]=a,n[5]=D,n[6]=P,n[7]=$,n[8]=F}else F=n[8];var W=F,q;n[9]!==T||n[10]!==D||n[11]!==A||n[12]!==x||n[13]!==P||n[14]!==L||n[15]!==$?(q=P&&x==="showTotalCount"&&c.jsx(_,{tooltip:A,children:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(m.overflow,T&&m.overflowForPrompt,T&&d[L]),{children:"+"+r("intlSummarizeNumber")($-D)}))}),n[9]=T,n[10]=D,n[11]=A,n[12]=x,n[13]=P,n[14]=L,n[15]=$,n[16]=q):q=n[16];var U;if(n[17]!==E||n[18]!==a||n[19]!==I||n[20]!==T||n[21]!==D||n[22]!==x||n[23]!==P||n[24]!==L){var V;n[26]!==E||n[27]!==I||n[28]!==T||n[29]!==D||n[30]!==x||n[31]!==P||n[32]!==L?(V=function(n,o){return c.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(m.photoWrap,I==="normal"?m.contactGapNormal:m.contactGapNegative,p(L)),{key:String(o)}),c.jsx(_,{tooltip:n.name,children:c.jsx(r("CometImage.react"),{src:n.profile_picture_url,xstyle:[m.contact,p(L),E&&!T?m.contactWithBorder:!1,T?m.contactWithGap:!1]})}),P&&x==="overlayLastPhoto"&&o===D-1?c.jsx("div",{className:"x6s0dn4 xdit8p8 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ey2m1c x78zum5 xtijo5x x1o0tod xl56j7k x1us6l5c x6ikm8r x10wlt62 x10l6tqk x13vifvy x1vjfegm",children:c.jsx(r("FDSIcon.react"),{color:"white",icon:r("FDSDots3HorizontalFilled16Icon"),size:16})}):null)},n[26]=E,n[27]=I,n[28]=T,n[29]=D,n[30]=x,n[31]=P,n[32]=L,n[33]=V):V=n[33],U=a.slice(-(P?D:1e3)).reverse().map(V),n[17]=E,n[18]=a,n[19]=I,n[20]=T,n[21]=D,n[22]=x,n[23]=P,n[24]=L,n[25]=U}else U=n[25];var H;n[34]!==U||n[35]!==q?(H=c.jsxs(r("MWXTooltipGroup.react"),{children:[q,U]}),n[34]=U,n[35]=q,n[36]=H):H=n[36];var G=H,z;return n[37]!==k||n[38]!==G||n[39]!==W||n[40]!==S?(z=S!=null?c.jsx(r("MWXPressable.react"),{label:W,onPress:S,overlayDisabled:!0,xstyle:[m.root,k==="reversed"?m.rootReversed:!1],children:G}):c.jsx("div",babelHelpers.extends({"aria-label":W},(e||(e=r("stylex"))).props(m.root,k==="reversed"?m.rootReversed:!1),{children:G})),n[37]=k,n[38]=G,n[39]=W,n[40]=S,n[41]=z):z=n[41],z}function g(e){var t;return(t=e.name)!=null?t:""}function h(e,t){return c.jsx("li",{children:e},String(t))}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=e.name;return t!=null?t:""}function C(e){return e.name!=null}l.default=f}),226);
__d("MWXDialog.react",["MWXColumn.react","MWXColumnItem.react","cr:3020","cr:6827","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","hasTextOnlyContent"],s=["scrollAreaFocusProps"],u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(15),i,l,u;if(a[0]!==t?(l=t.children,u=t.hasTextOnlyContent,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=u):(i=a[1],l=a[2],u=a[3]),n("cr:3020")!=null){var d;if(a[4]!==i){var m=i,p=m.scrollAreaFocusProps,_=babelHelpers.objectWithoutPropertiesLoose(m,s);d=_,a[4]=i,a[5]=d}else d=a[5];var f;a[6]!==l?(f=c.jsx(r("MWXColumn.react"),{expanding:!0,paddingHorizontal:16,paddingVertical:16,children:c.jsx(r("MWXColumnItem.react"),{expanding:!0,children:l})}),a[6]=l,a[7]=f):f=a[7];var g;return a[8]!==d||a[9]!==f?(g=c.jsx(n("cr:3020"),babelHelpers.extends({},d,{children:f})),a[8]=d,a[9]=f,a[10]=g):g=a[10],g}if(n("cr:6827")!=null){var h;return a[11]!==i||a[12]!==l||a[13]!==u?(h=c.jsx(n("cr:6827"),babelHelpers.extends({hasTextOnlyContent:u},i,{children:l})),a[11]=i,a[12]=l,a[13]=u,a[14]=h):h=a[14],h}return null}l.default=d}),98);
__d("MWXDialogHeader.react",["cr:73","cr:7626","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["closeButtonTestId","mdsTitleLayout","showTruncationTooltip","title","titleImageAddOn","withoutDivider"],s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(21),a,i,l,s,c,d,m;r[0]!==t?(i=t.closeButtonTestId,l=t.mdsTitleLayout,s=t.showTruncationTooltip,c=t.title,d=t.titleImageAddOn,m=t.withoutDivider,a=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i,r[3]=l,r[4]=s,r[5]=c,r[6]=d,r[7]=m):(a=r[1],i=r[2],l=r[3],s=r[4],c=r[5],d=r[6],m=r[7]);var p=s===void 0?!0:s;if(n("cr:7626")!=null){var _=c!=null?c:void 0,f;return r[8]!==a||r[9]!==i||r[10]!==p||r[11]!==_||r[12]!==d||r[13]!==m?(f=u.jsx(n("cr:7626"),babelHelpers.extends({closeTestID:i,text:_,titleImageAddOn:d},a,{showTruncationTooltip:p,withoutDivider:m})),r[8]=a,r[9]=i,r[10]=p,r[11]=_,r[12]=d,r[13]=m,r[14]=f):f=r[14],f}if(n("cr:73")!=null){var g;return r[15]!==a||r[16]!==i||r[17]!==l||r[18]!==c||r[19]!==d?(g=u.jsx(n("cr:73"),babelHelpers.extends({closeButtonTestId:i,title:c,titleImageAddOn:d,titleLayout:l},a)),r[15]=a,r[16]=i,r[17]=l,r[18]=c,r[19]=d,r[20]=g):g=r[20],g}return null}l.default=c}),98);
__d("useIsMultiReactionEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","ReQL","ReQLSuspense","isUnjoinedCMThread","mwCMIsAnyCMThread","react-compiler-runtime","useIsChatPreviewsEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(4),l=(e||(e=r("useReStore")))(),s=o("MWLSThread").useThread(t,u),c,d;a[0]!==l||a[1]!==s?(c=function(){return s!=null?o("ReQL").fromTableAscending(l.tables.community_folders).getKeyRange(s):o("ReQL").empty()},d=[l,s],a[0]=l,a[1]=s,a[2]=c,a[3]=d):(c=a[2],d=a[3]);var m=o("ReQLSuspense").useFirst(c,d,i.id+":28");return(n=o("MWLSThread").useThread(t,function(e){if(o("isUnjoinedCMThread").isUnjoinedCMThread(e.threadType))return o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(e,m==null?void 0:m.communityType);if(!o("LSThreadBitOffset").has(156,e))return!1;if(r("mwCMIsAnyCMThread")(e.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(e.threadType))return!0}))!=null?n:!1}function u(e){return e.parentThreadKey}l.useIsMultiReactEnabled=s}),98);
__d("useIsReactionsV2Enabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWLSThread","ReQL","ReQLSuspense","react-compiler-runtime","useIsChatPreviewsEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(4),l=(e||(e=r("useReStore")))(),s=o("MWLSThread").useThread(t,u),d,m;a[0]!==l||a[1]!==s?(d=function(){return s!=null?o("ReQL").fromTableAscending(l.tables.community_folders).getKeyRange(s):o("ReQL").empty()},m=[l,s],a[0]=l,a[1]=s,a[2]=d,a[3]=m):(d=a[2],m=a[3]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":34");return(n=o("MWLSThread").useThread(t,function(e){return c(e,p==null?void 0:p.communityType)}))!=null?n:!1}function u(e){return e.parentThreadKey}function c(e,t){if(o("LSMessagingThreadTypeUtil").isOpenFnFThread(e)&&!o("MWCMThreadTypes.react").isIGBroadcastChannelThread(e.threadSubtype))return!1;if(o("LSThreadBitOffset").has(139,e))return!0;var n=o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(e,t);return!!n}function d(e,t){var n=o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(e.threadType)||o("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(e.threadType),r=o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(e,t);return n||r}l.useIsReactionsV2Enabled=s,l.isReactionsV2Enabled=c,l.isReactionsV2ReadOnly=d}),98);
__d("useLogMAWEditMessage",["I64","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsMessageActionFalcoEvent","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(){var e=o("react-compiler-runtime").c(2),t=r("MessengerWebUXLogger").useInteractionLogger(),n;return e[0]!==t?(n=function(n,a,i,l,u){o("LSMessagingThreadTypeUtil").isArmadilloSecure(n)?t==null||t({eventName:d(u)}):r("LsMessageActionFalcoEvent").log(function(){return{action:{type:m(u)},error:{message:void 0},extra:{is_community_chats:o("LSMessagingThreadTypeUtil").isPublicCMThread(n)?"1":"0"},message:{attachment_type:"",entry_point:o("LsFalcoEventEntryPoint").messageActions,id:i,recipient_id:(s||(s=o("I64"))).to_string(l)},thread:{group_size:s.to_string(s.zero),id:a!=null?(s||(s=o("I64"))).to_string(a):void 0,type:o("LSMessagingThreadTypeUtil").isGroup(n)?2:1}}})},e[0]=t,e[1]=n):n=e[1],n}function d(e){switch(e){case"EDIT_MESSAGE":return"edit_message";case"EDIT_MESSAGE_CANCEL":return"edit_message_cancel";case"EDIT_MESSAGE_TAP":return"edit_message_tap"}}function m(e){switch(e){case"EDIT_MESSAGE":return 90;case"EDIT_MESSAGE_CANCEL":return 92;case"EDIT_MESSAGE_TAP":return 89}}l.default=c}),98);
__d("useMWXConfirmationDialog",["fbt","JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["cancel","confirm"],u,c=(u||(u=o("react"))).useCallback,d=r("JSResourceForInteraction")("MWXConfirmationDialog.react").__setRef("useMWXConfirmationDialog");function m(){var t=o("react-compiler-runtime").c(2),n=r("useMWXLazyDialog")(d),a=n[0],i;return t[0]!==a?(i=function(n,r,o){var t=n.cancel,i=n.confirm,l=babelHelpers.objectWithoutPropertiesLoose(n,e),u=t===void 0?s._(/*BTDS*/"\u10d2\u10d0\u10e3\u10e5\u10db\u10d4\u10d1\u10d0"):t,c=i===void 0?s._(/*BTDS*/"\u10d3\u10d0\u10d3\u10d0\u10e1\u10e2\u10e3\u10e0\u10d4\u10d1\u10d0"):i;a(babelHelpers.extends({cancel:u,confirm:c},l),function(e){return e?r():o==null?void 0:o()})},t[0]=a,t[1]=i):i=t[1],i}l.default=m}),226);/*FB_PKG_DELIM*/
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t.runInTransaction(function(t){var r;return(r=o("ReQL")).toArrayAsync(r.mergeJoin(r.fromTableAscending(t.sync_groups),r.fromTableAscending(t.network_requests).getKeyRange(""))).then(function(r){return(e||(e=n("Promise"))).all(r.map(function(e){var n=e[1];return t.network_requests.put({epochId:void 0,failureCount:n.failureCount,lastDelayedRequestTimestampMs:n.lastDelayedRequestTimestampMs,lastSentTimestampMs:n.lastSentTimestampMs,lastSyncRequestTimestampMs:n.lastSyncRequestTimestampMs,networkTaskIdentifier:n.networkTaskIdentifier,syncDatabaseId:n.syncDatabaseId,taskQueueName:n.taskQueueName})}))}).then(function(){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.network_requests).filter(function(e){return e.taskQueueName!==""})).then(function(r){return(e||(e=n("Promise"))).all(r.map(function(e){return t.network_requests.put({epochId:void 0,failureCount:e.failureCount,lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs,lastSentTimestampMs:e.lastSentTimestampMs,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,networkTaskIdentifier:e.networkTaskIdentifier,syncDatabaseId:e.syncDatabaseId,taskQueueName:e.taskQueueName})}))})})},"readwrite","ui",void 0,i.id+":17").then(function(){return(e||(e=n("Promise"))).resolve()})}l.call=s}),98);
__d("LSClearLoadingFlagsForThreadRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return e[1]?t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingAfter:!1})}):t.sequence([function(r){var o;return t.i64.eq(t.i64.cast([0,0]),e[0])?t.sequence([function(n){return t.forEach(t.db.table(198).fetch([[[e[2]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!1})})},function(e){return n[8]=t.i64.cast([0,0]),n[9]=void 0,n[10]=!1,n[11]=!1,t.forEach(t.db.table(198).fetch(),function(e){var r=e.item;return n[12]=r.minLastActivityTimestampMs,n[14]=r.minThreadKey,n[13]=t.i64.lt(n[8]==null?n[12]:n[8],n[12]),n[8]=n[13]?n[12]:n[8],n[9]=n[13]?n[14]:n[9],n[10]=n[10]||r.isLoadingBefore,n[11]=n[11]||t.i64.gt(n[12],t.i64.cast([0,1]))&&t.i64.gt(n[14],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[n[8],n[9],n[10],n[11]],n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],t}]):t.resolve((o=[t.i64.cast([0,0]),void 0,!1,!1],n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],o))},function(n){return t.forEach(t.db.table(220).fetch([[[e[2],e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!1})})},function(r){return n[4]=n[0],n[5]=n[1],n[6]=n[2],n[7]=n[3],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var r=e.item;return n[8]=r.minLastActivityTimestampMs,n[10]=r.minThreadKey,n[9]=t.i64.lt(n[4]==null?n[8]:n[4],n[8]),n[4]=n[9]?n[8]:n[4],n[5]=n[9]?n[10]:n[5],n[6]=n[6]||r.isLoadingBefore,n[7]=n[7]||t.i64.gt(n[8],t.i64.cast([0,1]))&&t.i64.gt(n[10],t.i64.cast([-2147483648,0]))})},function(r){return t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,r=e.item;return t({isLoadingBefore:n[6]})})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxClearLoadingFlagsForThreadRangeStoredProcedure",e.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"],a.exports=e}),null);
__d("LSPlatformErrorsCatcher.react",["MetaConfig","cr:7070","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(7),a=e.children,i=e.fallback,l=d(null),s=l[0],u=l[1],m,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=function(){var e=n("cr:7070")&&n("cr:7070").subscribe(function(e){u(e)});return(function(){e&&e()})},p=[],t[0]=m,t[1]=p):(m=t[0],p=t[1]),c(m,p);var _;if(t[2]!==s){var f;_=(f=n("cr:7070")==null?void 0:n("cr:7070").lastError())!=null?f:s,t[2]=s,t[3]=_}else _=t[3];var g=_;if(r("MetaConfig")._("66")&&g!=null&&i!=null){var h;return t[4]!==g||t[5]!==i?(h=i(g),t[4]=g,t[5]=i,t[6]=h):h=t[6],h}else return a}l.default=m}),98);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s="LSPlatformGraphQLTransport.ServerError";async function u(t,n,a,i,l,u){var c=o("MessengerLogHistory").getInstance("client_sync"),d=null;try{d=await l(t,n,i,(e||(e=o("I64"))).to_int32(a),u)}catch(t){var m=r("FBLogger")("messenger_web");throw t instanceof Error&&(c.error("Error sending Graphql Request. Type: "+(e||(e=o("I64"))).to_string(a)+" Message: "+(t.message!=null?t.message:"None")),m=m.catching(t),m.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport")),m.mustfixThrow(s)}var p=r("nullthrows")(d),_=p.dependencies,f=p.experiments,g=p.payload,h=p.target,y=r("nullthrows")(g),C=_==null?Promise.resolve():o("LSDynamicDependencies").downloadRelayDependencies(_),b=Array.from(r("LSProgramTarget").members()).find(function(e){return r("LSProgramTarget").getName(e)===h});return[C,y,f,b]}l.ServerError=s,l.publish=u}),98);
__d("isRegisterArmadilloOnIgEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("26380")===!0}l.default=e}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","IGDWebUtils","LSDatabaseAfterInitSyncSingleton","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","LSSyncError","MWPBumpEntityKey","MetaConfig","QuickPerformanceLogger","ReQL","WAPromiseDelays","err","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=5,d=r("isArmadillo")()||r("isRegisterArmadilloOnIgEnabled")()&&!r("isInstamadillo")(),m=r("gkx")("20017")?r("gkx")("22843"):!0,p=!o("CurrentMessengerUser").isWorkUser()&&!o("IGDWebUtils").isOnInstagramWeb()?m:!1,_=[1,d?95:null,p?104:null].filter(Boolean);function f(e){return e.runInTransaction(async function(e){return Promise.all(_.map(function(t){return e.network_requests.put({epochId:void 0,failureCount:(s||(s=o("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:s.zero,lastSyncRequestTimestampMs:s.zero,networkTaskIdentifier:void 0,syncDatabaseId:(u||(u=o("LSIntEnum"))).ofNumber(t),taskQueueName:""})}))},"readwrite",void 0,void 0,i.id+":76").then(function(){return Promise.resolve()})}function g(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.network_requests).getKeyRange("",(u||(u=o("LSIntEnum"))).ofNumber(t)))}function h(e){return e.runInTransaction(function(e){return Promise.all(_.map(function(t){return g(e,t).then(function(t){return t!=null?e.network_requests.put({epochId:(s||(s=o("I64"))).zero,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName}):Promise.resolve()})})).then(function(){})},"readwrite","ui",void 0,i.id+":111")}function y(e){return o("LSDatabaseProviderType").isProviderPersisted(e)&&r("MetaConfig")._("76")?e.runInTransaction(async function(e){var t=await g(e,1);t!=null&&await e.network_requests.put({epochId:void 0,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName})},"readwrite","ui",void 0,i.id+":144"):Promise.resolve()}function C(t){o("CurrentMessengerUser").isWorkUser()&&(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(1036588047,"310"),t)}function b(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.sync_groups).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(t)))}function v(e,t,n,a){return new(r("LSDict"))().set("database",(u||(u=o("LSIntEnum"))).ofNumber(e)).set("epoch_id",(s||(s=o("I64"))).zero).set("last_applied_cursor",n).set("sync_params",a!=null?a:"{}").set("version",s.of_string(t))}function S(e){var t=0,n=0,r=function(a){return n++,n===e&&o("LSPlatformLsInitLog").addPoint("gql_fetch_end"),t===0&&o("LSPlatformLsInitLog").addPoint("gql_deps_start"),a.then(function(){t===0&&(o("LSPlatformLsInitLog").addPoint("ls_sync_execute_start"),o("LSPlatformLsInitLog").LsSync.markStart()),t++,t===e&&o("LSPlatformLsInitLog").addPoint("gql_deps_end")})};return r}var R=function(){return[Promise.resolve(),"",void 0,void 0]},L=[],E=[];async function k(t,n,a,i,l){l===void 0&&(l=0);try{var m=o("CurrentMessengerUser").isWorkUser();await h(a);var _=[1,d?95:void 0,p?104:void 0],g=await Promise.all(_.map(function(e){return e!=null?b(a,e):void 0})),I=g[0],T=g[1],D=g[2],x=I==null?void 0:I.currentCursor,$=T==null?void 0:T.currentCursor,P=D==null?void 0:D.currentCursor,N=v(1,t.schemaVersion,x,t.syncParams.mailbox),M=v(95,t.schemaVersion,$,t.syncParams.e2ee),w=v(104,t.schemaVersion,P,t.syncParams.communityExclusive),A={string:{mailboxSync:x!=null?"resume":"init"}};m&&(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(r("qpl")._(1036588047,"310"),A),o("LSPlatformLsInitLog").addPoint("ls_sync_start",A),o("LSPlatformArmadilloUtils").reportSyncStart(),o("LSPlatformLsInitLog").addPoint("gql_fetch_start"),C("start_contact"),C("start_mailbox");var F=S(1+(d?1:0)+(p?1:0)),O=l===0?void 0:{fetchPolicy:"network-only"},B=x!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),W=o("LSPlatformGraphQLTransport").publish(i,0,B,o("LSJson").stringify(N),t.executeGraphQLLightSpeedRequest,O).then(async function(e){return C("mailbox_synced"),o("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync mailbox"),R()});o("LSPlatformLsInitLog").addAnnotations({int:{mailbox_sync_request_type:(s||(s=o("I64"))).to_int32(B)}});var q=d?o("LSPlatformGraphQLTransport").publish(i,2,$!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),o("LSJson").stringify(M),t.executeGraphQLLightSpeedRequest,O).then(async function(e){return o("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync e2ee mailbox"),R()}):Promise.resolve(R()),U=p?o("LSPlatformGraphQLTransport").publish(i,3,P!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),o("LSJson").stringify(w),t.executeGraphQLLightSpeedRequest).then(async function(e){return o("LSPlatformLsInitLog").addPoint("gql_cm_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_cm_fetch_failed",{string:{gql_cm_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync Community Exclusive mailbox"),R()}):Promise.resolve(R()),V=await Promise.all([W,q,U]);for(var H of V){var G=H[0],z=H[1],j=H[2],K=H[3];z!==""&&await n({experiments:j,priority:"ui",syncScript:z,target:K})}var Q=[];r("gkx")("20016")&&(Q.push({name:"mailbox",syncError:o("LSSyncError").getLastSyncError(1)}),Q.push({name:"communityExclusive",syncError:o("LSSyncError").getLastSyncError(104)}),Q.push({name:"e2ee",syncError:o("LSSyncError").getLastSyncError(95)}));for(var X of Q){var Y,J=(Y=X.syncError)==null?void 0:Y.get("error_msg");if(J!=null)throw L.push(X.name),o("LSPlatformLsInitLog").addAnnotations({string_array:{failedGqlQuery:L}}),r("err")(String(J))}x!=null&&await y(a),o("LSPlatformLsInitLog").LsSync.markEnd(),C("sync_completed"),o("LSPlatformLsInitLog").addPoint("ls_sync_execute_end"),o("LSPlatformArmadilloUtils").reportSyncEnd(),o("LSPlatformLsInitLog").addPoint("ls_sync_end"),d&&o("LSPlatformArmadilloUtils").occamadilloInitEnd(),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success"),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success"),o("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(a))}catch(e){var Z,ee=r("getErrorSafe")(e);if(E.push((Z=ee.message)!=null?Z:"unknown"),l<=c&&r("gkx")("20017"))return o("LSPlatformLsInitLog").addPoint("ls_sync_retry_"+l,{int:{retryCount:l},string_array:{retryReasons:E}}),o("LSSyncError").clearSyncErrors(),o("WAPromiseDelays").delayMs(l*1e3).then(function(){return k(t,n,a,i,l+1)});o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail"),C("sync_failed"),o("LSPlatformLsInitLog").fail("init_sync_failure",ee);try{o("LSPlatformArmadilloUtils").reportInitSyncFailure(ee)}catch(e){}return r("FBLogger")("messenger_web").catching(ee).mustfix("Encountered an error while performining preloaded init sync request via graphql"),f(a)}}l.sendHardcodedInitSync=k}),98);
__d("LSThreadsRangesQuery",["LSClearLoadingFlagsForThreadRange","LSGetCursor","LSIssueNewTaskAndGetTaskID","LSUpsertInboxThreadsRange","LSUpsertSyncGroupThreadsRange"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return e[1]&&t.i64.eq(e[6],t.i64.cast([0,0]))?t.storedProcedure(n("LSClearLoadingFlagsForThreadRange"),e[0],!1,t.i64.cast([0,1])):(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)||e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))&&!(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)&&e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))?t.sequence([function(o){var a;return r[16]=e[3]==null?t.i64.cast([-2147483648,0]):e[3],r[15]=e[6]==null?t.i64.cast([0,1]):e[6],r[17]=t.i64.gt(r[15],t.i64.cast([0,1]))&&t.i64.gt(r[16],t.i64.cast([-2147483648,0])),r[4]=t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))||t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,95])),r[4]&&t.i64.eq(e[0],t.i64.cast([0,0]))?t.sequence([function(e){return t.storedProcedure(n("LSUpsertInboxThreadsRange"),t.i64.cast([0,1]),r[15],r[17],!0,r[16])},function(e){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.db.table(198).fetch(),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],t}]):t.resolve((a=[r[15],r[16],!0,r[17]],r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],a))},function(o){var a;return r[4]?t.sequence([function(o){return t.storedProcedure(n("LSUpsertSyncGroupThreadsRange"),t.i64.cast([0,1]),e[0],r[15],r[17],!0,r[16])},function(n){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[5]=t[0],r[6]=t[1],r[7]=t[2],r[8]=t[3],t}]):t.resolve((a=[r[0],r[1],r[2],r[3]],r[5]=a[0],r[6]=a[1],r[7]=a[2],r[8]=a[3],a))},function(e){return t.storedProcedure(n("LSGetCursor"),t.i64.cast([0,1])).then(function(e){var t;return t=e,r[9]=t[0],t})},function(o){return r[10]=new t.Map,r[10].set("is_after",e[2]),r[10].set("parent_thread_key",e[0]),r[10].set("reference_thread_key",e[2]?e[4]:e[3]),r[10].set("reference_activity_timestamp",e[2]?e[5]:e[6]),r[10].set("additional_pages_to_fetch",e[7]),r[10].set("cursor",r[9]),r[10].set("messaging_tag",void 0),r[10].set("sync_group",t.i64.cast([0,1])),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[18]=t.i64.of_float(Date.now()),r[11]=t.i64.add(r[18],t.i64.cast([0,0]))):r[11]=t.i64.cast([0,0]),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"trq",t.i64.cast([0,145]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[11],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[13]=t[0],t})},function(n){return t.db.table(10).fetch([[[e[0]]]]).next().then(function(n,o){var a=n.done,i=n.value;return a?t.db.table(10).add({parentThreadKey:e[0],minThreadKey:r[6]==null?t.i64.cast([-2147483648,0]):r[6],minLastActivityTimestampMs:r[5]==null?t.i64.cast([0,1]):r[5],maxLastActivityTimestampMs:t.i64.cast([0,1]),maxThreadKey:t.i64.cast([-2147483648,0]),isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1}):(o=i.item,t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1})}))})}]):t.resolve()},function(o){return e[1]&&t.i64.eq(e[6],t.i64.cast([0,0]))?t.storedProcedure(n("LSClearLoadingFlagsForThreadRange"),e[0],!1,t.i64.cast([0,95])):(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)||e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))&&!(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)&&e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))?t.sequence([function(o){var a;return r[16]=e[3]==null?t.i64.cast([-2147483648,0]):e[3],r[15]=e[6]==null?t.i64.cast([0,1]):e[6],r[17]=t.i64.gt(r[15],t.i64.cast([0,1]))&&t.i64.gt(r[16],t.i64.cast([-2147483648,0])),r[4]=t.i64.eq(t.i64.cast([0,95]),t.i64.cast([0,1]))||t.i64.eq(t.i64.cast([0,95]),t.i64.cast([0,95])),r[4]&&t.i64.eq(e[0],t.i64.cast([0,0]))?t.sequence([function(e){return t.storedProcedure(n("LSUpsertInboxThreadsRange"),t.i64.cast([0,95]),r[15],r[17],!0,r[16])},function(e){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.db.table(198).fetch(),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],t}]):t.resolve((a=[r[15],r[16],!0,r[17]],r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],a))},function(o){var a;return r[4]?t.sequence([function(o){return t.storedProcedure(n("LSUpsertSyncGroupThreadsRange"),t.i64.cast([0,95]),e[0],r[15],r[17],!0,r[16])},function(n){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[5]=t[0],r[6]=t[1],r[7]=t[2],r[8]=t[3],t}]):t.resolve((a=[r[0],r[1],r[2],r[3]],r[5]=a[0],r[6]=a[1],r[7]=a[2],r[8]=a[3],a))},function(e){return t.storedProcedure(n("LSGetCursor"),t.i64.cast([0,95])).then(function(e){var t;return t=e,r[9]=t[0],t})},function(o){return r[10]=new t.Map,r[10].set("is_after",e[2]),r[10].set("parent_thread_key",e[0]),r[10].set("reference_thread_key",e[2]?e[4]:e[3]),r[10].set("reference_activity_timestamp",e[2]?e[5]:e[6]),r[10].set("additional_pages_to_fetch",e[7]),r[10].set("cursor",r[9]),r[10].set("messaging_tag",void 0),r[10].set("sync_group",t.i64.cast([0,95])),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[18]=t.i64.of_float(Date.now()),r[11]=t.i64.add(r[18],t.i64.cast([0,0]))):r[11]=t.i64.cast([0,0]),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"trq",t.i64.cast([0,145]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[11],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[13]=t[0],t})},function(n){return t.db.table(10).fetch([[[e[0]]]]).next().then(function(n,o){var a=n.done,i=n.value;return a?t.db.table(10).add({parentThreadKey:e[0],minThreadKey:r[6]==null?t.i64.cast([-2147483648,0]):r[6],minLastActivityTimestampMs:r[5]==null?t.i64.cast([0,1]):r[5],maxLastActivityTimestampMs:t.i64.cast([0,1]),maxThreadKey:t.i64.cast([-2147483648,0]),isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1}):(o=i.item,t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1})}))})}]):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxThreadsRangesQueryStoredProcedure",e.__tables__=["inbox_threads_ranges","sync_group_threads_ranges","threads_ranges_v2__generated"],a.exports=e}),null);
__d("LSThreadsRangesQueryStoredProcedure",["LSSynchronousPromise","LSThreadsRangesQuery","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadsRangesQuery"),a.parentThreadKey,a.isLoadingBefore,a.isLoadingAfter,a.minThreadKey,a.maxThreadKey,a.maxLastActivityTimestampMs,a.minLastActivityTimestampMs,a.additionalPagesToFetch,a.shouldSkipE2eeThreadsRanges);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ServerTime","WAChatState","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,a.threadJid,"MAWBridgeReceivedChatStateHandler",function(t,i){var l=(s||(s=o("I64"))).of_string(a.senderId),u=s.of_float(3e3+o("ServerTime").getMillis());return a.state===o("WAChatState").TYPING?t.typing_indicator.upsert([i,l],{expirationTimestampMs:u,senderId:l,threadKey:i}).then(r("emptyFunction")):a.state===o("WAChatState").IDLE?t.typing_indicator.delete(i,l).then(r("emptyFunction")):(e||(e=n("Promise"))).resolve()})}l.call=u}),98);
__d("MWChatBadgeCountUpdates.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWPIsThreadUnread","MWThreadListSupportedThreadTypes","MWXacGating","ReQL","ReQLSuspense","ServerTime","isMWXacGroupThread","mwCMIsThreadBumped","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(s||(s=o("react"))).useMemo,m=15;function p(e){return!(u||(u=o("I64"))).equal(e.threadType,(c||(c=o("LSIntEnum"))).ofNumber(2))||o("MWXacGating").isGroupsEnabled()?!0:!r("isMWXacGroupThread")(e)}function _(e,t){var n=o("react-compiler-runtime").c(10),r;n[0]!==t?(r=t!=null?t:(c||(c=o("LSIntEnum"))).ofNumber(0),n[0]=t,n[1]=r):r=n[1];var a=r,l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(e.tables.folder_metadata).getKeyRange(a)},[e,a],i.id+":56")||{},s=l.lastSeenRequestTimestampMs,u;n[2]!==e.tables.threads?(u=function(){return o("ReQL").fromTableAscending(e.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).take(m)},n[2]=e.tables.threads,n[3]=u):u=n[3];var d;n[4]!==e?(d=[e],n[4]=e,n[5]=d):d=n[5];var p=o("ReQLSuspense").useFirst(u,d,i.id+":62")!=null,_;return n[6]!==p||n[7]!==s||n[8]!==a?(_={hasProbablyFinishedInitSync:p,maybeFolderLastSeenTimestamp:s,parentFolderToUse:a},n[6]=p,n[7]=s,n[8]=a,n[9]=_):_=n[9],_}function f(e){return(u||(u=o("I64"))).equal(e.muteExpireTimeMs,(u||(u=o("I64"))).neg_one)?!0:(u||(u=o("I64"))).gt(e.muteExpireTimeMs,u.of_float(o("ServerTime").getMillis()))}function g(t,n){var a=o("react-compiler-runtime").c(17),l=(e||(e=r("useReStore")))(),s=_(l,t),d=s.hasProbablyFinishedInitSync,g=s.maybeFolderLastSeenTimestamp,b=s.parentFolderToUse,v=(n==null?void 0:n.ignoreParentFolderSeenState)===!0?(u||(u=o("I64"))).zero:g!=null?g:(u||(u=o("I64"))).zero,S;a[0]!==l.tables.community_folders?(S=function(){return o("ReQL").fromTableAscending(l.tables.community_folders)},a[0]=l.tables.community_folders,a[1]=S):S=a[1];var R;a[2]!==l?(R=[l],a[2]=l,a[3]=R):R=a[3];var L=o("ReQLSuspense").useArray(S,R,i.id+":103"),E;a[4]!==L?(E=new Set(L.filter(C).map(y)),a[4]=L,a[5]=E):E=a[5];var k=E,I,T;a[6]!==l.tables.threads||a[7]!==b||a[8]!==v?(I=function(){return o("ReQL").fromTableDescending(l.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(b).bounds({gt:o("ReQL").key(v)}).take(m).filter(h).filter(p)},T=[l.tables.threads,b,v],a[6]=l.tables.threads,a[7]=b,a[8]=v,a[9]=I,a[10]=T):(I=a[9],T=a[10]);var D=o("ReQLSuspense").useArray(I,T,i.id+":117"),x,$;a[11]!==l.tables.threads||a[12]!==k||a[13]!==b||a[14]!==v?(x=function(){return(u||(u=o("I64"))).equal(b,(c||(c=o("LSIntEnum"))).ofNumber(0))?o("ReQL").fromTableDescending(l.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(b).bounds({gt:o("ReQL").key(v)}).take(m).filter(function(e){if(o("MWPIsThreadUnread").isThreadUnread(e)&&!(r("mwCMIsThreadBumped")(e)&&k.has((u||(u=o("I64"))).to_string(e.parentThreadKey)))){var t=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType);return!(f(e)||e.isHidden===!0&&!t)}else return!1}).filter(p):o("ReQL").empty()},$=[l.tables.threads,k,b,v],a[11]=l.tables.threads,a[12]=k,a[13]=b,a[14]=v,a[15]=x,a[16]=$):(x=a[15],$=a[16]);var P=o("ReQLSuspense").useArray(x,$,i.id+":155"),N=D.length+P.length;if(t!=null)return d||g!=null?N:void 0}function h(e){return r("MWThreadListSupportedThreadTypes").some(function(t){return(u||(u=o("I64"))).equal(e.threadType,t)})&&o("MWPIsThreadUnread").isThreadUnread(e)?!f(e):!1}function y(e){return(u||(u=o("I64"))).to_string(e.folderId)}function C(e){return e.isHidden}function b(t,n){var a=o("react-compiler-runtime").c(8),l=(e||(e=r("useReStore")))(),s;a[0]!==n||a[1]!==l.tables.threads||a[2]!==t?(s=function(){return o("ReQL").fromTableAscending(l.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(t).take(m).filter(v).bounds({gt:o("ReQL").key(n)}).filter(p)},a[0]=n,a[1]=l.tables.threads,a[2]=t,a[3]=s):s=a[3];var u;a[4]!==n||a[5]!==l||a[6]!==t?(u=[n,l,t],a[4]=n,a[5]=l,a[6]=t,a[7]=u):u=a[7];var c=o("ReQLSuspense").useFirst(s,u,i.id+":217");return c}function v(e){return o("MWPIsThreadUnread").isThreadUnread(e)?!f(e):!1}function S(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(c||(c=o("LSIntEnum"))).ofNumber(-14),t[0]=a):a=t[0];var i=_(n,a),l=i.hasProbablyFinishedInitSync,s=i.maybeFolderLastSeenTimestamp,d=s!=null?s:(u||(u=o("I64"))).zero,m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=(c||(c=o("LSIntEnum"))).ofNumber(18),t[1]=m):m=t[1];var p=b(m,d),f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f=(c||(c=o("LSIntEnum"))).ofNumber(23),t[2]=f):f=t[2];var g=b(f,d),h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h=(c||(c=o("LSIntEnum"))).ofNumber(21),t[3]=h):h=t[3];var y=b(h,d);return l?p!=null||g!=null?!0:y!=null:!1}l.minSyncedThreads=m,l.useUnseenThreadCount=g,l.useHasUnseenCommunityThreads=S}),98);
__d("MWEBVestaUserInfoContextProvider_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBVestaUserInfoContextProvider_viewer",selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_viewer"}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23870520485955982"}),null);
__d("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql",["useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation"),metadata:{},name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql",["useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql"],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:n("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql")}},name:"useMWChatEncryptedBackupsVestaUserInfo_viewer",selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo",["CometRelay","react","react-compiler-runtime","useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t){var r,a,i,l,s=o("react-compiler-runtime").c(7),u=t.viewer$key,c=o("CometRelay").useRefetchableFragment(e!==void 0?e:e=n("useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql"),u),d=c[0],m=c[1],p=d==null||(r=d.messenger_default_encrypted_backup)==null?void 0:r.vesta_user_info,_;s[0]!==m?(_=function(){m({},{fetchPolicy:"network-only"})},s[0]=m,s[1]=_):_=s[1];var f=_,g=(a=p==null?void 0:p.attempts_remaining)!=null?a:null,h=(i=p==null?void 0:p.is_registered)!=null?i:null,y=(l=p==null?void 0:p.login_timeout_remaining_secs)!=null?l:null,C;return s[2]!==f||s[3]!==g||s[4]!==h||s[5]!==y?(C={attemptsRemaining:g,isRegistered:h,loginTimeoutRemainingSecs:y,refetchVestaClientInfo:f},s[2]=f,s[3]=g,s[4]=h,s[5]=y,s[6]=C):C=s[6],C}l.default=c}),98);
__d("MWEBVestaUserInfoContext.react",["CometRelay","FBLogger","MWEBVestaUserInfoContextProvider_viewer.graphql","react","react-compiler-runtime","useMWChatEncryptedBackupsVestaUserInfo"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.createContext,m=c.useContext,p=c.useMemo,_=d(null);function f(){var e=m(_);if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("useMWEBVestaUserInfo must be used inside MWEBVestaUserInfoContext");return e}function g(){var e=f(),t=e.attemptsRemaining,n=e.loginTimeoutRemainingSecs;return t===0||n!=null&&n>0}function h(t){var a=o("react-compiler-runtime").c(10),i=t.children,l=t.vestaClientID,s=t.viewer$key,c=o("CometRelay").useFragment(e!==void 0?e:e=n("MWEBVestaUserInfoContextProvider_viewer.graphql"),s),d;a[0]!==c?(d={viewer$key:c},a[0]=c,a[1]=d):d=a[1];var m=r("useMWChatEncryptedBackupsVestaUserInfo")(d),p=l!=null?l:null,f;a[2]!==p||a[3]!==m.attemptsRemaining||a[4]!==m.loginTimeoutRemainingSecs||a[5]!==m.refetchVestaClientInfo?(f={attemptsRemaining:m.attemptsRemaining,loginTimeoutRemainingSecs:m.loginTimeoutRemainingSecs,refetchVestaClientInfo:m.refetchVestaClientInfo,vestaClientID:p},a[2]=p,a[3]=m.attemptsRemaining,a[4]=m.loginTimeoutRemainingSecs,a[5]=m.refetchVestaClientInfo,a[6]=f):f=a[6];var g=f,h;return a[7]!==i||a[8]!==g?(h=u.jsx(_.Provider,{value:g,children:i}),a[7]=i,a[8]=g,a[9]=h):h=a[9],h}l.useMWEBVestaUserInfo=f,l.useMWEBIsCooldownOrLockOutState=g,l.MWEBVestaUserInfoContextProvider=h}),98);
__d("MercuryIDs",[],(function(t,n,r,o,a,i){"use strict";var e={isValid:function(t){return t==null||t===""||typeof t!="string"?!1:/^\w{3,12}:.+/.test(t)},isValidThreadID:function(n){if(!e.isValid(n))return!1;var t=e.tokenize(n);switch(t.type){case"user":case"support":case"thread":case"root":return!0;default:return!1}},tokenize:function(n){if(n==null||n===""||!e.isValid(n))throw new Error("bad_id_format "+String(n));var t=n.indexOf(":");return{type:n.substr(0,t),value:n.substr(t+1)}},getUserIDFromParticipantID:function(n){if(!e.isValid(n))throw new Error("bad_id_format "+n);var t=e.tokenize(n),r=t.type,o=t.value;return r==="fbid"?o:null},getParticipantIDFromUserID:function(t){if(isNaN(t))throw new Error("Not a user ID: "+t);return"fbid:"+t},getUserIDFromThreadID:function(t){return this.isCanonical(t)?this.tokenize(t).value:null},getThreadIDFromUserID:function(t){return"user:"+t},getThreadIDFromThreadFBID:function(t){return"thread:"+t},getThreadIDFromSupportInboxItemID:function(t){return"support:"+t},getThreadFBIDFromThreadID:function(t){return this.tokenize(t).value},getThreadKeyfromThreadIDUserID:function(n,r){if(n==null||n===""||!e.isValid(n))throw new Error("bad_id_format "+String(n));var t=this.tokenize(n).type,o=this.tokenize(n).value;if(t!=="user")return"g"+o;var a="",i="";if(o.length!==r.length)a=o.length>r.length?o:r,i=o.length>r.length?r:o;else{if(r===o)return r+"u"+o;for(var l=0;l<o.length&&l<r.length;)if(o[l]===r[l])l++;else{a=o[l]>r[l]?o:r,i=o[l]>r[l]?r:o;break}}return i+"u"+a},getThreadIDFromParticipantID:function(t){var e=this.getUserIDFromParticipantID(t);return e?this.getThreadIDFromUserID(e):null},getParticipantIDFromFromThreadID:function(t){var e=this.getUserIDFromThreadID(t);return e?this.getParticipantIDFromUserID(e):null},getSupportInboxItemIDFromThreadID:function(t){return this.tokenize(t).value},isCanonical:function(t){return this.isValid(t)&&this.tokenize(t).type==="user"},isGroupChat:function(t){return this.isValid(t)&&this.tokenize(t).type!=="user"},isLocalThread:function(t){return this.isValid(t)&&this.tokenize(t).type==="root"}};a.exports=e}),null);
__d("loadLSThreadsForTheFirstTime",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return r("LSThreadsRangesQueryStoredProcedure")(r("LSFactory")(t),{additionalPagesToFetch:(e||(e=o("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:e.max_int,maxThreadKey:e.max_int,minLastActivityTimestampMs:e.max_int,minThreadKey:e.max_int,parentThreadKey:n,shouldSkipE2eeThreadsRanges:!1})}l.default=s}),98);
__d("loadMoreLSThreads",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure","Promise","ReQL","loadLSThreadsForTheFirstTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads_ranges_v2__generated).filter(function(e){return(s||(s=o("I64"))).equal(e.parentThreadKey,a)})).then(function(i){return i!=null?!i.isLoadingBefore&&i.hasMoreBefore?r("LSThreadsRangesQueryStoredProcedure")(r("LSFactory")(t),{additionalPagesToFetch:(s||(s=o("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:i.maxLastActivityTimestampMs,maxThreadKey:i.maxThreadKey,minLastActivityTimestampMs:i.minLastActivityTimestampMs,minThreadKey:i.minThreadKey,parentThreadKey:a,shouldSkipE2eeThreadsRanges:!1}):(e||(e=n("Promise"))).resolve():r("loadLSThreadsForTheFirstTime")(t,a)})}l.default=u}),98);
__d("searchCometGlobalTypeahead.config",[],(function(t,n,r,o,a,i){"use strict";var e=8,l={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:e,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:e,sectionLimits:new Map([["other",e],["recent_searches",e]])}};i.default=l}),66);
__d("useEnsureContactsExistAndUpdated",["CometRelay","Int64Hooks","MAWVerifyThreadCutover","promiseDone","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(6),a=r("useAsyncReStore")(),i=o("CometRelay").useRelayEnvironment(),l,s;n[0]!==e||n[1]!==a||n[2]!==i||n[3]!==t?(l=function(){r("promiseDone")(a,function(n){e==null||t||r("promiseDone")(o("MAWVerifyThreadCutover").ensureContactCapabilities2IsLoaded(n,i,e))})},s=[a,e,t,i],n[0]=e,n[1]=a,n[2]=i,n[3]=t,n[4]=l,n[5]=s):(l=n[4],s=n[5]),o("Int64Hooks").useEffectInt64(l,s)}l.default=e}),98);
__d("useEnsureViewerContactExistAndUpdated",["ReQL","ReQLSuspense","react-compiler-runtime","useEnsureContactsExistAndUpdated","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a;t[0]!==n.tables._user_info?(a=function(){return o("ReQL").fromTableAscending(n.tables._user_info).map(u)},t[0]=n.tables._user_info,t[1]=a):a=t[1];var l;t[2]!==n?(l=[n],t[2]=n,t[3]=l):l=t[3];var s=o("ReQLSuspense").useFirst(a,l,i.id+":25");r("useEnsureContactsExistAndUpdated")(s,!1)}function u(e){return e.facebookUserId}l.default=s}),98);
__d("useHasRestoreInterstitialSoftblockBeenDismissed",["MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(4),l=t.backupState,s=t.isCooldownOrLockOutState,c=(e||(e=r("useReStore")))(),d=(n=o("ReQLSuspense").useFirst(function(){return l===4?o("ReQL").fromTableAscending(c.tables.experiences_shared_state).getKeyRange(r("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED).map(u):o("ReQL").empty()},[l,c],i.id+":34"))!=null?n:!1,m;a[0]!==l||a[1]!==c||a[2]!==d?(m=l===4&&d===!1&&o("MWEncryptedBackupsSharedState").getEntryPresentInLocalStorage({db:c,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED})!=null,a[0]=l,a[1]=c,a[2]=d,a[3]=m):m=a[3];var p=m;return d===!0||p===!0||s}function u(e){var t=e.stateValue;return t!=null}l.default=s}),98);
__d("useSearchCometGlobalTypeaheadCompositeDataSource",["useSearchCometTypeaheadCompositeDataSource"],(function(t,n,r,o,a,i,l){"use strict";var e={instance:null};function s(t){var n=r("useSearchCometTypeaheadCompositeDataSource")(t);return e.instance==null&&(e.instance=n),e.instance}l.default=s}),98);
__d("useSearchCometGlobalTypeaheadNullStateDataSource",["react-compiler-runtime","useSearchCometRecentSearchDataSource"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={fetchSearchBadge:!0,filter:"all",nullStateSurface:"GLOBAL"},e[0]=t):t=e[0],r("useSearchCometRecentSearchDataSource")(t)}l.default=e}),98);/*FB_PKG_DELIM*/
__d("CometFeedStoryMenuXoutSection_story.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"site",value:"www"}];return{argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryMenuXoutSection_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:null,kind:"LinkedField",name:"easy_hide_nfx_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_start_curation_flow",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:e,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:e,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}})();a.exports=e}),null);
__d("CometLightweightNegativeFeedbackNuxContainer.react",["fbt","nux:190","react","react-compiler-runtime","useEmptyFunction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=(e=(u=n("nux:190"))==null?void 0:u("comet_lightweight_negative_feedback_nux"))!=null?e:r("useEmptyFunction");function p(e){var t=o("react-compiler-runtime").c(5),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=s._(/*BTDS*/"\u10e8\u10d4\u10d4\u10ee\u10d4\u10d7, \u10e0\u10d0\u10d7\u10d0 \u10d3\u10d0\u10db\u10d0\u10da\u10dd\u10d7 \u10d4\u10e1 \u10de\u10dd\u10e1\u10e2\u10d8 \u10d3\u10d0 \u10e1\u10d0\u10db\u10dd\u10db\u10d0\u10d5\u10da\u10dd\u10d3 \u10dc\u10d0\u10d9\u10da\u10d4\u10d1\u10d8 \u10db\u10e1\u10d2\u10d0\u10d5\u10e1\u10d8 \u10de\u10dd\u10e1\u10e2\u10d8 \u10dc\u10d0\u10ee\u10dd\u10d7."),t[0]=r):r=t[0];var a=r,i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i={"aria-label":a,content:a},t[1]=i):i=t[1];var l=m(i),u;return t[2]!==n||t[3]!==l?(u=n!=null?d.jsx("div",{ref:l,children:n}):null,t[2]=n,t[3]=l,t[4]=u):u=t[4],u}l.default=p}),226);
__d("FBNucleusCrossFilled20.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M15.543 3.043a1 1 0 1 1 1.414 1.414L11.414 10l5.543 5.542a1 1 0 0 1-1.414 1.415L10 11.414l-5.543 5.543a1 1 0 0 1-1.414-1.415L8.586 10 3.043 4.457a1 1 0 1 1 1.414-1.414L10 8.586l5.543-5.543z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("InstreamAdsHideAdBehaviorContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null);function d(){return u(c)}l.InstreamAdsHideAdBehaviorContext=c,l.useInstreamAdsHideAdBehavior=d}),98);
__d("CometFeedStoryMenuXoutSection.react",["fbt","CometFeedStoryEncryptedTrackingContext","CometFeedStoryMenuXoutSection_story.graphql","CometLightweightNegativeFeedbackNuxContainer.react","CometRelay","CometTrackingNodeProvider.react","FBNucleusCrossFilled20.svg.react","FDSCircleButton.react","InstreamAdsHideAdBehaviorContext","JSResourceForInteraction","promiseDone","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useContext,_=d.useMemo,f=r("JSResourceForInteraction")("HideXoutAction").__setRef("CometFeedStoryMenuXoutSection.react");function g(t){var a,i,l,u,d=t.story,g=o("CometRelay").useFragment(e!==void 0?e:e=n("CometFeedStoryMenuXoutSection_story.graphql"),d),h=!0,y=null,C='{"placeholder":0}',b="placeholder",v="HIDE_XOUT";try{var S,R=g==null?void 0:g.easy_hide_nfx_action;if(R==null&&(h=!1),h&&(y=R),y==null&&(h=!1),((S=y)==null?void 0:S.context)==null)h=!1;else{var L,E,k;C=(L=y)==null?void 0:L.context,v=(E=(k=y)==null?void 0:k.type)!=null?E:"HIDE_XOUT"}g.id==null?(b="placeholder",h=!1):b=g.id}catch(e){h=!1}var I=o("InstreamAdsHideAdBehaviorContext").useInstreamAdsHideAdBehavior(),T=p(r("CometFeedStoryEncryptedTrackingContext"));T==null&&(h=!1);var D=_(function(){if(T!=null){var e=JSON.parse(C);return e.tracking=T,JSON.stringify(e)}return C},[C,T]),x=o("CometRelay").useRelayEnvironment(),$=m(function(){I!=null&&I.onOpen&&I.onOpen();var e={context:D,type:v};r("promiseDone")(f.load().then(function(t){var n;t.hide(e,(n=y)==null?void 0:n.can_start_curation_flow,x,b)}))},[I,D,v,x,(a=y)==null?void 0:a.can_start_curation_flow,b]),P=((i=y)==null?void 0:i.redirect_style)==="FULL_PAGE"&&((l=y)==null?void 0:l.redirect_uri)!=null?(u=y)==null?void 0:u.redirect_uri:void 0,N=c.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"\u10de\u10dd\u10e1\u10e2\u10d8\u10e1 \u10d3\u10d0\u10db\u10d0\u10da\u10d5\u10d0"),color_DEPRECATED:"secondary",dynamicHoverTiltAngle:15,dynamicHoverTranslationPercent:.15,icon:r("FBNucleusCrossFilled20.svg.react"),linkProps:{url:P},onPress:$,showDynamicHover:!0,size:36,testid:void 0,type_DEPRECATED:"deemphasized"}),M=h===!0?c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:29,children:N}):null;return c.jsx(r("CometLightweightNegativeFeedbackNuxContainer.react"),{children:M})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("CometFeedStoryMenuXoutSection_story$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"site",value:"www"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryMenuXoutSection_story$normalization",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:null,kind:"LinkedField",name:"easy_hide_nfx_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_start_curation_flow",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:e,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:e,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null},t],storageKey:null},t]}})();a.exports=e}),null);
__d("CometMarketplaceComponentLoggingContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={metadata:null},c=s.createContext(u);l.default=c}),98);
__d("CommerceTabFeedClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1878"),s=o("FalcoLoggerInternal").create("commerce_tab_feed_click",e),u=s;l.default=u}),98);
__d("CommerceTabFeedImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2315"),s=o("FalcoLoggerInternal").create("commerce_tab_feed_impression",e),u=s;l.default=u}),98);
__d("CommerceAttachmentLoggingUtils",["CommerceTabFeedClickFalcoEvent","CommerceTabFeedImpressionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n="unknown";switch(e){case"homepage_stream":case"groups_tab":n="home_feed";break;case"group":n="group_feed";break}var r="unknown";switch(t){case"NEWSFEED":r="newsfeed";break;case"GROUP":r="groups";break}return{analyticsExperience:"tab_feed",analyticsFeedType:r,analyticsPage:n}}function s(e,t){return e?"post":t?"shops_you_follow_stories":"unknown"}function u(e){var t,n,r,o,a,i,l,s;return{analytics_component:(t=e==null?void 0:e.analyticsComponent)!=null?t:"unknown",analytics_feed_type:(n=e==null?void 0:e.analyticsFeedType)!=null?n:"unknown",analytics_module:(r=e==null?void 0:e.analyticsModule)!=null?r:"unknown",analytics_page:(o=e==null?void 0:e.analyticsPage)!=null?o:"unknown",legacy_referral_code:(a=e==null?void 0:e.referralCode)!=null?a:"",module_type:(i=e==null?void 0:e.moduleType)!=null?i:"",navigation_chain:e==null?void 0:e.navigationChain,product_id:(l=e==null?void 0:e.productItemID)!=null?l:"",referral_surface:(s=e==null?void 0:e.analyticsExperience)!=null?s:"unknown",shopping_session_id:""}}function c(e){r("CommerceTabFeedImpressionFalcoEvent").log(function(){return u(e)})}function d(e){r("CommerceTabFeedClickFalcoEvent").log(function(){return u(e)})}function m(e){r("CommerceTabFeedClickFalcoEvent").log(function(){return u(babelHelpers.extends({},e,{analyticsComponent:"message_seller_button"}))})}l.getTabFeedMetadata=e,l.getAttachmentModule=s,l.getBSGAttachmentBasePayload=u,l.logBSGAttachmentImpression=c,l.logBSGAttachmentProductClick=d,l.logBSGAttachmentMessageSellerButtonClick=m}),98);
__d("MarketplaceClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743922"),s=o("FalcoLoggerInternal").create("marketplace_click",e),u=s;l.default=u}),98);
__d("MarketplaceImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743925"),s=o("FalcoLoggerInternal").create("marketplace_impression",e),u=s;l.default=u}),98);
__d("TrackingNodeTypes",[],(function(t,n,r,o,a,i){var e=Object.freeze({HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,FEED_STORY_MESSAGE_FLYOUT:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,MULTI_ATTACHMENT_VIDEO:205,VIDEO_CALL_TO_ACTION_PAUSESCREEN_RESUME:206,VOICECHAT:207,PAGE_INVITE_FRIEND:208,SEE_MORE_REDIRECT:209,VIDEO_CALL_TO_ACTION_ATTACHMENT:210,PAGE_POST_SEE_FIRST:211,PAGE_POST_DEFAULT:212,TOPIC_FEED_CUSTOMIZATION_UNIT_SUBMIT:213,TOPIC_FEED_CUSTOMIZATION_UNIT_OPTION:214,LEAD_GEN_OPEN_POPOVER:215,LEAD_GEN_SUBMIT_CLICK:216,LEAD_GEN_PRIVACY_CLICK:217,LEAD_GEN_OFFSITE_CLICK:218,EVENT_YOU_MAY_LIKE_HSCROLL:219,LEAD_GEN_CONTEXT_CARD_CLOSE:220,LEAD_GEN_CONTEXT_CARD_CTA_CLICK:221,FEED_STORY_PLACE_ATTACHMENT:222,PAGE_CALL_TO_ACTION_UNIT:224,TRANSLATION:225,FEED_STORY_ATTACHMENT_MISINFO_WARNING:226,RELATED_LOCAL_NEWS_ATTACHMENT_LINK:227,RELATED_LOCAL_NEWS_ATTACHMENT_SHARE:228,STORY_TIMESTAMP:229,STORY_HEADER:230,SPONSORED_STORY:231,EVENT_CTA_BUTTON:232,RELATED_PAGE_POSTS_ATTACHMENT_CLICK:233,RELATED_PAGE_POSTS_ATTACHMENT_SHARE:234,RELATED_PAGE_POSTS_ATTACHMENT_XOUT:235,RELATED_PAGE_POSTS_UNIT_XOUT:236,CAROUSEL_CARD_STORY:237,OFFERS_DETAILS_POPOVER:238,SPOTLIGHT:239,INSTREAM_CALL_TO_ACTION_BUTTON:240,INSTREAM_CALL_TO_ACTION_ATTACHMENT:241,SEARCH_AD_ATTACHMENT_CLICK:242,SEARCH_AD_CTA_CLICK:243,SEARCH_AD_OFFSITE_CLICK:244,MULTI_SHARE_GRID_EXPERIMENT_CARD_1:245,MULTI_SHARE_GRID_EXPERIMENT_CARD_2:246,MULTI_SHARE_GRID_EXPERIMENT_CARD_3:247,MULTI_SHARE_GRID_EXPERIMENT_CARD_4:248,MULTI_SHARE_GRID_EXPERIMENT_SEE_MORE:249,HOVERCARD:250,INSTANT_GAME_PLAYER:251,POLITICAL_AD_STORY_HEADER_CLICK:252,PHOTO_VOICE:253,PHOTO_TAG:254,ANDROID_PLAYSTORE_WATCH_AND_INSTALL_BUTTON:255,VIDEO_POLLING_IN_CREATIVE_CTA_BUTTON:256,VIDEO_SETTINGS:257,PLAYABLE_CALL_TO_ACTION_BUTTON:258,ATTACHMENT_FOOTER:259,LEAD_GEN_THANK_YOU_PAGE:260,SHOW_MENTIONS_PLUGIN:261,AD_BREAK_FULL_VIDEO_INDICATOR:262,INSTREAM_AD_IMAGE:263,INSTREAM_AD_CONTEXT:264,ATTACHMENT_FOOTER_DISCLAIMER:265,INSTREAM_LONGER_AD_CLICK_WATCH_AND_MORE:266,INSTREAM_POST_ROLL_LONGER_AD_ENDING_SCREEN:267,ACTIVATE_OFFER_CTA_BUTTON:268,INSTREAM_COLLECTION_AD_FOOTER_TITLE:269,INSTREAM_COLLECTION_AD_CONTEXT_FOOTER_SUBIMAGE:270,INSTREAM_COLLECTION_AD_DEFERRED_FOOTER_SUBIMAGE:271,WATCH_AND_MORE:272,INSTREAM_CONTEXT_CARD_IMAGE:273,INSTREAM_CONTEXT_CARD_HEADLINE:274,INSTREAM_CONTEXT_CARD_DISPLAY_LINK:275,INSTREAM_CONTEXT_CARD_STORY_MESSAGE:276,INSTREAM_CONTEXT_CARD_MAI_RATING:277,INSTREAM_DEFERRED_CTA_IMAGE:278,INSTREAM_DEFERRED_CTA_HEADLINE:279,INSTREAM_DEFERRED_CTA_DISPLAY_LINK:280,INSTREAM_DEFERRED_CTA_STORY_MESSAGE:281,BIZ_DISCO_PERSISTENT_CTA:282,STORY:301,PERMALINK_STORY:302,ARTICLE_CONTEXT_TRIGGER:303,LINK:304,ATTACHMENT_FOLLOW:305,SNOWFLAKE_STORY:306,SNOWFLAKE_PHOTO:307,BIRTHDAY_REMINDER:308,FRIEND_REQUEST:309,PYMK_JEWEL:310,BROWSE_RESULT:311,PROFILE_LINK:312,USER_PROFILE_PIC:313,GROUP_MEMBER:314,GROUP_SUGGESTION:315,REACTION_BROWSER:316,GROUP_MEMBER_SUGGESTION:317,PROFILE_NAV_ITEM:318,NOTIFICATION_JEWEL:319,NOTIFICATION_ITEM:320,SNACKS:321,PROFILE_TILE:322,FRIEND_PROFILE_TILE:323,INTRO_PROFILE_TILE:324,SUGGEST_FRIENDS_DIALOG:325,APP_COLLECTION:326,ALL_FRIENDS_COLLECTION:327,MUTUAL_FRIENDS_COLLECTION:328,OUTGOING_FRIEND_REQUESTS:329,INSTANT_ARTICLE_RECIRCULATION_STORY:330,FRIEND_CENTER_PYMK:331,PARTICIPANTS_DIALOG:332,FEED_COMPOSER:333,CONFIRM_FRIEND_REQUEST:334,GENERIC_PROFILE_BROWSER:335,INSTANT_ARTICLE_NATIVE_STORY:336,INSTANT_EXPERIENCE_DOCUMENT:337,LIVE_VIDEO_CONTEXT:338,COMMENT_ACTION:339,ATTACHED_STORY:340,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_1:341,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_2:342,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_3:343,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_4:344,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_5:345,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_6:346,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_7:347,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_8:348,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_9:349,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_10:350,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_11:351,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_12:352,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_13:353,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_14:354,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_15:355,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_16:356,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_17:357,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_18:358,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_19:359,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_20:360,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_21:361,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_22:362,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_23:363,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_24:364,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_25:365,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_26:366,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_27:367,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_28:368,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_29:369,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_30:370,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_31:371,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_32:372,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_33:373,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_34:374,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_35:375,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_36:376,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_37:377,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_38:378,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_39:379,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_40:380,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_41:381,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_42:382,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_43:383,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_44:384,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_45:385,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_46:386,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_47:387,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_48:388,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_49:389,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_50:390,AGGREGATED_STORY:391,THREADED_POSITION:392,AR_ADS_OPEN_CAMERA:393,AR_ADS_TAP_TO_CAMERA:394,AR_ADS_CTA_SWIPE:395,WORK_GALAHAD_NAV_ITEM:400,WORK_GALAHAD_TAB_HOME:401,WORK_GALAHAD_TAB_NOTIFICATIONS:402,WORK_GALAHAD_TAB_CHATS:403,WORK_GALAHAD_TAB_PROFILE:404,WORK_GALAHAD_LIST_SHORTCUTS:405,WORK_GALAHAD_LIST_GROUPS:406,WORK_GALAHAD_LIST_PEOPLE:407,WORK_GALAHAD_TAB_ADMIN_PANEL:408,WORK_GALAHAD_TAB_RESELLER_CONSOLE:409,HSCROLL_LEFT_ARROW:410,HSCROLL_RIGHT_ARROW:411,GET_SHOWTIMES_CALL_TO_ACTION:412,INTERESTED_CALL_TO_ACTION:413,OTHER_CALL_TO_ACTION:414,WORK_GALAHAD_TAB_DIRECT:415,WORK_GALAHAD_LIST_BOTS:416,INTERACTIVE_POLL_OPTION:417,INTERACTIVE_POLL_BACKGROUND_CARD:418,HSCROLL_PREVIOUS_BUTTON:419,HSCROLL_NEXT_BUTTON:420,WORK_GALAHAD_TAB_MEETING:421,WORK_GALAHAD_LIST_SEE_FIRST_GROUPS:422,AR_ADS_CTA:423,PBIA_PROFILE:424,PRODUCT_TAG:425,WAM_ENTRY_POINT:426,WORK_GALAHAD_TAB_CALL:427,WORK_GALAHAD_TAB_FILES:428,VIEW_PRODUCTS:429,USER_TAG:430,VIDEO_VIEWER_LIST:431,PRODUCT_DETAIL_PAGE:432,SHOPPING_SHEET_BUTTON:433,WORK_TEAMWORK_TAB_SEARCH:434,WORK_TEAMWORK_TAB_EXPLORE:435,WORK_GALAHAD_TAB_TOOLS:436,WORK_GALAHAD_TAB_VC:437,INSTAGRAM_EXPLORE:438,REMINDER_AD_CTA_BUTTON:439,CTC_POST_CLICK_CTA:440,KNOWLEDGE_NOTE:441,CTA_MARGIN_AREA:442,WORKPLATFORM_TAB:443,FB_SHOPS_PRODUCT:444,FB_SHOPS_FOOTER:445,WORK_GARDEN_TAB_HOME:446,KNOWLEDGE_COLLECTION:447,COMMUNITY_VIEW_INLINE:448,MORE_VIDEOS_ON_WATCH:449,VIDEO_AD_VIEWER:450,BUSINESS_CONTACT_THIRD_PARTY:451,BUSINESS_CONTACT_PHONE:452,BUSINESS_CONTACT_MESSAGE:453,BUSINESS_CONTACT_WEBSITE:454,BUSINESS_CONTACT_WHATSAPP:455,MEDIA_TO_DESTINATION:456,BUSINESS_IMAGE:460,FACEBOOK_REELS_LIKE_BS_FLOATING_CTA:461,FACEBOOK_REELS_COMMENT_BS_FLOATING_CTA:462,FACEBOOK_REELS_PROFILE_FLOATING_CTA:463,FACEBOOK_GENERIC_FLOATING_CTA:464,FACEBOOK_GENERIC_FLOATING_CTA_COMMENT:527,FACEBOOK_GENERIC_FLOATING_CTA_PERMALINK:535,FACEBOOK_GENERIC_FLOATING_CTA_GROUP:550,WORK_GALAHAD_TAB_WATCH:465,IG_STORY_SHOWCASE_ADS_CLICK:466,FACEBOOK_REELS_POST_LOOP_CONTEXT_CARD_CLICK:467,FACEBOOK_REELS_POST_LOOP_DEFERRED_CARD_CLICK:468,COLLECTION_PRODUCT_TILE:469,WORKPLACE_EMBED_HEADER:470,WORKPLACE_EMBED_UFI:471,WORKPLACE_EMBED_COMMENT_CTA:472,INLINE_COMMENT:473,STICKER_ADS_CTA_BUTTON:474,STICKER_ADS_TOOLTIP:475,STICKER_ADS_PROFILE_NAME:476,FB_NOTE:477,WORKPLACE_KNOWLEDGE_LIBRARY:478,SHOP_TILE:479,WORK_GALAHAD_TAB_SHIFTS:480,FACEBOOK_REELS:482,FACEBOOK_REELS_BANNER_ADS_CLICK:483,WORKSTREAM:484,EXPLORE_GRID_ADS_CTA_BUTTON:485,EXPLORE_GRID_ADS_PROFILE_NAME:486,FACEBOOK_REELS_BANNER_ADS_CLICK_PROFILE:487,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT:488,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT_MESSAGE_CTA:489,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_SELL_PILL:490,COMMERCE_MARKETPLACE_SELLING_CREATE_LISTING:491,COMMERCE_MARKETPLACE_CREATE_LISTING_DROPDOWN:492,COMMERCE_MARKETPLACE_YOUR_COMMERCE_PROFILE:493,COMMERCE_MARKETPLACE_FEED_CARD:494,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_COMPOSER:496,COMMERCE_MARKETPLACE_EDIT_LISTING_DROPDOWN:497,COMMERCE_MARKETPLACE_YOUR_LISTING_EDIT_BUTTON:498,COMMERCE_MARKETPLACE_DELETE_LISTING_DROPDOWN:499,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB:501,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB_AVAILABLE_LISTING:502,COMMERCE_MARKETPLACE_YOUR_LISTING_DELETE_BUTTON:503,COMMERCE_MARKETPLACE_SELL_HUB:506,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_YOUR_LISTINGS_PLINK:507,COMMERCE_MARKETPLACE_YOU_SURFACE_SELLING_SECTION:511,COMMERCE_MARKETPLACE_SELLING_ACTIVITY_MODULE:512,COMMERCE_MARKETPLACE_SURFACE_HIGHLIGHTS_MODULE:513,COMMERCE_YOU_SURFACE_COMMERCE_PROFILE:514,COMMERCE_BUY_SELL_GROUPS_PDP_ACTION_BAR:515,COMMERCE_MARKETPLACE_LIST_IN_MORE_PLACES_CTA:516,COMMERCE_MARKETPLACE_UNIFIED_SEE_POSTS_ACTION_CTA:517,COMMERCE_MARKETPLACE_SELLER_LISTING_NOTICE:518,COMMERCE_MARKETPLACE_BUYER_SELLER_FLYWHEEL:519,COMMERCE_MARKETPLACE_MANAGE_YOUR_LISTINGS_FEED_UNIT:520,COMMERCE_MARKETPLACE_ACTIVE_LISTINGS_FEED_UNIT:521,COMMERCE_MARKETPLACE_BAN_WARNING_BOTTOMSHEET:522,COMMERCE_MARKETPLACE_COMMERCE_PROFILE_FEED_CARD:523,COMMERCE_SHOPS__NAVIGATION_BAR__CART_BUTTON:600,COMMERCE_SHOPS__NAVIGATION_BAR__STOREFRONT_ENTRY:601,FACEBOOK_REELS_ADS_END_SCENE:495,SAVES_LIST_CELL:500,CONTEXTUAL_TRAY:504,CONTEXTUAL_TRAY_CARD:505,WORK_GALAHAD_TAB_CONTENT_MANAGER:508,PLINK:509,KNOWLEDGE_BUNDLE:510,PAPER_DOCUMENT_CASE:524,ADS_PRODUCT_PAGE:525,ADS_TEXT_OVERLAY:526,FACEBOOK_REELS_H_SCROLL:528,CONTEXTUAL_FEED_PROFILE:529,CONTEXTUAL_FEED_SEARCH:530,SEARCH_GRID_ADS_CTA_BUTTON:531,SEARCH_GRID_ADS_PROFILE_NAME:532,WHATSAPP_CTA_BUTTON_IN_IAB:533,TOOLTIP_CTA:534,FACEBOOK_REELS_MULTI_CARD_END_CARD:536,FACEBOOK_REELS_ADS_SWIPE_LEFT:537,AD_EXTENSIONS_CARD:41,COLLECTION_HERO_MEDIA:549,COLLECTION_TILE:538,COLLECTION_HSCROLL_TILE:539,HIDE_AD:540,REPORT_AD:541,WAIST_AD:542,BOTTOM_SHEET:543,SHARE_BROWSER:544,WORK_MEETINGS_TAB_HOME:545,IAB_FOOTER:546,IAB_PRODUCT_TILE:547,ATTRIBUTION_ROW_PILL:548,WORK_GALAHAD_TAB_EVENTS:551,UFI_COPY_LINK:552,WATCH_AND_NAVIGATION:553,WATCH_AND_NAVIGATION_CTA:554,WATCH_AND_NAVIGATION_SE:555,WATCH_AND_NAVIGATION_PE:556,AD_ACTION_CHIP:557,MUTE:558,EXPAND_TO_FULLSCREEN:559,THREE_DOTS:560,COMMENT_TIMESTAMP:561,SPONSORED_LABEL:562,UNDO:563,FACEBOOK_REELS_ADS_CTA_LONG_PRESS:648,FACEBOOK_REELS_ADS_MIDSCENE_LONG_PRESS:649,FACEBOOK_REELS_ADS_TOOLTIP:564,FACEBOOK_REELS_ADS_CAPTION_BROWSE:565,FACEBOOK_REELS_ADS_LONG_PRESS:566,FACEBOOK_FEED_ADS_LONG_PRESS:642,PROFILE_TAB_PRODUCT_TILE:567,FACEBOOK_REELS_ADS_CREATIVE:568,VIDEO_HIGHLIGHTS:569,VIDEO_ENDSCENE_CARD:570,SOCIAL_CONTEXT_SHEET:571,DYNAMIC_LANDING_PAGE:572,DYNAMIC_LANDING_PAGE_CTA:573,DYNAMIC_LANDING_PAGE_SE:574,DYNAMIC_LANDING_PAGE_PE:575,DYNAMIC_LANDING_PAGE_PE_SAVE_FOR_LATER:576,DYNAMIC_LANDING_PAGE_PE_CTA:577,DYNAMIC_LANDING_PAGE_PROFILE_PHOTO:578,DYNAMIC_LANDING_PAGE_PROFILE_NAME:579,DYNAMIC_LANDING_PAGE_SE_CTA:626,BIZ_AI_AGENT_ACTION_CHIP:580,BIZ_AI_AGENT_IAB_ACTION_CHIP:651,WATCH_AND_NAVIGATION_FOOTER:581,END_SCENE_CTA:582,END_SCENE_TOOLTIP_CTA:583,END_SCENE_PROFILE_PHOTO:584,FACEBOOK_REELS_ADS_POST_SCROLL:585,SKIP_BUTTON:586,PRODUCT_RECOMMENDER_PRODUCT_TILE:587,HALF_SHEET_EXPANSION:588,DESTINATION_AUTOMATION_IX_LANDING_PAGE:589,FEED_PHONE_NUMBER_PERMALINK:590,FINDS_PRODUCT_COMPARE_UNIT:591,PLAY_PAUSE_BUTTON:592,METADATA_BOTTOMSHEET_CTA_BUTTON:593,PROFILE_AND_BROWSE_PROFILE_CLICK:594,FB_REELS_SINGLE_IMAGE_MEDIA_TAP:595,FB_REELS_MID_SCENE_CTA:596,FB_REELS_MULTIADS_MEDIA:597,FB_REELS_ADS_PROFILE_BROWSE:598,COMMENT_KEYWORDS_IN_PRECLICK:599,COMMENT_KEYWORSD_IN_DYNAMIC_LANDING_PAGE:606,FB_FEED_HEADER_ENTITY_BASED_METADATA:602,WATCH_AND_INSTALL_APP_DETAILS_PAGE_CTA:603,FB_REELS_END_SCENE_CTA:604,SEE_LESS:605,NON_CTA_VIDEO_AD:607,MARKETPLACE_ADS_HEADER_MINI_PAGE:608,MARKETPLACE_ADS_HEADER_MINI_PAGE_PAGE_CLICK:609,MARKETPLACE_ADS_HEADER_MINI_PAGE_LINK_CLICK:610,COMMENT_PRODUCT_LINK:611,COMMENT_PRODUCT_LINK_PREVIEW:612,FACEBOOK_REELS_ADS_SCRUBBER_SWIPE_UP:613,FACEBOOK_REELS_ADS_PRODUCT_EXTENSIONS:614,PAGE_LIKE_AD_CTA:615,AD_UGC_FEED_EXTENSION_END_CARD:616,AD_UGC_FEED_EXTENSION_CARD:617,AD_UGC_POST_VIEWER_CTA:618,IG_X_AND_BROWSE:619,IG_X_AND_BROWSE_WITH_SCREENSHOT:620,IG_FEED_DESTINATION_INFO:621,IG_INSTREAM_VIEWER_CTA:622,IG_INSTREAM_RETURN_TO_AD_VIEWER_CTA:623,IG_INSTREAM_RETURN_TO_AD_CTA:624,X_AND_BROWSE_PLACEHOLDER_WEBVIEW:625,GROUP_TOPICS_STORY_TAG:628,PAGE_REVIEWS_KEYWORDS_IN_PRECLICK:629,WATCH_AND_NAVIGATION_BLOKS:630,DYNAMIC_LANDING_PAGE_FULLSCREEN:631,DYNAMIC_LANDING_PAGE_PRIMITIVES_SE:632,IG_STORY_PRODUCT_STICKER:633,FB_REELS_IMAGE_CTA:634,IG_REELS_CONSIDERATION_MID_CARD:635,AD_LIKE:636,IG_OVERFLOW_MENU_CTA:637,IG_COMMENT_LINK_PREVIEW_CARD:638,BAU_COLLECTION_LITE:639,BAU_PDP_LITE:640,IG_MEDIA_LONG_PRESS:641,INSTANT_EXPERIENCE_PRODUCT:643,IG_REELS_MIDSCENE_PILL:644,IG_COMMENT_THIRD_PARTY_REVIEW:645,FB_REELS_ADS_PRODUCT_EXTENSIONS_CTA_END_SCENE:646,METAMATE_IN_WORKPLACE:647,AFFILIATE_PRODUCT_BANNER:650,MARKETING_MESSAGE_TEMPLATE:652,MARKETING_MESSAGE_TEMPLATE_CTA:653,MARKETING_MESSAGE_TEMPLATE_MEDIA:654,MARKETING_MESSAGE_BODY_LINK:655,IG_STORY_TOOLTIP_PREVIEW_IMAGE:656,IG_STORY_MOASIC_TILE:657,FACEBOOK_REELS_ADS_POST_SCROLL_CTA:658,DYNAMIC_LANDING_PAGE_SINGLE_VIDEO:659});i.default=e}),66);
__d("TrackingNodes",["DataAttributeUtils","TrackingNodeConstants","TrackingNodeTypes","decodeTrackingNode","encodeTrackingNode","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=r("react")),u={types:r("TrackingNodeTypes"),BASE_CODE_START:o("TrackingNodeConstants").BASE_CODE_START,BASE_CODE_END:o("TrackingNodeConstants").BASE_CODE_END,BASE_CODE_SIZE:o("TrackingNodeConstants").BASE_CODE_SIZE,PREFIX_CODE_START:o("TrackingNodeConstants").PREFIX_CODE_START,PREFIX_CODE_END:o("TrackingNodeConstants").PREFIX_CODE_END,PREFIX_CODE_SIZE:o("TrackingNodeConstants").PREFIX_CODE_SIZE,ENCODE_NUMBER_MAX:o("TrackingNodeConstants").ENCODE_NUMBER_MAX,ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE:o("TrackingNodeConstants").ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE,ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE:o("TrackingNodeConstants").ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE,TN_URL_PARAM:o("TrackingNodeConstants").TN_URL_PARAM,encodeTN:r("encodeTrackingNode"),decodeTN:r("decodeTrackingNode"),parseTrackingNodeString:function(t){for(var e=[];t.length>0;){var n=u.decodeTN(t);if(n.length==1)return[];e.push(n[1]),t=t.substring(n[0])}return e},getTrackingInfo:function(t,n){return'{"tn":"'+u.encodeTN(t,n).replace("\\","\\\\")+'"}'},addDataAttribute:function(t,n,o){n!==void 0&&["data-ft","data-gt"].forEach(function(e){var a;if(t.getAttribute)a=r("DataAttributeUtils").getDataAttribute(t,e)||"{}";else if(t.props)a=t.props[e]||"{}";else return;var i=u.encodeTN(n,o);try{if(a=JSON.parse(a),a.tn&&a.tn===i)return;if(a.tn=i,t.setAttribute)t.setAttribute(e,JSON.stringify(a));else if(t.props)t.props[e]=JSON.stringify(a);else return}catch(e){}})}};i.exports=u}),34);
__d("XAdsEducationControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/ads/about/",Object.freeze({page_number:0}),void 0),s=e;l.default=s}),98);
__d("getAggregatedStoryTrackingNodeIndex",["TrackingNodes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=r("TrackingNodes").parseTrackingNodeString(e.join("")),n=0,o=0;o<t.length;o++)if(t[o][0]===340&&t[o].length>1)return n=t[o][1],n;return n}l.default=e}),98);
__d("useOpenPhotoAttachmentKeyCommand",["CometFeedStoryAttachmentCommandWidget","cometGetKeyCommandConfig","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useMemo,d=s.useRef;function m(e){var t=d(null),n=u(function(){var e=t.current;e!=null&&e.click()},[]),a=c(function(){return e?[]:[o("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","openAttachment",n)]},[n,e]);return r("CometFeedStoryAttachmentCommandWidget").useKeyCommands(a),t}l.default=m}),98);/*FB_PKG_DELIM*/
__d("Box.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["as","xstyle"],u,c,d=c||(c=o("react")),m={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(14),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,c,p;if(n[3]!==a){var _=a;c=_.as,p=_.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(_,s),n[3]=a,n[4]=l,n[5]=c,n[6]=p}else l=n[4],c=n[5],p=n[6];var f=c===void 0?"div":c,g;n[7]!==p?(g=(u||(u=r("stylex")))(m.box,p),n[7]=p,n[8]=g):g=n[8];var h;return n[9]!==f||n[10]!==l||n[11]!==i||n[12]!==g?(h=d.jsx(f,babelHelpers.extends({},l,{className:g,ref:i})),n[9]=f,n[10]=l,n[11]=i,n[12]=g,n[13]=h):h=n[13],h}l.default=p}),98);
__d("FBIconDots3HorizontalOutline20.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M458 408a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueNewError"),a.taskId,a.errorCode,a.errorTitleText,a.errorBodyText,a.errorExtraData,a.presentationStyle);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueNewFireAndForgetTask",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return n[1]=t.i64.to_string(e[1]),n[0]=t.i64.of_float(Date.now()),t.db.table(5).add({taskId:void 0,queueName:e[0],context:n[1],taskValue:e[2],enqueueTimestampMs:n[0]})},function(r){return t.filter(t.db.table(5).fetchDesc(),function(t){return t.queueName===e[0]&&t.context===n[1]&&t.taskValue===e[2]}).next().then(function(e,r){var o=e.done,a=e.value;return o?n[2]=t.i64.cast([-1,4294967295]):(r=a.item,n[2]=r.taskId)})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreIssueNewFireAndForgetTaskStoredProcedure",e.__tables__=["pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSRemoveError",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(6).fetch([[[e[0]]]]),function(e){return e.delete()})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreRemoveErrorStoredProcedure",e.__tables__=["user_visible_errors"],a.exports=e}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSRemoveError"),a.errorId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSVerifyThreadViewStoredProcedureDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSVerifyThreadViewStoredProcedure").__setRef("LSVerifyThreadViewStoredProcedureDeferred"),s=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.load().then(function(e){return e.apply(void 0,n)})},u=s;l.default=u}),98);
__d("MAWUIJob",["ExecutionEnvironment","MAWBridge","WAJobOrchestratorTypes","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d={priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},m={fireAndForget:function(n){var t;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters fireAndForget called in the worker, which is a bug for job: ",""])),n.type),o("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers.extends({},n,{scheduleConfig:(t=n.scheduleConfig)!=null?t:d}))},waitUntilCompleted:function(t,n,a){var e;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilCompleted called in the worker, which is a bug for job: ",""])),t.type);var i=o("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers.extends({},t,{scheduleConfig:(e=t.scheduleConfig)!=null?e:d}),void 0,n,a);return i},waitUntilPersisted:function(t,n,a){var e;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilPersisted called in the worker, which is a bug for job: ",""])),t.type);var i=o("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers.extends({},t,{scheduleConfig:(e=t.scheduleConfig)!=null?e:d}),void 0,n,a);return i}};l.UIJobStarters=m}),98);
__d("MAWTimedJob",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWTimedBridge","MAWUIJob","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerEvent","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e={fireAndForget:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1;return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return e=!0,o("MAWUIJob").UIJobStarters.fireAndForget(t)}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw r("FBLogger")("maw_core_lla").mustfixThrow("Failed to ack execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)},waitUntilCompleted:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,a=o("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(t.type);return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return o("MAWWorkerEvent").logStart("waitUntilCompleted",t.type,a),e=!0,o("MAWUIJob").UIJobStarters.waitUntilCompleted(t,{onAck:function(n){o("MAWWorkerEvent").logAck(a,t.type,n)},onSend:function(n){var e=n.queueMsgs,r=n.queueSize;o("MAWWorkerEvent").logSend(a,t.type,"waitUntilCompleted"),o("MAWWorkerEvent").logAnnotations(a,{int:{bridgeSize:r},string_array:{bridgeMsgs:e}})}},{bridgeQPLInstanceKey:a}).then(function(e){return o("MAWWorkerEvent").logSuccess(a),e},function(e){var t=r("getErrorSafe")(e);throw o("MAWWorkerEvent").logFailure(a,t.message),t})}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw o("MAWWorkerEvent").logTimeoutFailure(a,"Failed to complete execution of job",n),r("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)},waitUntilPersisted:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,a=o("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(t.type);return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return e=!0,o("MAWWorkerEvent").logStart("waitUntilPersisted",t.type,a),o("MAWUIJob").UIJobStarters.waitUntilPersisted(t,{onAck:function(n){o("MAWWorkerEvent").logAck(a,t.type,n)},onSend:function(n){var e=n.queueMsgs,r=n.queueSize;o("MAWWorkerEvent").logSend(a,t.type,"waitUntilPersisted"),o("MAWWorkerEvent").logAnnotations(a,{int:{bridgeSize:r},string_array:{bridgeMsgs:e}})}},{bridgeQPLInstanceKey:a}).then(function(e){return o("MAWWorkerEvent").logSuccess(a),e},function(e){var t=r("getErrorSafe")(e);throw o("MAWWorkerEvent").logFailure(a,t.message),t})}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw o("MAWWorkerEvent").logTimeoutFailure(a,"Failed to persist execution of job",n),r("FBLogger")("maw_core_lla").mustfixThrow("Failed to persist execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)}};l.TimedUIJobStarters=e}),98);
__d("MAWCreateGroupThread",["fbt","FBLogger","I64","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWTimedJob","MWSharedS2SBaseAnnotations","WAJobOrchestratorTypes","gkx","promiseDone","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e;async function u(t){var n=t.db,a=t.deduplicationKey,l=t.isDualSend,u=l===void 0?!1:l,c=t.offlineThreadingId,d=t.participantIds,m=t.threadName,p=c!=null?(e||(e=o("I64"))).to_string(c):void 0,_="msgr",f=o("sendToSentQPLLogger").markSendToSentStart();o("sendToSentQPLLogger").addSendToSentAnnotations(f,await o("MWSharedS2SBaseAnnotations").getSendToSentBaseAnnotations(o("MWSharedS2SBaseAnnotations").getMessageTypeParams({isGroupInvite:!0}),r("LSMessagingThreadAttributionType").UNKNOWN));var g=null;r("gkx")("1800")?g=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","createGroup",{extras:{clientThreadKey:p,deduplicationKey:a,isDualSend:u,platform:_},instanceKey:f,key:p,subject:m,users:d}):g=await o("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(o("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:p,deduplicationKey:a,isDualSend:u,platform:_},key:p,s2sInstanceKey:f,scheduleConfig:{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},subject:m,uniqKey:p,users:d}));var h=g.error,y=g.value;if(h==null&&y!=null&&y.type===_)return o("sendToSentQPLLogger").markSendToSentSuccess(f),{isCreated:!0,jid:y.chatJid};if(!u){var C=s._(/*BTDS*/"Couldn't create group").toString();r("promiseDone")(n.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:C,errorTitleText:C})},"readwrite",void 0,void 0,i.id+":124"))}throw o("sendToSentQPLLogger").markSendToSentFail(f,"failed_to_send_group_invite"),r("FBLogger")("maw_threads").mustfixThrow("Unable to create group")}async function c(e){var t=e.deduplicationKey;if(t==null)return u(e);var n=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByDeduplicationKey",{deduplicationKey:t});return n!=null?{isCreated:!1,jid:n.jid}:u(e)}l.default=c}),226);
__d("MAWIsIDBOperational",["FBLogger","WebAsyncStorage","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;async function d(e){if(e===void 0&&(e=!1),e&&!r("WebAsyncStorage").isOpenPromiseSettled())return!1;var t=await r("WebAsyncStorage").isOperational();return t.success?!0:(r("FBLogger")("messenger_web").catching(t.error).warn("Marking MAW IDB as unavailable: %s",t.error.message),!1)}var m=!1;function p(){var e=o("react-compiler-runtime").c(2),t=c(m),n=t[0],a=t[1],i,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=function(){r("promiseDone")(d().then(function(e){a(e),m=e}))},l=[a],e[0]=i,e[1]=l):(i=e[0],l=e[1]),u(i,l),n}l.isIDBOperational=d,l.useIsIDBOperational=p}),98);
__d("MAWMiActMaybeCreateActThread",["CurrentMessengerUser","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWBulkCreateOrUpdateThreadInActWithMiData","MAWCreateGroupThread","MAWCreateOneToOneThread","MAWJids","MAWLoadThreadFromMI","MAWThreadLoadingState","MAWThreadMappingQPL","MWFBLogger","ReQL","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWLogger().tags(["Occam","CreateThread","MiActMapping"]),d=new Map,m=new Set;function p(e,t,n,a,i,l){o("MAWThreadMappingQPL").addPoint("upgrade_optimistic_to_act_thread",l);var d=a.actorId,m=a.participantIds,p=m.filter(function(e){return e!==(s||(s=o("I64"))).to_string(d)});if(o("LSMessagingThreadTypeUtil").isOneToOne(n)){var _=p.length===1?p:m;return o("MAWThreadMappingQPL").measurePerformance("maw_create_1-1_thread",l,function(){return o("MAWCreateOneToOneThread").call(e,(s||(s=o("I64"))).of_string(_[0]),s.to_string(t),i,void 0,l)})}else if(o("LSMessagingThreadTypeUtil").isGroup(n)&&p.length>1)return o("MAWThreadMappingQPL").measurePerformance("maw_create_group_thread",l,function(){return r("MAWCreateGroupThread")({db:e,offlineThreadingId:t,participantIds:m})}).then(async function(n){var r=n.isCreated,a=n.jid;return await o("MAWThreadMappingQPL").end({instanceKey:l,intJid:o("MAWJids").convertChatJidToIntJid(a),tables:e.tables,threadKey:t}),{isCreated:r,jid:a}});throw o("MAWThreadMappingQPL").addPoint("upgrade_optimistic_to_act_thread_fail",l),o("MAWThreadMappingQPL").endFailure("upgrade_optimistic_to_act_thread_fail",l),c.mustfixThrow("Did not know which type of optimistic thread to create for threadKey: %s, participantsCount: %s, threadType: %s",(s||(s=o("I64"))).to_string(t),m.length,(u||(u=o("LSIntEnum"))).toNumber(n))}async function _(e,t,n,r,a,i,l,u,d){o("MAWThreadMappingQPL").addPoint("act_thread_creation_start",u);var m={description:l,fbid:n,instanceKey:u,isGroupThread:o("LSMessagingThreadTypeUtil").isGroup(r),jid:o("MAWJids").convertChatJidToIntJid(t),lastActivityTimestampMs:a,lastReadWatermarkTimestampMs:i},p=o("MAWBulkCreateOrUpdateThreadInActWithMiData").bulkCreateOrUpdateThreadInActWithMiData(e,[m],"create_thread",d),_=await p,f=_[0];if(f.status==="rejected")throw o("MAWThreadMappingQPL").addAnnotations({string:{retryActThreadCreationError:f.reason}},u),o("MAWThreadMappingQPL").endFailure("act_thread_creation_fail",u),c.mustfixThrow("Failed to create ACT thread for threadKey: %s, error: %s",(s||(s=o("I64"))).to_string(n),f.reason);return o("MAWThreadMappingQPL").addPoint("act_thread_creation_end",u),{isCreated:f.value.isCreated,jid:f.value.chatJid}}function f(e,t,n){if(!o("LSMessagingThreadTypeUtil").isOneToOne(e))return o("MAWThreadMappingQPL").addPoint("convert_missing_mapping_not_supported_groups",n),null;o("MAWThreadMappingQPL").addPoint("convert_missing_mapping_start",n);var r=t.actorId,a=t.participantIds,i=a.filter(function(e){return e!==(s||(s=o("I64"))).to_string(r)});if(i.length!==1)return o("MAWThreadMappingQPL").addPoint("convert_missing_mapping_fail",n),null;var l=i[0];return o("MAWThreadMappingQPL").addPoint("convert_missing_mapping_end",n),o("MAWJids").toUserJid(l)}async function g(e,t,n){var a,l,c,d,m=await Promise.all([(d=o("ReQL")).firstAsync(d.fromTableAscending(e.tables.threads).getKeyRange(t)),d.firstAsync(d.fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(t))]),p=m[0],_=m[1],f=(a=_==null?void 0:_.serverThreadKey)!=null?a:t,g=p==null?15:(u||(u=o("LSIntEnum"))).unwrapIntEnum(p.threadType),h=(l=p==null?void 0:p.lastActivityTimestampMs)!=null?l:(s||(s=o("I64"))).zero,y=(c=p==null?void 0:p.lastReadWatermarkTimestampMs)!=null?c:(s||(s=o("I64"))).zero,C=o("MAWThreadMappingQPL").getInstanceKeyForThreadKey(f),b=o("MAWThreadLoadingState").getThreadLoadingStateForDbRows(p,_),v=b.miState===o("MAWThreadLoadingState").MiState.PARTIAL||b.miState===o("MAWThreadLoadingState").MiState.MISSING?e.runInTransaction(function(e){return r("MAWLoadThreadFromMI")(e,f,g,C,n)},"readwrite",void 0,void 0,i.id+":259").then(function(){return o("MAWThreadLoadingState").genThreadLoadingState(e.tables,t)}):Promise.resolve(b),S=await v,R=_==null?null:o("MAWJids").convertIntJidToChatJid(_.jid,p==null?!1:o("LSMessagingThreadTypeUtil").isGroup(p.threadType));return{instanceKey:C,jid:R,lastActivityTimestampMs:h,lastReadWatermarkTimestampMs:y,mappingState:S,threadKey:f,threadType:g}}async function h(e,t){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(t).map(function(e){return(s||(s=o("I64"))).to_string(e.contactId)})),r=[o("CurrentMessengerUser").getID(),o("CurrentMessengerUser").getPageMessagingMailboxId()],a=r[0],i=r[1];return{actorId:(s||(s=o("I64"))).of_string(i!=="0"?i:a),participantIds:n}}async function y(t,n,r,a,i,l,u,g,y){if(y===o("MAWThreadLoadingState").MiState.READY){var C=await h(t,n),b=f(r,C,u);if(b!=null)return m.has(b)&&c.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Duplicated thread creation for ",""])),b),m.add(b),_(t,b,n,r,a!=null?a:(s||(s=o("I64"))).zero,i!=null?i:(s||(s=o("I64"))).zero,l,u);o("MAWThreadMappingQPL").endFailure("auth_thread_missing_mapping",u)}if(y===o("MAWThreadLoadingState").MiState.OPTIMISTIC){var v=(s||(s=o("I64"))).to_string(n),S=d.get(v);if(S!=null)return o("MAWThreadMappingQPL").endCancel("thread_creation_in_progress",u),S;o("sendToSentQPLLogger").markSendToSentPoint(g,"create_act_thread_start");var R=await h(t,n),L=p(t,n,r,R,l,u).then(function(e){return o("sendToSentQPLLogger").markSendToSentPoint(g,"create_act_thread_end"),e});return d.set(v,L),L}throw o("MAWThreadMappingQPL").endFailure("unhandled_thread_state_when_mapping_missing",u),c.mustfixThrow("Missing mapping from threadKey to jid")}async function C(e,t,n,a){var l=await g(e,t,n),d=l.instanceKey,m=l.jid,p=l.lastActivityTimestampMs,f=l.lastReadWatermarkTimestampMs,h=l.mappingState,C=l.threadKey,b=l.threadType,v=h.actState,S=h.miState;if(a!=null&&o("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{actState:v.toString(),miState:S.toString()}}),o("MAWThreadMappingQPL").start({instanceKey:d,jid:m!=null?m:void 0,s2sInstanceKey:a,threadKey:C,trigger:"maybeCreateActThread_in_"+n}),m==null)return y(e,C,(u||(u=o("LSIntEnum"))).ofNumber(b),p!=null?p:(s||(s=o("I64"))).zero,f!=null?f:(s||(s=o("I64"))).zero,n,d,a,S);switch(S){case o("MAWThreadLoadingState").MiState.OPTIMISTIC:return o("MAWThreadMappingQPL").endCancel("thread_should_remain_optimistic",d),{isCreated:!1,jid:m};case o("MAWThreadLoadingState").MiState.MISSING:throw c.mustfixThrow("Unreachable actState: "+v);case o("MAWThreadLoadingState").MiState.PARTIAL:return await e.runInTransaction(function(e){return o("MAWThreadMappingQPL").measurePerformance("retry_load_from_mi",d,function(){return r("MAWLoadThreadFromMI")(e,t,b,d,n)})},"readwrite",void 0,void 0,i.id+":462"),await o("MAWThreadMappingQPL").end({instanceKey:d,intJid:o("MAWJids").convertChatJidToIntJid(m),tables:e.tables,threadKey:C}),{isCreated:!1,jid:m};case o("MAWThreadLoadingState").MiState.READY:switch(v){case o("MAWThreadLoadingState").ActState.READY:return o("MAWThreadMappingQPL").endForThreadState(d,{actState:v,miState:S}),{isCreated:!1,jid:m};case o("MAWThreadLoadingState").ActState.IN_PROGRESS:return _(e,m,C,(u||(u=o("LSIntEnum"))).ofNumber(b),p,f,n,d);case o("MAWThreadLoadingState").ActState.MISSING:throw c.mustfixThrow("Unreachable actState: "+v);default:throw c.mustfixThrow("Unreachable actState: "+v)}default:throw c.mustfixThrow("Unreachable actState: "+S)}}l.default=C}),98);
__d("MAWStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=function(){return s._(/*BTDS*/"\u10d2\u10d0\u10db\u10dd\u10e2\u10dd\u10d5\u10d4\u10d1\u10e3\u10da\u10d8 \u10d6\u10d0\u10e0\u10d8")},u=function(){return s._(/*BTDS*/"\u10d2\u10d0\u10d2\u10d6\u10d0\u10d5\u10dc\u10d0...")};l.MAW_MISSED_CALL_STRING=e,l.MAW_OPTIMISTIC_SNIPPET=u}),226);
__d("MAWUnvaultTransform",["MAWVault","baseTextTransformAllStrings"],(function(t,n,r,o,a,i,l){"use strict";function e(){return function(e){return r("baseTextTransformAllStrings")(e,function(e,t){return s(e,t)})}}function s(e,t){return e.length===0?[e]:o("MAWVault").isVaulted(e)?[o("MAWVault").unvault(e)]:[e]}l.default=e}),98);
__d("MDSGlimmer.react",["cr:10389","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),r;return t[0]!==e?(r=s.jsx(n("cr:10389"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}l.default=u}),98);
__d("MDSGlimmerImpl.react",["BaseGlimmer.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle"],s,u=s||(s=o("react")),c={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(9),a,i;n[0]!==t?(i=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=r("useCurrentDisplayMode")(),s=l==="dark"?c.dark:c.light,d;n[3]!==s||n[4]!==i?(d=[s,i],n[3]=s,n[4]=i,n[5]=d):d=n[5];var m;return n[6]!==a||n[7]!==d?(m=u.jsx(r("BaseGlimmer.react"),babelHelpers.extends({xstyle:d},a)),n[6]=a,n[7]=d,n[8]=m):m=n[8],m}l.default=d}),98);
__d("MWChatTextTransform",["CometEmojiTransform","CometEmoticonTransform","cr:3078"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CometEmoticonTransform")(),s=r("CometEmojiTransform")(),u=[e,s],c=u.slice();n("cr:3078")!=null&&c.push(n("cr:3078")());function d(e){return[r("CometEmoticonTransform")(e),r("CometEmojiTransform")(e)]}l.emoticonTransform=e,l.emojiTransform=s,l.textTransformsNoVault=u,l.textTransforms=c,l.textTransformsWithOptions=d}),98);
__d("MWFDSDots3Horizontal.svg.react",["cr:21631"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21631")}),98);
__d("MWGetChatTabOpenQPLEventTrace",["I64","InteractionTracing","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=r("qpl")._(30609204,"1682"),i=r("qpl")._(30605380,"18"),l=r("InteractionTracing").getPendingInteractions();for(var s of l){var u,c;if(((u=s.getTrace())==null?void 0:u.qplEvent)===a||((c=s.getTrace())==null?void 0:c.qplEvent)===i){var d;((d=s.getTrace())==null||(d=d.annotations.string)==null?void 0:d.thread_id)===(e||(e=o("I64"))).to_string(t)&&n(s)}}}l.default=s}),98);
__d("MWPGetThreadTitle",["fbt","CurrentEnvironment","FBLogger","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","intlList"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(r("CurrentEnvironment").workplacedotcom?s._(/*BTDS*/"Workplace-\u10d8\u10e1 \u10db\u10dd\u10db\u10ee\u10db\u10d0\u10e0\u10d4\u10d1\u10d4\u10da\u10d8"):r("CurrentEnvironment").instagramdotcom?s._(/*BTDS*/"Instagram-\u10d8\u10e1 \u10db\u10dd\u10db\u10ee\u10db\u10d0\u10e0\u10d4\u10d1\u10d4\u10da\u10d8"):r("CurrentEnvironment").horizondotmetadotcom?s._(/*BTDS*/"Horizon user"):s._(/*BTDS*/"Facebook-\u10d8\u10e1 \u10db\u10dd\u10db\u10ee\u10db\u10d0\u10e0\u10d4\u10d1\u10d4\u10da\u10d8")).toString();function d(t,n,a,i){if(t===void 0&&(t=r("intlList").CONJUNCTIONS.AND),a.length>8&&r("FBLogger")("messenger_web_ia").mustfix("You are overfetching participants needed to compute a thread title. Please use ->take(MWPGetThreadTitle.amountToFetchForTitle) to limit participants fetched. Length: "+a.length),a.length!==0){if(a.length===1){var l,d=a[0],m=d[0],p=d[1];return m.nickname!=null?m.nickname:(l=p==null?void 0:p.name)!=null?l:c}if(o("LSMessagingThreadTypeUtil").isOneToOne(n)){var _,f=a.filter(function(t){return!(e||(e=o("I64"))).equal(t[0].contactId,i)});if(f.length===0){r("FBLogger")("messenger_comet").mustfix("No participants in thread");return}var g=f.sort(function(t,n){return(e||(e=o("I64"))).compare(n[0].authorityLevel,t[0].authorityLevel)})[0],h=g[0].nickname;if(h!=null)return h;var y=g[1];return(_=y==null?void 0:y.name)!=null?_:c}var C=a.filter(function(t){return!(e||(e=o("I64"))).equal(t[0].contactId,i)}).slice(0,7).sort(function(e,t){var n=t[1],r=e[1];return r!=null&&n!=null?n.rank-r.rank:0}).map(function(t){var n,i,l=t[1];l!=null&&(e||(e=o("I64"))).equal(l.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))&&!((n=o("LSContactBitOffset").has(77,l))!=null&&n)&&!((i=o("LSContactBitOffset").has(65,l))!=null&&i)&&r("FBLogger")("messenger_web").debug("page participant in group");var s=t[0].nickname;if(s!=null)return s;if(l==null)return c;var d=l.firstName;return d!=null&&a.length>2?d:l.name});return a.length>7&&C.push(String(s._(/*BTDS*/"\u10e1\u10ee\u10d5\u10d4\u10d1\u10db\u10d0"))),r("intlList")(C,t,r("intlList").DELIMITERS.COMMA).toString()}}var m=8;l.computeThreadTitle=d,l.amountToFetchForTitle=m}),226);
__d("MessengerThreadTakedownState",[],(function(t,n,r,o,a,i){var e=Object.freeze({TAKEN_DOWN:1,RESTORED:2,GEO_BLOCKED:3});i.default=e}),66);
__d("mwIsThreadDisabled",["I64","LSIntEnum","MessengerThreadTakedownState"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return n!=null&&(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(1))?!0:t!=null&&((e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessengerThreadTakedownState").TAKEN_DOWN))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessengerThreadTakedownState").GEO_BLOCKED)))}l.default=u}),98);
__d("useMWPThreadHasSpectraUser",["I64","LSContactTypeExact","LSIntEnum","ReQL","ReQLSuspense","gkx","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){var t=o("react-compiler-runtime").c(7),n=(u||(u=r("useReStore")))(),a;t[0]!==n.tables.contacts||t[1]!==n.tables.participants||t[2]!==e?(a=function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(n.tables.participants).getKeyRange(e),o("ReQL").fromTableAscending(n.tables.contacts)).filter(d)},t[0]=n.tables.contacts,t[1]=n.tables.participants,t[2]=e,t[3]=a):a=t[3];var l;t[4]!==n||t[5]!==e?(l=[n,e],t[4]=n,t[5]=e,t[6]=l):l=t[6];var s=o("ReQLSuspense").useFirst(a,l,i.id+":32");return s!=null&&r("gkx")("18988")}function d(t){var n=t[1];return(e||(e=o("I64"))).equal(n.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").MESSENGER_SPECTRA))}l.default=c}),98);
__d("MWPIsThreadUnread",["I64","ReQL","ReQLSuspense","mwCMIsCMSubthread","mwIsThreadDisabled","useMWPThreadHasSpectraUser","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return r("mwIsThreadDisabled")(e.takedownState)||r("mwCMIsCMSubthread")(e.threadType)&&(s||(s=o("I64"))).equal(e.lastReadWatermarkTimestampMs,(s||(s=o("I64"))).zero)?!1:(s||(s=o("I64"))).compare(e.lastActivityTimestampMs,e.lastReadWatermarkTimestampMs)>0}function c(t){var n,a=(e||(e=r("useReStore")))(),l=r("useMWPThreadHasSpectraUser")(t),s=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.threads,["takedownState","threadType","lastReadWatermarkTimestampMs","lastActivityTimestampMs","threadKey"]).getKeyRange(t).map(u)},[a.tables.threads,t],i.id+":60"))!=null?n:!1;return s&&!l}l.isThreadUnread=u,l.useIsThreadUnread=c}),98);
__d("isArmadilloUI",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("564")===!0}l.default=e}),98);
__d("MWThreadListSupportedThreadTypes",["LSIntEnum","MWPActor.react","MetaConfig","isArmadilloUI"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e||(e=o("LSIntEnum"))).ofNumber(152)],u=o("MWPActor.react").isAPPlus()?s:[(e||(e=o("LSIntEnum"))).ofNumber(1),(e||(e=o("LSIntEnum"))).ofNumber(201),(e||(e=o("LSIntEnum"))).ofNumber(2),(e||(e=o("LSIntEnum"))).ofNumber(5),(e||(e=o("LSIntEnum"))).ofNumber(6),(e||(e=o("LSIntEnum"))).ofNumber(3),(e||(e=o("LSIntEnum"))).ofNumber(23),(e||(e=o("LSIntEnum"))).ofNumber(18),(e||(e=o("LSIntEnum"))).ofNumber(19)].concat(r("isArmadilloUI")()?[(e||(e=o("LSIntEnum"))).ofNumber(15),(e||(e=o("LSIntEnum"))).ofNumber(16)]:[],r("MetaConfig")._("42")?[(e||(e=o("LSIntEnum"))).ofNumber(150)]:[],r("MetaConfig")._("36")?[(e||(e=o("LSIntEnum"))).ofNumber(154)]:[],r("MetaConfig")._("32")?[(e||(e=o("LSIntEnum"))).ofNumber(152)]:[]),c=u;l.default=c}),98);
__d("verifyChatTabContactExists",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyContactRowExistsStoredProcedure","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var a=t.db,l=t.threadKey,u=t.threadType;return o("LSMessagingThreadTypeUtil").isOpenOneToOne(u)?a.runInTransaction(function(e){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(e),{authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:s.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:s.ofNumber(r("LSContactIdType").FBID),contactType:s.ofNumber(r("LSContactType").USER),contactViewerRelationship:s.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:s.ofNumber(r("LSContactGender").UNKNOWN),id:l,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:s.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,i.id+":38"):(e||(e=n("Promise"))).resolve()}l.default=u}),98);
__d("verifyChatTabThreadExists",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMessagingThreadTypeUtil","LSVec","LSVerifyThreadRowExistsStoredProcedure","LSVerifyThreadViewStoredProcedureDeferred","ReQL","cr:17336","useIsChatPreviewsEnabled","verifyChatTabContactExists"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){var a=t.callsite,l=t.db,u=t.threadKey,c=t.threadType;await r("verifyChatTabContactExists")({db:l,threadKey:u,threadType:c});var d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(u)),m=d==null?null:await o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.community_folders).getKeyRange(d.parentThreadKey));if(n("cr:17336")!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c)&&((d==null?void 0:d.clientThreadKey)==null||!(e||(e=o("I64"))).equal(u,d.clientThreadKey)))return n("cr:17336")(l,u,"verifyChatTabThreadExists_"+a).then(function(){});var p=d==null?!1:o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(d,m==null?void 0:m.communityType);return p?l.runInTransaction(function(e){return r("LSVerifyThreadViewStoredProcedureDeferred")(r("LSFactory")(e),{contacts:r("LSVec").ofArray([]),mailboxType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxType").MESSENGER),threadKey:u,threadType:c})},"readwrite",void 0,void 0,i.id+":74").then(function(){}):l.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(s||(s=o("LSIntEnum"))).ofNumber(1),threadKey:u,threadType:c})},"readwrite",void 0,void 0,i.id+":87")}l.default=u}),98);
__d("MWV2EnsureThatChatTabExists",["I64","Int64Hooks","LSMessagingThreadTypeUtil","Promise","promiseDone","react-compiler-runtime","useReStore","verifyChatTabThreadExists"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,o,a,i){return m(t,o,a)?(u||(u=n("Promise"))).resolve():r("verifyChatTabThreadExists")({callsite:i,db:e,threadKey:t,threadType:o})}function d(e,t,n,a){var i=o("react-compiler-runtime").c(7),l=(s||(s=r("useReStore")))(),u,d;i[0]!==a||i[1]!==n||i[2]!==l||i[3]!==e||i[4]!==t?(u=function(){r("promiseDone")(c(l,e,t,n,a))},d=[a,n,l,e,t],i[0]=a,i[1]=n,i[2]=l,i[3]=e,i[4]=t,i[5]=u,i[6]=d):(u=i[5],d=i[6]),o("Int64Hooks").useEffectInt64(u,d)}function m(t,n,r){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(n)&&r!=null&&(e||(e=o("I64"))).equal(t,r)}l.ensureThatChatTabExists=c,l.useMWV2EnsureThatChatTabExists=d,l.isOptimisticSecureThread=m}),98);
__d("MWXIconArrowLeft",["MWXSvgIcon","SVGIcon","cr:22195","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22195")),r("gkx")("23219"));l.default=e}),98);
__d("isMWXacGroupThread",["LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("LSThreadBitOffset").has(97,e)}l.default=e}),98);
__d("mwCMIsThreadBumped",["I64","mwCMIsAnyCMThread"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.secondaryParentThreadKey,a=t.threadType;return r("mwCMIsAnyCMThread")(a)&&n!=null&&(e||(e=o("I64"))).equal(n,(e||(e=o("I64"))).of_int32(0))}l.default=s}),98);
__d("useLSGetThreadTitle.react",["MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","intlList","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(17),l=o("MWPActor.react").useActor(),s=(e||(e=r("useReStore")))(),u;a[0]!==s||a[1]!==n||a[2]!==t.threadKey?(u=function(){return n===!0?o("ReQL").empty():o("ReQL").leftJoin(o("ReQL").fromTableAscending(s.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(s.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2","secondaryName","id","contactTypeExact","blockedByViewerStatus"])).take(8)},a[0]=s,a[1]=n,a[2]=t.threadKey,a[3]=u):u=a[3];var c;a[4]!==t.threadKey?(c=[t.threadKey],a[4]=t.threadKey,a[5]=c):c=a[5];var d=o("ReQLSuspense").useArray(u,c,i.id+":65");if(n===!0){var m;return a[6]!==l||a[7]!==d?(m={actorId:l,participantsAndContacts:d,threadTitle:null},a[6]=l,a[7]=d,a[8]=m):m=a[8],m}var p;a[9]!==l||a[10]!==d||a[11]!==t.threadType?(p=o("MWPGetThreadTitle").computeThreadTitle(r("intlList").CONJUNCTIONS.NONE,t.threadType,d,l),a[9]=l,a[10]=d,a[11]=t.threadType,a[12]=p):p=a[12];var _=p,f;return a[13]!==l||a[14]!==d||a[15]!==_?(f={actorId:l,participantsAndContacts:d,threadTitle:_},a[13]=l,a[14]=d,a[15]=_,a[16]=f):f=a[16],f}l.default=s}),98);/*FB_PKG_DELIM*/
__d("LSMarkThreadRead",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(9).fetch([[[e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.gt(e[0],n.lastReadWatermarkTimestampMs)}),function(t){var n=t.update,r=t.item;return n({lastReadWatermarkTimestampMs:e[0]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxMarkThreadReadStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMessagePointQuery"),a.threadKey,a.messageId,a.threadType,a.numContextMessages);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.storedProcedure(n("LSMarkThreadRead"),e[1],e[0])},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[3]=n.syncGroup,t.i64.neq(r[3],void 0)?r[2]=r[3]:r[2]=t.i64.cast([0,1]),r[0]=r[2])})},function(o){return r[2]=new t.Map,r[2].set("thread_id",e[0]),r[2].set("last_read_watermark_ts",e[1]),r[2].set("sync_group",r[0]),r[3]=r[2].get("thread_id"),r[4]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[3]),t.i64.cast([0,21]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticMarkThreadReadV2StoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("MAWClientMediaStatusUtils",["I64","LSIntEnum","MAWMediaDownloadStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){switch(t){case r("MAWMediaDownloadStatus").DOWNLOADING:return(e||(e=o("LSIntEnum"))).ofNumber(0);case r("MAWMediaDownloadStatus").SUCCESS:return(e||(e=o("LSIntEnum"))).ofNumber(1);case r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(2);case r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(3);case r("MAWMediaDownloadStatus").MISSING_FILE:return(e||(e=o("LSIntEnum"))).ofNumber(4);case r("MAWMediaDownloadStatus").RETRYING:return(e||(e=o("LSIntEnum"))).ofNumber(5);case r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE:return(e||(e=o("LSIntEnum"))).ofNumber(6)}}function c(e){switch(e){case 0:return r("MAWMediaDownloadStatus").DOWNLOADING;case 1:return r("MAWMediaDownloadStatus").SUCCESS;case 2:return r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE;case 3:return r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE;case 4:return r("MAWMediaDownloadStatus").MISSING_FILE;case 5:return r("MAWMediaDownloadStatus").RETRYING;case 6:return r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE}}function d(e){if(e==null)return"UNKNOWN";switch(e){case r("MAWMediaDownloadStatus").DOWNLOADING:return"DOWNLOADING";case r("MAWMediaDownloadStatus").SUCCESS:return"SUCCESS";case r("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return"NOT_MANUAL_RETRYABLE_FAILURE";case r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return"MANUAL_RETRYABLE_FAILURE";case r("MAWMediaDownloadStatus").MISSING_FILE:return"MISSING_FILE";case r("MAWMediaDownloadStatus").RETRYING:return"RETRYING";case r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE:return"AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE"}}function m(t){return{mainMediaStatus:c((e||(e=o("LSIntEnum"))).unwrapIntEnum(t.mainMediaStatus)),mainMediaStatusDetails:t.mainMediaStatusDetails,previewMediaStatus:t.previewMediaStatus?c((e||(e=o("LSIntEnum"))).unwrapIntEnum(t.previewMediaStatus)):null,previewMediaStatusDetails:t.previewMediaStatusDetails,validationResult:p(t)}}function p(e){var t,n,r;if(!(e.audioAvgBitsPerSecond==null&&e.audioNumberOfChannels==null&&e.audioSamplingRate==null&&e.audioStreamType==null&&e.validateMimeType==null&&e.videoAvgBitsPerSecond==null&&e.videoCalculatedFps==null&&e.videoDuration==null&&e.videoHeight==null&&e.videoNominalFps==null&&e.videoStreamType==null&&e.videoWidth==null))return{audioAvgBitsPerSecond:e.audioAvgBitsPerSecond!=null?(s||(s=o("I64"))).to_int32(e.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:e.audioNumberOfChannels!=null?(s||(s=o("I64"))).to_int32(e.audioNumberOfChannels):void 0,audioSamplingRate:e.audioSamplingRate!=null?(s||(s=o("I64"))).to_int32(e.audioSamplingRate):void 0,audioStreamType:(t=e.audioStreamType)!=null?t:void 0,validatedMimeType:(n=e.validateMimeType)!=null?n:void 0,videoAvgBitsPerSecond:e.videoAvgBitsPerSecond!=null?(s||(s=o("I64"))).to_int32(e.videoAvgBitsPerSecond):void 0,videoCalculatedFps:e.videoCalculatedFps!=null?(s||(s=o("I64"))).to_int32(e.videoCalculatedFps):void 0,videoDuration:e.videoDuration!=null?(s||(s=o("I64"))).to_int32(e.videoDuration):void 0,videoHeight:e.videoHeight!=null?(s||(s=o("I64"))).to_int32(e.videoHeight):void 0,videoNominalFps:e.videoNominalFps!=null?(s||(s=o("I64"))).to_int32(e.videoNominalFps):void 0,videoStreamType:(r=e.videoStreamType)!=null?r:void 0,videoWidth:e.videoWidth!=null?(s||(s=o("I64"))).to_int32(e.videoWidth):void 0}}function _(e){var t,n,r;return{audioAvgBitsPerSecond:(e==null?void 0:e.audioAvgBitsPerSecond)!=null?(s||(s=o("I64"))).of_int32(e.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:(e==null?void 0:e.audioNumberOfChannels)!=null?(s||(s=o("I64"))).of_int32(e.audioNumberOfChannels):void 0,audioSamplingRate:(e==null?void 0:e.audioSamplingRate)!=null?(s||(s=o("I64"))).of_int32(e.audioSamplingRate):void 0,audioStreamType:(t=e==null?void 0:e.audioStreamType)!=null?t:void 0,validateMimeType:(n=e==null?void 0:e.validatedMimeType)!=null?n:void 0,videoAvgBitsPerSecond:(e==null?void 0:e.videoAvgBitsPerSecond)!=null?(s||(s=o("I64"))).of_int32(e.videoAvgBitsPerSecond):void 0,videoCalculatedFps:(e==null?void 0:e.videoCalculatedFps)!=null?(s||(s=o("I64"))).of_int32(e.videoCalculatedFps):void 0,videoDuration:(e==null?void 0:e.videoDuration)!=null?(s||(s=o("I64"))).of_int32(e.videoDuration):void 0,videoHeight:(e==null?void 0:e.videoHeight)!=null?(s||(s=o("I64"))).of_int32(e.videoHeight):void 0,videoNominalFps:(e==null?void 0:e.videoNominalFps)!=null?(s||(s=o("I64"))).of_int32(e.videoNominalFps):void 0,videoStreamType:(r=e==null?void 0:e.videoStreamType)!=null?r:void 0,videoWidth:(e==null?void 0:e.videoWidth)!=null?(s||(s=o("I64"))).of_int32(e.videoWidth):void 0}}function f(e){var t,n=e.clientMediaStatus,r=e.preloadedMediaStatus,a=e.statusKey,i=r!=null?r:n==null?void 0:n.find(function(e){var t=e.id;return t===a}),l=i?m(i):null,u=l!=null,c=(s||(s=o("I64"))).to_int32((t=i==null?void 0:i.downloadRetryCount)!=null?t:(s||(s=o("I64"))).zero);return{hasStatus:u,retryCount:c,statusData:l}}l.getClientMediaStatusType=u,l.getMAWMediaDownloadStatus=c,l.mediaDownloadStatusEnumToString=d,l.getMAWMediaStatus=m,l.getMAWValidationResults=p,l.getValidationResults=_,l.getStatusDataFromLsdb=f}),98);
__d("MAWBridgeUpdateClientMediaStatusHandler",["I64","LSIntEnum","MAWClientMediaStatusUtils","MAWMediaDownloadStatus","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n){var a,i,l,u=n.details,c=n.key,d=n.status,m=n.type,p=n.validationResult,_=c.toString(),f=await t.client_media_status.get(_),g=m==="main"?(f==null?void 0:f.mainMediaStatus)!=null&&(e||(e=o("I64"))).equal(f==null?void 0:f.mainMediaStatus,(s||(s=o("LSIntEnum"))).ofNumber(1)):(f==null?void 0:f.previewMediaStatus)!=null&&(e||(e=o("I64"))).equal(f==null?void 0:f.previewMediaStatus,(s||(s=o("LSIntEnum"))).ofNumber(1));if(!((d===r("MAWMediaDownloadStatus").DOWNLOADING||r("justknobx")._("4544"))&&g))return t.client_media_status.upsert([_],babelHelpers.extends({downloadRetryCount:(a=f==null?void 0:f.downloadRetryCount)!=null?a:(e||(e=o("I64"))).zero,id:_,mainMediaStatus:m==="main"?o("MAWClientMediaStatusUtils").getClientMediaStatusType(d):(i=f==null?void 0:f.mainMediaStatus)!=null?i:(s||(s=o("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:m==="main"?u:(l=f==null?void 0:f.mainMediaStatusDetails)!=null?l:"updated_main_without_details",previewMediaStatus:m==="preview"?o("MAWClientMediaStatusUtils").getClientMediaStatusType(d):f==null?void 0:f.previewMediaStatus,previewMediaStatusDetails:m==="preview"?u:f==null?void 0:f.previewMediaStatusDetails},o("MAWClientMediaStatusUtils").getValidationResults(p)))}async function c(e,t){await e.runInTransaction(function(e){return u(e,t)},"readwrite",void 0,void 0,i.id+":83")}l.txnHandler=u,l.call=c}),98);
__d("MAWUIMessageComposerDraftsPersistedDataService",["LSDatabaseSingleton","LSMessagingThreadTypeUtil","MAWMiActMappingTableAPI","WAJids","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(){this.namespace="messageComposerDrafts",this.$1=new Set}var n=t.prototype;return n.onCacheChange=function(n,a){r("promiseDone")((e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return Promise.all(n.map(function(t){var n=t[0],a=t[1];if(r("gkx")("16991")){var i=a.value.draftText,l=o("WAJids").unsafeCoerceToChatJid(n);return u(e,l,i)}}))}))},n.setThreadsAsLoading=function(t){var e=this;t.forEach(function(t){return e.$1.add(t)})},n.setThreadsAsComplete=function(t){var e=this;t.forEach(function(t){return e.$1.delete(t)})},n.isThreadLoading=function(t,n){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(n)&&this.$1.has(t)&&r("gkx")("16991")},t})();async function u(e,t,n){var r=await o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e.tables,t);if(r!=null)return e.runInTransaction(async function(e){var t=await e.threads.get(r);t!=null&&await e.threads.upsert([r],babelHelpers.extends({},t,{draftMessage:n}))},"readwrite",void 0,void 0,i.id+":86")}var c=new s;function d(){return c}l.getMAWUIMessageComposerDraftsPersistedDataService=d}),98);
__d("MAWUIPersistedDataServiceRegistry",["MAWUIMessageComposerDraftsPersistedDataService"],(function(t,n,r,o,a,i,l){"use strict";var e={messageComposerDrafts:o("MAWUIMessageComposerDraftsPersistedDataService").getMAWUIMessageComposerDraftsPersistedDataService()};function s(){return e}l.getUIPersistedDataServiceRegistry=s}),98);
__d("MAWUIPersistedDataServices",["BroadcastChannelFallback","FBLogger","MAWBridgeFireAndForget","MAWCacheServiceDB","MAWCacheServiceUtils","MAWUICacheServicesBase","MAWUIPersistedDataServiceRegistry","MAWWorkerPersistedDataService","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new(o("MAWUICacheServicesBase")).MAWUICacheServicesBase(o("MAWUIPersistedDataServiceRegistry").getUIPersistedDataServiceRegistry()),this.$2=o("MAWWorkerPersistedDataService").getMAWPersistedDataServiceBroadcastChannel(),this.$3()}var t=e.prototype;return t.$3=function(){var e=this,t=function(n){var t,o,a,i,l,s;if(typeof n=="object"&&n!=null&&typeof n.data=="object"&&n.data!==null&&typeof((t=n.data)==null?void 0:t.namespace)=="string"&&((o=n.data)==null?void 0:o.namespace)!==null&&typeof((a=n.data)==null?void 0:a.source)=="string"&&((i=n.data)==null?void 0:i.source)!==null&&typeof((l=n.data)==null?void 0:l.cache)=="object"&&((s=n.data)==null?void 0:s.cache)!==null&&Array.isArray(n.data.cache)){var u,c=n.data.namespace,d=n.data.cache,m=n.data.source,p;if(((u=n.data)==null?void 0:u.instanceKey)!=null){var _;typeof((_=n.data)==null?void 0:_.instanceKey)=="number"?p=n.data.instanceKey:r("FBLogger")("MAWUIPersistedDataServices").info("Invalid instance key received via broadcast channel.")}m==="ui-manual-write"&&e.$1.updateInMemoryCacheAndTriggerCallback(c,d,m,p)}else throw r("FBLogger")("messenger_web").mustfixThrow("Invalid payload received via broadcast channel.")};this.$2==null?o("BroadcastChannelFallback").registerBroadcastChannelFallbackListener(o("MAWWorkerPersistedDataService").MAW_PERSISTED_DATA_SERVICE_BROADCAST_CHANNEL,t):this.$2.onmessage=t},t.sendUpdateFor=async function(t,n){var e="ui-manual-write",a=n.map(function(e){return e.key}),i=n.map(function(e){return[e.key,e]}),l=o("MAWCacheServiceUtils").findDuplicates(i,function(e){var t=e[0],n=e[1];return t});if(l.length>0&&r("FBLogger")("MAWPersistedDataService").mustfix("Found duplicate keys in cache: %s. Original keys: %s, Namespace: %s",l.map(function(e){var t=e[0],n=e[1];return t}).join(", "),a.join(", "),t),i.length!==0){try{var s=o("MAWCacheServiceDB").convertCacheValueToDBRawValue(i).map(function(e){return babelHelpers.extends({},e,{key:o("MAWUICacheServicesBase").adjustCacheKey(e.key)})}),u=await o("MAWCacheServiceDB").getOrSetupMAWCacheDB();await u.runInTransaction([t],"readwrite",function(e){var n=s.map(function(e){return{item:e,selector:[e.key]}});return e.stores[t].bulkUpsert("key",n)},"update_cache_"+t)}catch(e){r("FBLogger")("MAWUIPersistedDataServices").catching(r("getErrorSafe")(e)).mustfix("Failed to update persisted cache")}this.$1.updateInMemoryCacheAndTriggerCallback(t,i,e),o("MAWBridgeFireAndForget").fireAndForget("backend","sendUpdateFromUIPersistedDataService",{cache:i,namespace:t,source:e})}},t.resetInMemoryCache=function(t,n){this.$1.resetInMemoryCache(t,n)},t.checkExistingCacheAndNotifyListenersFor=async function(t,n){var e=Array.from(new Set(n)),o=this.$1.checkInMemoryCacheAndTriggerCallback(t,e);if(o.length===0){r("FBLogger")("MAWUICacheServices").info("All keys are in memory cache. Namespace: %s",t);return}var a=await this.$1.checkPersistedCacheAndTriggerCallback(t,o).catch(function(e){return r("FBLogger")("MAWUIPersistedDataServices").catching(r("getErrorSafe")(e)).mustfix("Failed to read from persisted cache in UI.",t),o});if(a.length===0){r("FBLogger")("MAWUIPersistedDataServices").info("All keys are in persisted cache. Namespace: %s",t);return}},e})(),s=null,u=function(){return s==null&&(s=new e),s};l.getMAWUIPersistedDataServices=u}),98);
__d("MAWBulkCreateOrUpdateThreadInActWithMiData",["ExecutionEnvironment","I64","LSDatabaseSingleton","MAWActThreadMapping","MAWBridgeFireAndForget","MAWJids","MAWMIC","MAWThreadMappingQPL","MAWTrackPendingOccamadilloThreads","MAWUICacheServices","MAWUIMessageComposerDraftsPersistedDataService","MAWUIPersistedDataServices","MWCookieUtil","MWFBLogger","ODS","WAJids","WMIWABridgeApi","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=o("MWFBLogger").MWLogger().tags(["MiActMapping","Occam"]);async function f(t,n,a,i){var l=h(n),m=l.map(function(e){var t=e.fbid,n=e.forceLoadMessages,r=n===void 0?!1:n,a=e.instanceKey,i=e.isGroupThread,l=e.jid,s=e.lastActivityTimestampMs,u=e.lastReadWatermarkTimestampMs,c=(p||(p=o("I64"))).to_string(l),d=i?o("WAJids").toGroupJid(c):o("MAWJids").toUserJid(c);return{authoritativeThreadKey:p.to_string(t),chatJid:d,forceLoadMessages:r,instanceKey:a,lastActivityTimestampMs:p.to_float(s),lastReadWatermarkTimestampMs:p.to_float(u),numOfMsgsToLoad:g({fbid:t})}}),f=l.map(function(e){var t=e.instanceKey,n=e.jid;return t!=null?{instanceKey:t,intJid:n}:null}).filter(Boolean);if((c||(c=r("ExecutionEnvironment"))).isInWorker){var C=m.map(function(e){return{status:"fulfilled",value:{adminMsgParams:null,chatJid:e.chatJid,folder:null,isCreated:!1,participants:[],shouldQueryForGroup:!1}}});return Promise.resolve(C)}else if((c||(c=r("ExecutionEnvironment"))).isInBrowser){var v=m.map(function(e){return e.chatJid}),S=o("MAWUICacheServices").getMAWUICacheServices();if(r("gkx")("16151")&&S.resetInMemoryCache("snippets",v),r("promiseDone")(S.checkExistingCacheOrGetFromScratchAndNotifyListenersFor("snippets",v)),r("gkx")("16991")){var R=o("MAWUIPersistedDataServices").getMAWUIPersistedDataServices();o("MAWUIMessageComposerDraftsPersistedDataService").getMAWUIMessageComposerDraftsPersistedDataService().setThreadsAsLoading(m.map(function(e){var t=e.authoritativeThreadKey;return(p||(p=o("I64"))).of_string(t)})),r("promiseDone")(R.checkExistingCacheAndNotifyListenersFor("messageComposerDrafts",v).finally(function(){return o("MAWUIMessageComposerDraftsPersistedDataService").getMAWUIMessageComposerDraftsPersistedDataService().setThreadsAsComplete(m.map(function(e){return(p||(p=o("I64"))).of_string(e.authoritativeThreadKey)}))}))}}(d||(d=o("ODS"))).bumpEntityKey(3303,"maw_thread_mapping","bulk_create_thread."+a);var L=await y(t,m,f,a,i);a==="init_sync"&&o("MAWMIC").addPoint("thread_mapping_received");var E=null;await Promise.all(L.map(async function(t){if(t.status==="rejected"){_.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Thread creation failed: ",""])),t.reason),E=t.reason;return}var n=t.value.chatJid,a=o("WAJids").interpretAsGroupJid(n);if(a!=null)if(t.value.isCreated||t.value.shouldQueryForGroup){_.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Querying WA server for group: ",""])),a);try{await r("WMIWABridgeApi").queryGroups({groups:[a],type:"array"})}catch(e){var i=e instanceof Error?e.message:"unknown";_.WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["queryGroups failed in bulkCreateThread. ",", groupJid: ",""])),i,a);var l=e instanceof Error&&e.message.includes('"errorCode":403');if(!l)throw e}b(a)}else t.value.isCreated||b(a),o("MAWBridgeFireAndForget").fireAndForget("backend","updateLSThreadFromGroupInfo",{groupJid:a});r("promiseDone")(o("MAWTrackPendingOccamadilloThreads").removePendingThread(n))}));var k=m.map(function(e){return e.forceLoadMessages===!0&&e.numOfMsgsToLoad!=null?{jid:e.chatJid,numOfMsgsToLoad:e.numOfMsgsToLoad}:null}).filter(Boolean);if(k.length>0&&o("MAWBridgeFireAndForget").fireAndForget("backend","bulkLoadMessagesForThread",{threads:k}),E!=null)throw _.mustfixThrow(E);return L}function g(e){var t=e.fbid,n=1,a=10,i=20,l=o("MWCookieUtil").getAutoChatTabFromCookie(),s=l?(p||(p=o("I64"))).equal(l.threadKey,t):!1,u=s?a:n,c=location.pathname.split("/");return r("gkx")("2316")&&c.indexOf((p||(p=o("I64"))).to_string(t))>-1&&(u=i),u}function h(e){var t=new Set,n=Array.from(e.reduce(function(e,n){var r=e.get((p||(p=o("I64"))).to_string(n.fbid));if(r==null)e.set((p||(p=o("I64"))).to_string(n.fbid),n);else{n.instanceKey!=null&&t.add(n.instanceKey);var a=r.lastActivityTimestampMs===n.lastActivityTimestampMs&&r.lastReadWatermarkTimestampMs===n.lastReadWatermarkTimestampMs;_.mustfix("MAWmiActBulkCreateOrUpdateThreadInActWithMiData is called with duplicated threads. Data consistency: %s",a?"true":"false")}return e},new Map).values());return e.forEach(function(t){var r=t.instanceKey;return r!=null&&o("MAWThreadMappingQPL").addAnnotations({int:{mawBulkCreateThreads:e.length,mawBulkCreateUniqueThreads:n.length}},r)}),t.forEach(function(e){o("MAWThreadMappingQPL").endCancel("thread_not_unique_in_maw_bulk_create",e)}),n}async function y(e,t,n,r,a){var i=new Map;n.forEach(function(e){var t=e.instanceKey,n=e.intJid;i.set(n,t),o("MAWThreadMappingQPL").addPoint("create_in_maw_start",t)}),o("MAWMIC").addPoint("thread_mapping_request_sent_to_worker");var l={reason:r,s2sInstanceKey:a,threads:t},s=await C(e,l),u=s.reduce(function(e,t){if(t.status==="fulfilled"){var n=o("WAJids").threadIdForChatJid(t.value.chatJid);e.set(n,t.value.isCreated)}return e},new Map);return n.forEach(function(e){var t=e.instanceKey,n=e.intJid,r=u.get((p||(p=o("I64"))).to_string(n));r==null?o("MAWThreadMappingQPL").endFailure("create_in_maw_failed",t):(o("MAWThreadMappingQPL").addAnnotations({bool:{isMawThreadCreated:r}},t),o("MAWThreadMappingQPL").addPoint("create_in_maw_success",t))}),s}async function C(e,t){var n=e!=null?Promise.resolve(e):(m||(m=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await n.then(function(e){return o("MAWActThreadMapping").bulkVerifyThreadExistsInWorker(e,t)});return r}function b(e){o("MAWBridgeFireAndForget").fireAndForget("backend","checkIfGroupParticipant",{threadJid:e})}l.bulkCreateOrUpdateThreadInActWithMiData=f,l.getNumberOfMessagesToLoad=g,l.deduplicateThreadData=h}),98);
__d("MAWMediaSetClientMediaStatus",["I64","MAWClientMediaStatusUtils","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){r("promiseDone")(t,function(t){return t.runInTransaction(async function(t){var r,i,l,s=await t.client_media_status.get(n);return t.client_media_status.upsert([n],babelHelpers.extends({downloadRetryCount:(r=s==null?void 0:s.downloadRetryCount)!=null?r:(e||(e=o("I64"))).zero,id:n,mainMediaStatus:o("MAWClientMediaStatusUtils").getClientMediaStatusType(a.mainMediaStatus),mainMediaStatusDetails:a.mainMediaStatusDetails,previewMediaStatus:(a==null?void 0:a.previewMediaStatus)!=null?o("MAWClientMediaStatusUtils").getClientMediaStatusType(a.previewMediaStatus):void 0,previewMediaStatusDetails:(i=a.previewMediaStatusDetails)!=null?i:void 0},o("MAWClientMediaStatusUtils").getValidationResults((l=a.validationResult)!=null?l:void 0)))},"readwrite",void 0,void 0,i.id+":28")})}l.call=s}),98);
__d("MAWDownloadMediaInWorker",["I64","LSAuthorityLevel","LSIntEnum","LSXmaContentType","MAWBridgeFireAndForget","MAWDbMedia","MAWDbXMA","MAWMediaDownloadStatus","MAWMediaSetClientMediaStatus","MAWMpsGating","MAWMsgType","WAHashUtils","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){var t=e.attachment,n=e.dbPromise,o=e.downloadType,a=e.mediaRenderQpl,i=e.triggerUIView;g(t)||m({attachment:r("nullthrows")(t),dbPromise:n,downloadType:o,mediaRenderQpl:a,triggerUIView:i})}function c(e){var t=e.attachment,n=e.dbPromise,r=e.downloadType,o=e.mediaRenderQpl,a=e.plaintextHash,i=e.triggerUIView,l=e.xmaMediaType;g(t)||a==null||d({dbPromise:n,downloadType:r,mediaRenderQpl:o,plaintextHash:a,triggerUIView:i,xmaMediaType:l})}function d(e){var t=e.dbPromise,n=e.downloadType,a=e.mediaRenderQpl,i=e.plaintextHash,l=e.triggerUIView,s=e.xmaMediaType;a==null||a.addPoint("download_media_in_worker_start",{bool:{using_plaintext_hash:!0}}),o("MAWMediaSetClientMediaStatus").call(t,i,{mainMediaStatus:r("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"download-media-in-worker-with-plaintext-hash",previewMediaStatus:r("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"download-media-in-worker-with-plaintext-hash"});var u={downloadType:n,msgType:null,plaintextHash:i,triggerUIView:l,type:"plaintextHash",xmaMediaType:s};p(u,a)}function m(e){var t=e.attachment,n=e.dbPromise,a=e.downloadType,i=e.mediaRenderQpl,l=e.triggerUIView;i==null||i.addPoint("download_media_in_worker_start");var s=isNaN(t.attachmentFbid)?o("WAHashUtils").stringToPlaintextHash(t.attachmentFbid):o("MAWDbMedia").convertNumberToMediaId(parseInt(t.attachmentFbid,10));o("MAWMediaSetClientMediaStatus").call(n,s.toString(),{mainMediaStatus:r("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"download-media-in-worker",previewMediaStatus:r("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"download-media-in-worker"});var u=h(t,l,a);p(u,i)}function p(e,t){o("MAWBridgeFireAndForget").fireAndForget("backend","downloadMediaForUI",e)}function _(e){var t=e.attachmentsWithQpl,n=e.dbPromise,r=e.downloadType,o=e.triggerUIView,a=t.filter(function(e){return!g(e.attachment)});f({attachmentsWithQpl:a,dbPromise:n,downloadType:r,triggerUIView:o})}function f(e){var t=e.attachmentsWithQpl,n=e.dbPromise,a=e.downloadType,i=e.triggerUIView,l=t.map(function(e){var t=e.attachment,l=e.mediaRenderQpl;l==null||l.addPoint("download_media_in_worker_start");var s=isNaN(t.attachmentFbid)?o("WAHashUtils").stringToPlaintextHash(t.attachmentFbid):o("MAWDbMedia").convertNumberToMediaId(parseInt(t.attachmentFbid,10));return o("MAWMediaSetClientMediaStatus").call(n,s.toString(),{mainMediaStatus:r("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"bulk-download-media-in-worker",previewMediaStatus:r("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"bulnk-download-media-in-worker"}),h(t,i,a)});o("MAWBridgeFireAndForget").fireAndForget("backend","bulkDownloadMediaForUI",{media:l})}function g(t){return t==null||(e||(e=o("I64"))).equal(t.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))||(t==null?void 0:t.hasXma)===!0&&(t==null?void 0:t.xmaContentType)!=null&&(e||(e=o("I64"))).equal(t.xmaContentType,(s||(s=o("LSIntEnum"))).ofNumber(r("LSXmaContentType").MSG_RECEIVER_FETCH))||(t==null?void 0:t.hasXma)===!0&&(t==null?void 0:t.hasXmaPreview)!==!0||t.receiverFetchId!=null}function h(e,t,n){var r=e.attachmentFbid,a=e.hasXma;return o("MAWMpsGating").isMpsMessageRendering()&&a&&e.xmaPreviewFbid!=null?{downloadType:n,msgType:o("MAWMsgType").MSG_TYPE.IMAGE,plaintextHash:o("WAHashUtils").stringToPlaintextHash(e.xmaPreviewFbid),triggerUIView:t,type:"plaintextHash"}:a?{triggerUIView:t,type:"xmaId",xmaId:o("MAWDbXMA").convertNumberToXMAId(Number.parseInt(e.attachmentFbid,10))}:{downloadType:n,msgType:null,plaintextHash:o("WAHashUtils").stringToPlaintextHash(r),triggerUIView:t,type:"plaintextHash"}}l.maybeDownloadMediaInWorker=u,l.maybeDownloadMediaInWorkerWithPlaintextHash=c,l.downloadMediaInWorker=m,l.maybeBulkDownloadMediaInWorker=_}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),c=r("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");async function d(t,n){if(o("WAJids").switchOnMsgrChatJidType(t,{group:function(){return!1},user:function(){return!0}})){var a=await u.load(),i=await a(),l=n!=null?n:await o("MAWChatJid").toThreadKeyMaybe(i.tables,t);if(l!=null){var d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.threads).getKeyRange(l));if(d!=null&&d.disappearingSettingTtl!=null){var m={ephemeralExpirationInSec:(s||(s=o("I64"))).to_int32(d.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:d.disappearingSettingUpdatedTs!=null?o("WATimeUtils").castMilliSecondsToUnixTime((s||(s=o("I64"))).to_float(d.disappearingSettingUpdatedTs)):o("WATimeUtils").unixTime()};return m}return}return o("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:t}).then(function(n){if(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""])),t,n),n!=null)return r("promiseDone")(c.load().then(function(e){return e.updateEphemeralSettingsByChatJid(n.ephemeralExpirationInSec,n.ephemeralLastUpdatedOrSetTimestamp,!1,t,!0)})),n})}}l.getEphemeralSetting=d}),98);
__d("ThreadStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,PAUSED:1,PAUSED_AND_UPGRADED_TO_COMMUNITY:2,UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED:3});i.default=e}),66);
__d("useCommunityFolder",["MWPreloadableQueries","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;return n[0]!==a||n[1]!==t.parentThreadKey?(l=function(){return o("MWPreloadableQueries").getCommunityFolderQuery(a,t.parentThreadKey)},s=[a,t.parentThreadKey],n[0]=a,n[1]=t.parentThreadKey,n[2]=l,n[3]=s):(l=n[2],s=n[3]),o("ReQLSuspense").useFirst(l,s,i.id+":26")}l.default=s}),98);
__d("useMWGetOtherUserContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t,n,a){var l=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),d=(s||(s=o("I64"))).equal(u,t),m=c(function(){return a},[].concat(a));return o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isOneToOne(n)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId"]).getKeyRange(t),o("ReQL").fromTableAscending(l.tables.contacts,a)).filter(function(e){var t=e[0],n=e[1];return d||!(s||(s=o("I64"))).equal(t.contactId,u)}).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[n,l,t,d,u,m],i.id+":35")}l.default=d}),98);
__d("useStringWithSubstitutions",["fbt","CometLruCache","CurrentMessengerUser","Env","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","Promise","ReQL","ReQLSuspense","gkx","justknobx","nullthrows","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=m||(m=o("react")),_=p.useEffect,f=p.useMemo,g=(c||(c=r("Env"))).isMessengerDotComOnComet?"Messenger":r("gkx")("22979")?"Instagram":"Facebook",h=s._(/*BTDS*/"{Platform Name}-\u10d8\u10e1 \u10db\u10dd\u10db\u10ee\u10db\u10d0\u10e0\u10d4\u10d1\u10d4\u10da\u10d8",[s._param("Platform Name",g)]).toString(),y=/(\$?)\$([a-zA-Z_]+)(?:\((.*?)\))?/g,C=/()(@)(?:(\d*?)@msgr)/g,b=o("CometLruCache").create(100);function v(t,a){var i=(d||(d=o("I64"))).to_string(a);return b.has(i)?(e||(e=n("Promise"))).resolve():(b.set(i,!0),r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(t),{authorityLevel:d.of_int32(r("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:d.of_int32(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:d.of_int32(r("LSContactIdType").FBID),contactType:d.of_int32(r("LSContactType").USER),contactViewerRelationship:d.of_int32(r("LSContactViewerRelationship").UNKNOWN),gender:d.of_int32(r("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:a===o("CurrentMessengerUser").getID(),workForeignEntityType:d.of_int32(r("LSContactWorkForeignEntityType").UNKNOWN)}))}function S(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1;e[o][0]<t?n=o+1:r=o-1}return r}function R(e,t,n,r){var o=[[-1,0]],a=e.replace(n,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=n[n.length-2],l=r.apply(void 0,[e].concat(n));return l.length===e.length||o.push([i,e.length-l.length+o[o.length-1][1]]),l});if(o.length===1)return{textWithSubstitutions:a,updatedRanges:t};var i=[];for(var l of t){var s=S(o,l.offset);i.push(babelHelpers.extends({},l,{length:l.length-(o[s+1]!=null&&o[s+1][0]<=l.offset+l.length?o[s+1][1]-o[s][1]:0),offset:l.offset-o[s][1]}))}return{textWithSubstitutions:a,updatedRanges:i}}var L={CONTACT_FIRST_NAME:[function(e){return function(t){return o("ReQL").fromTableAscending(e.tables.contacts,["name","firstName","id"]).getKeyRange(t).map(function(e){var t=e.firstName,n=e.name;return t!=null?t:n})}},function(e){return h},v],CONTACT_FULL_NAME:[function(e){return function(t){return o("ReQL").fromTableAscending(e.tables.contacts,["name"]).getKeyRange(t).map(function(e){var t=e.name;return t})}},function(e){return h},v],PARTICIPANT_FIRST_NAME:[function(e){return(function(t,n){var r=n.threadKey;return o("ReQL").fromTableAscending(e.tables.contacts,["name","firstName","id"]).getKeyRange(t).map(function(t){var n,a,l=t.firstName,s=t.id,u=t.name,c=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,s),i.id+":190");return(n=(a=c==null?void 0:c.nickname)!=null?a:l)!=null?n:u})})},function(e){return h},v],PARTICIPANT_FULL_NAME:[function(e){return(function(t,n){var r=n.threadKey;return o("ReQL").fromTableAscending(e.tables.contacts,["name","id"]).getKeyRange(t).map(function(t){var n,a=t.id,l=t.name,s=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,a),i.id+":209");return(n=s==null?void 0:s.nickname)!=null?n:l})})},function(e){return h},v]};function E(t,a,l,s,c,m){var p=function(t){var e;return((e=t.entity)==null?void 0:e.__typename)==="Thread"},g=a.filter(p),h=a.filter(function(e){return!p(e)}),y=(u||(u=r("useReStore")))(),C=o("Int64Hooks").useMemoInt64(function(){return{threadKey:l}},[l]),b=f(function(){var e,n=[],a=0;if(t!=null){s.lastIndex=0;for(var i=function(){var t=r("nullthrows")(e),i=t[0],l=t[1],s=t[2],u=t[3];if(!l){var p=(d||(d=o("I64"))).of_string_opt(u);if(p==null||u==="0")m&&r("FBLogger")("messenger_web").mustfix("Invalid user id for substitution key %s: %s",s,u);else{var _=a,f=c[s];f!=null&&(n.push([f[0](y)(p,C).take(1).map(function(e){return[_,e]}),function(e){return f[2](e,p)}]),a++)}}};(e=s.exec(t))!==null;)i()}return n},[C,y,t,s,c]),v=o("ReQLSuspense").useArray(function(){return b.length?b.length===1?b[0][0]:o("ReQL").union.apply(void 0,b.map(function(e){return e[0]})):o("ReQL").empty()},[b],i.id+":297"),S=f(function(){return new Map(v)},[v]);return _(function(){var t=b.map(function(e,t){var n=e[0],r=e[1];return S.has(t)?null:r}).filter(Boolean);t.length&&r("promiseDone")(y.runInTransaction(function(r){return(e||(e=n("Promise"))).all(t.map(function(e){return e(r)}))},"readwrite",void 0,void 0,i.id+":324"))},[y,b,S]),f(function(){if(t==null)return null;var e=0,n=R(t,h,s,function(t,n,r,a){var i=c[r];return n||i==null||(d||(d=o("I64"))).of_string_opt(a)==null?t:S.get(e++)||c[r][1](a)}),r=n.textWithSubstitutions,a=n.updatedRanges;return{textWithSubstitutions:r,updatedRanges:[].concat(a,g)}},[t,h,g,s,S,c])}function k(e,t){var n;return(n=E(e,[],t,y,L,!0))==null||(n=n.textWithSubstitutions)==null||n.replace==null?void 0:n.replace(/\$\$/g,"$$")}function I(e,t,n,a){var l=f(function(){return{"@":[function(e){return function(t){return n.has((d||(d=o("I64"))).to_string(t))?o("ReQL").fromTableAscending(e.tables.contacts,["name","id"]).getKeyRange(t).map(function(t){var n=t.id,l=t.name;if(r("justknobx")._("1389")){var s,u=a==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(a,n),i.id+":416"),c=(s=u==null?void 0:u.nickname)!=null?s:l;return"@"+c}else return"@"+l}):o("ReQL").empty()}},function(e){return n.has(e)?"@"+h:"@"+e+"@msgr"},v]}},[n]);return E(e,t,void 0,C,l,!1)}l.useStringWithSubstitutions=k,l.useStringWithMentionSubstitutionsAndUpdatedRanges=I}),226);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/PAEKTkKqR_S/
 */
__d("msgpack-msgpack-2.8.0",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){Object.defineProperty(e,"__esModule",{value:!0}),e.getUint64=e.getInt64=e.setInt64=e.setUint64=e.UINT32_MAX=void 0,e.UINT32_MAX=4294967295;function t(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}e.setUint64=t;function n(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}e.setInt64=n;function r(e,t){var n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}e.getInt64=r;function o(e,t){var n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}e.getUint64=o}var u=!1;function c(){return u||(u=!0,s()),l.exports}var d={},m={exports:d};function p(){var e,t,n;Object.defineProperty(d,"__esModule",{value:!0}),d.utf8DecodeTD=d.TEXT_DECODER_THRESHOLD=d.utf8DecodeJs=d.utf8EncodeTE=d.TEXT_ENCODER_THRESHOLD=d.utf8EncodeJs=d.utf8Count=void 0;var r=c(),o=(typeof process=="undefined"||((e=process==null?void 0:process.env)===null||e===void 0?void 0:e.TEXT_ENCODING)!=="never")&&typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined";function a(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if((o&4294967168)===0){n++;continue}else if((o&4294965248)===0)n+=2;else{if(o>=55296&&o<=56319&&r<t){var a=e.charCodeAt(r);(a&64512)===56320&&(++r,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?n+=3:n+=4}}return n}d.utf8Count=a;function i(e,t,n){for(var r=e.length,o=n,a=0;a<r;){var i=e.charCodeAt(a++);if((i&4294967168)===0){t[o++]=i;continue}else if((i&4294965248)===0)t[o++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&a<r){var l=e.charCodeAt(a);(l&64512)===56320&&(++a,i=((i&1023)<<10)+(l&1023)+65536)}(i&4294901760)===0?(t[o++]=i>>12&15|224,t[o++]=i>>6&63|128):(t[o++]=i>>18&7|240,t[o++]=i>>12&63|128,t[o++]=i>>6&63|128)}t[o++]=i&63|128}}d.utf8EncodeJs=i;var l=o?new TextEncoder:void 0;d.TEXT_ENCODER_THRESHOLD=o?typeof process!="undefined"&&((t=process==null?void 0:process.env)===null||t===void 0?void 0:t.TEXT_ENCODING)!=="force"?200:0:r.UINT32_MAX;function s(e,t,n){t.set(l.encode(e),n)}function u(e,t,n){l.encodeInto(e,t.subarray(n))}d.utf8EncodeTE=l!=null&&l.encodeInto?u:s;var m=4096;function p(e,t,n){for(var r=t,o=r+n,a=[],i="";r<o;){var l=e[r++];if((l&128)===0)a.push(l);else if((l&224)===192){var s=e[r++]&63;a.push((l&31)<<6|s)}else if((l&240)===224){var u=e[r++]&63,c=e[r++]&63;a.push((l&31)<<12|u<<6|c)}else if((l&248)===240){var d=e[r++]&63,p=e[r++]&63,_=e[r++]&63,f=(l&7)<<18|d<<12|p<<6|_;f>65535&&(f-=65536,a.push(f>>>10&1023|55296),f=56320|f&1023),a.push(f)}else a.push(l);a.length>=m&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return a.length>0&&(i+=String.fromCharCode.apply(String,a)),i}d.utf8DecodeJs=p;var _=o?new TextDecoder:null;d.TEXT_DECODER_THRESHOLD=o?typeof process!="undefined"&&((n=process==null?void 0:process.env)===null||n===void 0?void 0:n.TEXT_DECODER)!=="force"?200:0:r.UINT32_MAX;function f(e,t,n){var r=e.subarray(t,t+n);return _.decode(r)}d.utf8DecodeTD=f}var _=!1;function f(){return _||(_=!0,p()),m.exports}var g={},h={exports:g};function y(){Object.defineProperty(g,"__esModule",{value:!0}),g.ExtData=void 0;var e=function(t,n){this.type=t,this.data=n};g.ExtData=e}var C=!1;function b(){return C||(C=!0,y()),h.exports}var v={},S={exports:v};function R(){Object.defineProperty(v,"__esModule",{value:!0}),v.DecodeError=void 0;var e=(function(e){function t(n){var r;r=e.call(this,n)||this;var o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));v.DecodeError=e}var L=!1;function E(){return L||(L=!0,R()),S.exports}var k={},I={exports:k};function T(){Object.defineProperty(k,"__esModule",{value:!0}),k.timestampExtension=k.decodeTimestampExtension=k.decodeTimestampToTimeSpec=k.encodeTimestampExtension=k.encodeDateToTimeSpec=k.encodeTimeSpecToTimestamp=k.EXT_TIMESTAMP=void 0;var e=E(),t=c();k.EXT_TIMESTAMP=-1;var n=4294967296-1,r=17179869184-1;function o(e){var o=e.sec,a=e.nsec;if(o>=0&&a>=0&&o<=r)if(a===0&&o<=n){var i=new Uint8Array(4),l=new DataView(i.buffer);return l.setUint32(0,o),i}else{var s=o/4294967296,u=o&4294967295,c=new Uint8Array(8),d=new DataView(c.buffer);return d.setUint32(0,a<<2|s&3),d.setUint32(4,u),c}else{var m=new Uint8Array(12),p=new DataView(m.buffer);return p.setUint32(0,a),(0,t.setInt64)(p,4,o),m}}k.encodeTimeSpecToTimestamp=o;function a(e){var t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,o=Math.floor(r/1e9);return{sec:n+o,nsec:r-o*1e9}}k.encodeDateToTimeSpec=a;function i(e){if(e instanceof Date){var t=a(e);return o(t)}else return null}k.encodeTimestampExtension=i;function l(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength);switch(n.byteLength){case 4:{var o=r.getUint32(0),a=0;return{sec:o,nsec:a}}case 8:{var i=r.getUint32(0),l=r.getUint32(4),s=(i&3)*4294967296+l,u=i>>>2;return{sec:s,nsec:u}}case 12:{var c=(0,t.getInt64)(r,4),d=r.getUint32(0);return{sec:c,nsec:d}}default:throw new e.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+n.length)}}k.decodeTimestampToTimeSpec=l;function s(e){var t=l(e);return new Date(t.sec*1e3+t.nsec/1e6)}k.decodeTimestampExtension=s,k.timestampExtension={type:k.EXT_TIMESTAMP,encode:i,decode:s}}var D=!1;function x(){return D||(D=!0,T()),I.exports}var $={},P={exports:$};function N(){Object.defineProperty($,"__esModule",{value:!0}),$.ExtensionCodec=void 0;var e=b(),t=x(),n=(function(){function n(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(t.timestampExtension)}var r=n.prototype;return r.register=function(t){var e=t.type,n=t.encode,r=t.decode;if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{var o=1+e;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},r.tryToEncode=function(n,r){for(var t=0;t<this.builtInEncoders.length;t++){var o=this.builtInEncoders[t];if(o!=null){var a=o(n,r);if(a!=null){var i=-1-t;return new e.ExtData(i,a)}}}for(var l=0;l<this.encoders.length;l++){var s=this.encoders[l];if(s!=null){var u=s(n,r);if(u!=null){var c=l;return new e.ExtData(c,u)}}}return n instanceof e.ExtData?n:null},r.decode=function(n,r,o){var t=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return t?t(n,r,o):new e.ExtData(r,n)},n})();$.ExtensionCodec=n,n.defaultCodec=new n}var M=!1;function w(){return M||(M=!0,N()),P.exports}var A={},F={exports:A};function O(){Object.defineProperty(A,"__esModule",{value:!0}),A.createDataView=A.ensureUint8Array=void 0;function e(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}A.ensureUint8Array=e;function t(t){if(t instanceof ArrayBuffer)return new DataView(t);var n=e(t);return new DataView(n.buffer,n.byteOffset,n.byteLength)}A.createDataView=t}var B=!1;function W(){return B||(B=!0,O()),F.exports}var q={},U={exports:q};function V(){Object.defineProperty(q,"__esModule",{value:!0}),q.Encoder=q.DEFAULT_INITIAL_BUFFER_SIZE=q.DEFAULT_MAX_DEPTH=void 0;var e=f(),t=w(),n=c(),r=W();q.DEFAULT_MAX_DEPTH=100,q.DEFAULT_INITIAL_BUFFER_SIZE=2048;var o=(function(){function o(e,n,r,o,a,i,l,s){e===void 0&&(e=t.ExtensionCodec.defaultCodec),n===void 0&&(n=void 0),r===void 0&&(r=q.DEFAULT_MAX_DEPTH),o===void 0&&(o=q.DEFAULT_INITIAL_BUFFER_SIZE),a===void 0&&(a=!1),i===void 0&&(i=!1),l===void 0&&(l=!1),s===void 0&&(s=!1),this.extensionCodec=e,this.context=n,this.maxDepth=r,this.initialBufferSize=o,this.sortKeys=a,this.forceFloat32=i,this.ignoreUndefined=l,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}var a=o.prototype;return a.reinitializeState=function(){this.pos=0},a.encodeSharedRef=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)},a.encode=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)},a.doEncode=function(t,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth "+n);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.encodeObject(t,n)},a.ensureBufferSizeToWrite=function(t){var e=this.pos+t;this.view.byteLength<e&&this.resizeBuffer(e*2)},a.resizeBuffer=function(t){var e=new ArrayBuffer(t),n=new Uint8Array(e),r=new DataView(e);n.set(this.bytes),this.view=r,this.bytes=n},a.encodeNil=function(){this.writeU8(192)},a.encodeBoolean=function(t){t===!1?this.writeU8(194):this.writeU8(195)},a.encodeNumber=function(t){Number.isSafeInteger(t)&&!this.forceIntegerToFloat?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):(this.writeU8(211),this.writeI64(t)):this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))},a.writeStringHeader=function(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error("Too long string: "+t+" bytes in UTF-8")},a.encodeString=function(n){var t=5,r=n.length;if(r>e.TEXT_ENCODER_THRESHOLD){var o=(0,e.utf8Count)(n);this.ensureBufferSizeToWrite(t+o),this.writeStringHeader(o),(0,e.utf8EncodeTE)(n,this.bytes,this.pos),this.pos+=o}else{var a=(0,e.utf8Count)(n);this.ensureBufferSizeToWrite(t+a),this.writeStringHeader(a),(0,e.utf8EncodeJs)(n,this.bytes,this.pos),this.pos+=a}},a.encodeObject=function(t,n){var e=this.extensionCodec.tryToEncode(t,this.context);if(e!=null)this.encodeExtension(e);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error("Unrecognized object: "+Object.prototype.toString.apply(t))},a.encodeBinary=function(t){var e=t.byteLength;if(e<256)this.writeU8(196),this.writeU8(e);else if(e<65536)this.writeU8(197),this.writeU16(e);else if(e<4294967296)this.writeU8(198),this.writeU32(e);else throw new Error("Too large binary: "+e);var n=(0,r.ensureUint8Array)(t);this.writeU8a(n)},a.encodeArray=function(t,n){var e=t.length;if(e<16)this.writeU8(144+e);else if(e<65536)this.writeU8(220),this.writeU16(e);else if(e<4294967296)this.writeU8(221),this.writeU32(e);else throw new Error("Too large array: "+e);for(var r of t)this.doEncode(r,n+1)},a.countWithoutUndefined=function(t,n){var e=0;for(var r of n)t[r]!==void 0&&e++;return e},a.encodeMap=function(t,n){var e=Object.keys(t);this.sortKeys&&e.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(t,e):e.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else if(r<4294967296)this.writeU8(223),this.writeU32(r);else throw new Error("Too large map object: "+r);for(var o of e){var a=t[o];this.ignoreUndefined&&a===void 0||(this.encodeString(o),this.doEncode(a,n+1))}},a.encodeExtension=function(t){var e=t.data.length;if(e===1)this.writeU8(212);else if(e===2)this.writeU8(213);else if(e===4)this.writeU8(214);else if(e===8)this.writeU8(215);else if(e===16)this.writeU8(216);else if(e<256)this.writeU8(199),this.writeU8(e);else if(e<65536)this.writeU8(200),this.writeU16(e);else if(e<4294967296)this.writeU8(201),this.writeU32(e);else throw new Error("Too large extension object: "+e);this.writeI8(t.type),this.writeU8a(t.data)},a.writeU8=function(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++},a.writeU8a=function(t){var e=t.length;this.ensureBufferSizeToWrite(e),this.bytes.set(t,this.pos),this.pos+=e},a.writeI8=function(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++},a.writeU16=function(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2},a.writeI16=function(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2},a.writeU32=function(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4},a.writeI32=function(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4},a.writeF32=function(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4},a.writeF64=function(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8},a.writeU64=function(t){this.ensureBufferSizeToWrite(8),(0,n.setUint64)(this.view,this.pos,t),this.pos+=8},a.writeI64=function(t){this.ensureBufferSizeToWrite(8),(0,n.setInt64)(this.view,this.pos,t),this.pos+=8},o})();q.Encoder=o}var H=!1;function G(){return H||(H=!0,V()),U.exports}var z={},j={exports:z};function K(){Object.defineProperty(z,"__esModule",{value:!0}),z.encode=void 0;var e=G(),t={};function n(n,r){r===void 0&&(r=t);var o=new e.Encoder(r.extensionCodec,r.context,r.maxDepth,r.initialBufferSize,r.sortKeys,r.forceFloat32,r.ignoreUndefined,r.forceIntegerToFloat);return o.encodeSharedRef(n)}z.encode=n}var Q=!1;function X(){return Q||(Q=!0,K()),j.exports}var Y={},J={exports:Y};function Z(){Object.defineProperty(Y,"__esModule",{value:!0}),Y.prettyByte=void 0;function e(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}Y.prettyByte=e}var ee=!1;function te(){return ee||(ee=!0,Z()),J.exports}var ne={},re={exports:ne};function oe(){Object.defineProperty(ne,"__esModule",{value:!0}),ne.CachedKeyDecoder=void 0;var e=f(),t=16,n=16,r=(function(){function r(e,r){e===void 0&&(e=t),r===void 0&&(r=n),this.maxKeyLength=e,this.maxLengthPerKey=r,this.hit=0,this.miss=0,this.caches=[];for(var o=0;o<this.maxKeyLength;o++)this.caches.push([])}var o=r.prototype;return o.canBeCached=function(t){return t>0&&t<=this.maxKeyLength},o.find=function(t,n,r){var e=this.caches[r-1];e:for(var o of e){for(var a=o.bytes,i=0;i<r;i++)if(a[i]!==t[n+i])continue e;return o.str}return null},o.store=function(t,n){var e=this.caches[t.length-1],r={bytes:t,str:n};e.length>=this.maxLengthPerKey?e[Math.random()*e.length|0]=r:e.push(r)},o.decode=function(n,r,o){var t=this.find(n,r,o);if(t!=null)return this.hit++,t;this.miss++;var a=(0,e.utf8DecodeJs)(n,r,o),i=Uint8Array.prototype.slice.call(n,r,r+o);return this.store(i,a),a},r})();ne.CachedKeyDecoder=r}var ae=!1;function ie(){return ae||(ae=!0,oe()),re.exports}var le={},se={exports:le};function ue(){Object.defineProperty(le,"__esModule",{value:!0}),le.Decoder=le.DataViewIndexOutOfBoundsError=void 0;var e=te(),t=w(),n=c(),r=f(),o=W(),a=ie(),i=E(),l=function(t){var e=typeof t;return e==="string"||e==="number"},s=-1,u=new DataView(new ArrayBuffer(0)),d=new Uint8Array(u.buffer);le.DataViewIndexOutOfBoundsError=(function(){try{u.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")})();var m=new le.DataViewIndexOutOfBoundsError("Insufficient data"),p=new a.CachedKeyDecoder,_=(function(){function a(e,r,o,a,i,l,c,m){e===void 0&&(e=t.ExtensionCodec.defaultCodec),r===void 0&&(r=void 0),o===void 0&&(o=n.UINT32_MAX),a===void 0&&(a=n.UINT32_MAX),i===void 0&&(i=n.UINT32_MAX),l===void 0&&(l=n.UINT32_MAX),c===void 0&&(c=n.UINT32_MAX),m===void 0&&(m=p),this.extensionCodec=e,this.context=r,this.maxStrLength=o,this.maxBinLength=a,this.maxArrayLength=i,this.maxMapLength=l,this.maxExtLength=c,this.keyDecoder=m,this.totalPos=0,this.pos=0,this.view=u,this.bytes=d,this.headByte=s,this.stack=[]}var c=a.prototype;return c.reinitializeState=function(){this.totalPos=0,this.headByte=s,this.stack.length=0},c.setBuffer=function(t){this.bytes=(0,o.ensureUint8Array)(t),this.view=(0,o.createDataView)(this.bytes),this.pos=0},c.appendBuffer=function(t){if(this.headByte===s&&!this.hasRemaining(1))this.setBuffer(t);else{var e=this.bytes.subarray(this.pos),n=(0,o.ensureUint8Array)(t),r=new Uint8Array(e.length+n.length);r.set(e),r.set(n,e.length),this.setBuffer(r)}},c.hasRemaining=function(t){return this.view.byteLength-this.pos>=t},c.createExtraByteError=function(t){var e=this.view,n=this.pos;return new RangeError("Extra "+(e.byteLength-n)+" of "+e.byteLength+" byte(s) found at buffer["+t+"]")},c.decode=function(t){this.reinitializeState(),this.setBuffer(t);var e=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return e},c.decodeMulti=function*(t){for(this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()},c.decodeAsync=async function(n){var t=!1,r,o=!1,a=!1,i;try{for(var l=babelHelpers.asyncIterator(n),s;o=!(s=await l.next()).done;o=!1){var u=s.value;{if(t)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{r=this.doDecodeSync(),t=!0}catch(e){if(!(e instanceof le.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}}catch(e){a=!0,i=e}finally{try{o&&l.return!=null&&await l.return()}finally{if(a)throw i}}if(t){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}var c=this.headByte,d=this.pos,m=this.totalPos;throw new RangeError("Insufficient data in parsing "+(0,e.prettyByte)(c)+" at "+m+" ("+d+" in the current buffer)")},c.decodeArrayStream=function(t){return this.decodeMultiAsync(t,!0)},c.decodeStream=function(t){return this.decodeMultiAsync(t,!1)},c.decodeMultiAsync=(function(){var e=babelHelpers.wrapAsyncGenerator(function*(e,t){var n=t,r=-1,o=!1,a=!1,i;try{for(var l=babelHelpers.asyncIterator(e),s;o=!(s=yield babelHelpers.awaitAsyncGenerator(l.next())).done;o=!1){var u=s.value;{if(t&&r===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),n&&(r=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--r!==0;);}catch(e){if(!(e instanceof le.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}}catch(e){a=!0,i=e}finally{try{o&&l.return!=null&&(yield babelHelpers.awaitAsyncGenerator(l.return()))}finally{if(a)throw i}}});function t(t,n){return e.apply(this,arguments)}return t})(),c.doDecodeSync=function(){e:for(;;){var t=this.readHeadByte(),n=void 0;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){var r=t-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(t<160){var o=t-144;if(o!==0){this.pushArrayState(o),this.complete();continue e}else n=[]}else{var a=t-160;n=this.decodeUtf8String(a,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)n=this.readI64();else if(t===217){var s=this.lookU8();n=this.decodeUtf8String(s,1)}else if(t===218){var u=this.lookU16();n=this.decodeUtf8String(u,2)}else if(t===219){var c=this.lookU32();n=this.decodeUtf8String(c,4)}else if(t===220){var d=this.readU16();if(d!==0){this.pushArrayState(d),this.complete();continue e}else n=[]}else if(t===221){var m=this.readU32();if(m!==0){this.pushArrayState(m),this.complete();continue e}else n=[]}else if(t===222){var p=this.readU16();if(p!==0){this.pushMapState(p),this.complete();continue e}else n={}}else if(t===223){var _=this.readU32();if(_!==0){this.pushMapState(_),this.complete();continue e}else n={}}else if(t===196){var f=this.lookU8();n=this.decodeBinary(f,1)}else if(t===197){var g=this.lookU16();n=this.decodeBinary(g,2)}else if(t===198){var h=this.lookU32();n=this.decodeBinary(h,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){var y=this.lookU8();n=this.decodeExtension(y,1)}else if(t===200){var C=this.lookU16();n=this.decodeExtension(C,2)}else if(t===201){var b=this.lookU32();n=this.decodeExtension(b,4)}else throw new i.DecodeError("Unrecognized type byte: "+(0,e.prettyByte)(t));this.complete();for(var v=this.stack;v.length>0;){var S=v[v.length-1];if(S.type===0)if(S.array[S.position]=n,S.position++,S.position===S.size)v.pop(),n=S.array;else continue e;else if(S.type===1){if(!l(n))throw new i.DecodeError("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new i.DecodeError("The key __proto__ is not allowed");S.key=n,S.type=2;continue e}else if(S.map[S.key]=n,S.readCount++,S.readCount===S.size)v.pop(),n=S.map;else{S.key=null,S.type=1;continue e}}return n}},c.readHeadByte=function(){return this.headByte===s&&(this.headByte=this.readU8()),this.headByte},c.complete=function(){this.headByte=s},c.readArraySize=function(){var t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new i.DecodeError("Unrecognized array type byte: "+(0,e.prettyByte)(t))}}},c.pushMapState=function(t){if(t>this.maxMapLength)throw new i.DecodeError("Max length exceeded: map length ("+t+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:t,key:null,readCount:0,map:{}})},c.pushArrayState=function(t){if(t>this.maxArrayLength)throw new i.DecodeError("Max length exceeded: array length ("+t+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:t,array:new Array(t),position:0})},c.decodeUtf8String=function(t,n){var e;if(t>this.maxStrLength)throw new i.DecodeError("Max length exceeded: UTF-8 byte length ("+t+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+n+t)throw m;var o=this.pos+n,a;return this.stateIsMapKey()&&(!((e=this.keyDecoder)===null||e===void 0)&&e.canBeCached(t))?a=this.keyDecoder.decode(this.bytes,o,t):t>r.TEXT_DECODER_THRESHOLD?a=(0,r.utf8DecodeTD)(this.bytes,o,t):a=(0,r.utf8DecodeJs)(this.bytes,o,t),this.pos+=n+t,a},c.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},c.decodeBinary=function(t,n){if(t>this.maxBinLength)throw new i.DecodeError("Max length exceeded: bin length ("+t+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(t+n))throw m;var e=this.pos+n,r=this.bytes.subarray(e,e+t);return this.pos+=n+t,r},c.decodeExtension=function(t,n){if(t>this.maxExtLength)throw new i.DecodeError("Max length exceeded: ext length ("+t+") > maxExtLength ("+this.maxExtLength+")");var e=this.view.getInt8(this.pos+n),r=this.decodeBinary(t,n+1);return this.extensionCodec.decode(r,e,this.context)},c.lookU8=function(){return this.view.getUint8(this.pos)},c.lookU16=function(){return this.view.getUint16(this.pos)},c.lookU32=function(){return this.view.getUint32(this.pos)},c.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},c.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},c.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},c.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},c.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},c.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},c.readU64=function(){var e=(0,n.getUint64)(this.view,this.pos);return this.pos+=8,e},c.readI64=function(){var e=(0,n.getInt64)(this.view,this.pos);return this.pos+=8,e},c.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},c.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},a})();le.Decoder=_}var ce=!1;function de(){return ce||(ce=!0,ue()),se.exports}var me={},pe={exports:me};function _e(){Object.defineProperty(me,"__esModule",{value:!0}),me.decodeMulti=me.decode=me.defaultDecodeOptions=void 0;var e=de();me.defaultDecodeOptions={};function t(t,n){n===void 0&&(n=me.defaultDecodeOptions);var r=new e.Decoder(n.extensionCodec,n.context,n.maxStrLength,n.maxBinLength,n.maxArrayLength,n.maxMapLength,n.maxExtLength);return r.decode(t)}me.decode=t;function n(t,n){n===void 0&&(n=me.defaultDecodeOptions);var r=new e.Decoder(n.extensionCodec,n.context,n.maxStrLength,n.maxBinLength,n.maxArrayLength,n.maxMapLength,n.maxExtLength);return r.decodeMulti(t)}me.decodeMulti=n}var fe=!1;function ge(){return fe||(fe=!0,_e()),pe.exports}var he={},ye={exports:he};function Ce(){Object.defineProperty(he,"__esModule",{value:!0}),he.ensureAsyncIterable=he.asyncIterableFromStream=he.isAsyncIterable=void 0;function e(e){return e[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]!=null}he.isAsyncIterable=e;function t(e){if(e==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function n(e){return r.apply(this,arguments)}function r(){return r=babelHelpers.wrapAsyncGenerator(function*(e){var n=e.getReader();try{for(;;){var r=yield babelHelpers.awaitAsyncGenerator(n.read()),o=r.done,a=r.value;if(o)return;t(a),yield a}}finally{n.releaseLock()}}),r.apply(this,arguments)}he.asyncIterableFromStream=n;function o(t){return e(t)?t:n(t)}he.ensureAsyncIterable=o}var be=!1;function ve(){return be||(be=!0,Ce()),ye.exports}var Se={},Re={exports:Se};function Le(){Object.defineProperty(Se,"__esModule",{value:!0}),Se.decodeStream=Se.decodeMultiStream=Se.decodeArrayStream=Se.decodeAsync=void 0;var e=de(),t=ve(),n=ge();async function r(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeAsync(a)}Se.decodeAsync=r;function o(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeArrayStream(a)}Se.decodeArrayStream=o;function a(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeStream(a)}Se.decodeMultiStream=a;function i(e,t){return t===void 0&&(t=n.defaultDecodeOptions),a(e,t)}Se.decodeStream=i}var Ee=!1;function ke(){return Ee||(Ee=!0,Le()),Re.exports}var Ie={},Te={exports:Ie};function De(){Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.decodeTimestampExtension=Ie.encodeTimestampExtension=Ie.decodeTimestampToTimeSpec=Ie.encodeTimeSpecToTimestamp=Ie.encodeDateToTimeSpec=Ie.EXT_TIMESTAMP=Ie.ExtData=Ie.ExtensionCodec=Ie.Encoder=Ie.DataViewIndexOutOfBoundsError=Ie.DecodeError=Ie.Decoder=Ie.decodeStream=Ie.decodeMultiStream=Ie.decodeArrayStream=Ie.decodeAsync=Ie.decodeMulti=Ie.decode=Ie.encode=void 0;var e=X();Object.defineProperty(Ie,"encode",{enumerable:!0,get:function(){return e.encode}});var t=ge();Object.defineProperty(Ie,"decode",{enumerable:!0,get:function(){return t.decode}}),Object.defineProperty(Ie,"decodeMulti",{enumerable:!0,get:function(){return t.decodeMulti}});var n=ke();Object.defineProperty(Ie,"decodeAsync",{enumerable:!0,get:function(){return n.decodeAsync}}),Object.defineProperty(Ie,"decodeArrayStream",{enumerable:!0,get:function(){return n.decodeArrayStream}}),Object.defineProperty(Ie,"decodeMultiStream",{enumerable:!0,get:function(){return n.decodeMultiStream}}),Object.defineProperty(Ie,"decodeStream",{enumerable:!0,get:function(){return n.decodeStream}});var r=de();Object.defineProperty(Ie,"Decoder",{enumerable:!0,get:function(){return r.Decoder}}),Object.defineProperty(Ie,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return r.DataViewIndexOutOfBoundsError}});var o=E();Object.defineProperty(Ie,"DecodeError",{enumerable:!0,get:function(){return o.DecodeError}});var a=G();Object.defineProperty(Ie,"Encoder",{enumerable:!0,get:function(){return a.Encoder}});var i=w();Object.defineProperty(Ie,"ExtensionCodec",{enumerable:!0,get:function(){return i.ExtensionCodec}});var l=b();Object.defineProperty(Ie,"ExtData",{enumerable:!0,get:function(){return l.ExtData}});var s=x();Object.defineProperty(Ie,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return s.EXT_TIMESTAMP}}),Object.defineProperty(Ie,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return s.encodeDateToTimeSpec}}),Object.defineProperty(Ie,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return s.encodeTimeSpecToTimestamp}}),Object.defineProperty(Ie,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return s.decodeTimestampToTimeSpec}}),Object.defineProperty(Ie,"encodeTimestampExtension",{enumerable:!0,get:function(){return s.encodeTimestampExtension}}),Object.defineProperty(Ie,"decodeTimestampExtension",{enumerable:!0,get:function(){return s.decodeTimestampExtension}})}var xe=!1;function $e(){return xe||(xe=!0,De()),Te.exports}function Pe(e){switch(e){case void 0:return $e()}}a.exports=Pe}),null);
__d("msgpack-msgpack",["msgpack-msgpack-2.8.0"],(function(t,n,r,o,a,i){a.exports=n("msgpack-msgpack-2.8.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/CCT5pM3qiNk/
 */
__d("tweetnacl-auth-1.0.1",["tweetnacl-1.0.3"],(function(t,n,r,o,a,i){"use strict";var e=n("tweetnacl-1.0.3"),l={},s={exports:l};function u(){(function(t,n){typeof s!="undefined"&&s.exports?s.exports=n(e()):t.nacl.auth=n(t.nacl)})(this,function(e){if(!e)throw new Error("tweetnacl not loaded");var t=128,n=64;function r(r,o){var a=new Uint8Array(t+Math.max(n,r.length)),i,l;for(o.length>t&&(o=e.hash(o)),i=0;i<t;i++)a[i]=54;for(i=0;i<o.length;i++)a[i]^=o[i];for(a.set(r,t),l=e.hash(a.subarray(0,t+r.length)),i=0;i<t;i++)a[i]=92;for(i=0;i<o.length;i++)a[i]^=o[i];return a.set(l,t),e.hash(a.subarray(0,t+l.length))}function o(e,t){var n=new Uint8Array(32);return n.set(r(e,t).subarray(0,32)),n}return o.full=function(e,t){return r(e,t)},o.authLength=32,o.authFullLength=64,o.keyLength=32,o})}var c=!1;function d(){return c||(c=!0,u()),s.exports}function m(e){switch(e){case void 0:return d()}}a.exports=m}),null);
__d("tweetnacl-auth",["tweetnacl-auth-1.0.1"],(function(t,n,r,o,a,i){a.exports=n("tweetnacl-auth-1.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9CQ8-4bFd8Y/
 */
__d("wasm-feature-detect-1.8.0",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){const e={bigInt:()=>(async e=>{try{return(await WebAssembly.instantiate(e)).instance.exports.b(BigInt(0))===BigInt(0)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,126,1,126,3,2,1,0,7,5,1,1,98,0,0,10,6,1,4,0,32,0,11])),bulkMemory:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),exceptions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),exceptionsFinal:()=>(async()=>{try{return new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABBAFgAAADAgEAChABDgACaR9AAQMAAAsACxoL"),(e=>e.codePointAt(0)))),!0}catch(e){return!1}})(),extendedConst:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,0,1,11,9,1,0,65,1,65,2,106,11,0])),gc:()=>(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,95,1,120,0])))(),jsStringBuiltins:()=>(async()=>{try{return await WebAssembly.instantiate(Uint8Array.from(atob("AGFzbQEAAAABBgFgAW8BfwIXAQ53YXNtOmpzLXN0cmluZwR0ZXN0AAA="),(e=>e.codePointAt(0))),{},{builtins:["js-string"]}),!0}catch(e){return!1}})(),jspi:()=>(async()=>"Suspending"in WebAssembly)(),memory64:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1])),multiMemory:()=>(async()=>{try{return new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,5,5,2,0,0,0,0])),!0}catch(e){return!1}})(),multiValue:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,0,2,127,127,3,2,1,0,10,8,1,6,0,65,0,65,0,11])),mutableGlobals:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),referenceTypes:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),relaxedSimd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,15,1,13,0,65,1,253,15,65,2,253,15,253,128,2,11])),saturatedFloatToInt:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),signExtensions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),simd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),streamingCompilation:()=>(async()=>"compileStreaming"in WebAssembly)(),tailCall:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,6,1,4,0,18,0,11])),threads:()=>(async e=>{try{return typeof MessageChannel!="undefined"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),typeReflection:()=>(async()=>"Function"in WebAssembly)(),typedFunctionReferences:()=>(async()=>{try{return new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABEANgAX8Bf2ABZAABf2AAAX8DBAMBAAIJBQEDAAEBChwDCwBBCkEqIAAUAGoLBwAgAEEBagsGANIBEAAL"),(e=>e.codePointAt(0)))),!0}catch(e){return!1}})()};l.exports=e}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("wasm-feature-detect",["wasm-feature-detect-1.8.0"],(function(t,n,r,o,a,i){a.exports=n("wasm-feature-detect-1.8.0")()}),null);/*FB_PKG_DELIM*/
__d("MinGapType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24,LIMITED_PERSONALIZATION_NOTICE:25,FRIENDS_FEED_BADGED:26,FRIENDLY_FEED_PROMOTION_GAP_3:27,FRIENDLY_FEED_PHOTO_RECAP:28}),l=e;i.default=l}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=3,s=6;function u(e,t){if(t!==5)return!1;var n=r("gkx")("23035");if(!n)return!1;var o=c(e,0);return o>s}function c(t,n){if(t.length===0||n>s)return n;var r=t.length,o=d(t);return o===-1?n:r-o<=e?c(t.slice(0,o),n+1):n}function d(e){for(var t=e.length-1;t>=0;t--)if(e[t].minGapType===5)return t;return-1}l.EXTREME_GAP_DISTANCE=e,l.shouldApplyExtremeGapProtection=u,l.getLastSponsoredStoryPosition=d}),98);
__d("AuditImpressionChannelSessionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3703"),s=o("FalcoLoggerInternal").create("audit_impression_channel_session",e),u=s;l.default=u}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1305"),s=o("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",e),u=s;l.default=u}),98);
__d("Comet2ndChannelContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5479"),s=o("FalcoLoggerInternal").create("comet_ads_product_logging",e),u=s;l.default=u}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.map(function(e,n){return t(e)?babelHelpers.extends({},e,{position:n}):null}).filter(Boolean)}function l(e){return e.filter(m)}function s(e){return e.filter(p)}function u(e){return e.filter(_)}function c(e){return e.filter(function(e){return e.status==="received"||e.status==="positioned"})}function d(e){var t=e.reduce(function(e,t,n){return _(t)?n:e},-1);return e.map(function(e,n){return n<=t&&!_(e)?babelHelpers.extends({},e,{status:"rendered"}):e})}function m(e){return e.status==="rendered"}function p(e){return e.status!=="error"}function _(e){return e.status==="rendered"||e.status==="error"||e.status==="positioned"}i.getFeedUnitsWithOriginalPosition=e,i.getCurrentlyVisibleFeedUnits=l,i.getPossiblyVisibleFeedUnits=s,i.getAllPositionedFeedUnits=u,i.getUncommittedFeedUnits=c,i.getFeedUnitsWithRenderingOutOfOrderFixed=d,i.isCurrentlyVisible=m,i.isPossiblyVisible=p,i.isAnyPositionedType=_}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(t,n,r,o,a,i,l){"use strict";var e="SPONSORED",s="comet.home";function u(t){var n=t.adId,o=t.csp,a=t.cts,i=t.endPoint,l=t.getFeedUnitStatusList,s=t.hba,u=t.isv,d=t.minGapRule,m=t.minGapType,p=t.sessionKey,_=t.tracking,f=t.vp;m!==e||d==null||n==null||(r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:n,csp:o,endpoint:i,event:"impression",hba:s,isv:u,min_gap_shape:{min_gap_rule:d.toString(),min_gap_type:m},session_key:p,timestamp:a,tracking:_,vp:f}}),c({adId:n,csp:o,cts:a,endPoint:i,getFeedUnitStatusList:l,hba:s,isv:u,minGapRule:d,minGapType:m,sessionKey:p,tracking:_,vp:f}))}function c(e){var t=e.adId,n=e.csp,a=e.cts,i=e.endPoint,l=e.getFeedUnitStatusList,s=e.hba,u=e.isv,c=e.minGapRule,d=e.minGapType,m=e.sessionKey,p=e.tracking,_=e.vp;if(!(l==null||n==null)){var f=l(),g=o("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(f,o("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible),h=parseInt(n,10),y=g.slice(0,h-1),C=o("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(y,5);if(C){var b=h-o("AdsExtremeGapUtils").getLastSponsoredStoryPosition(y);r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:t,csp:n,endpoint:i,event:"extreme_experience",hba:s,isv:u,min_gap_shape:{min_gap_rule:c!=null?c.toString():null,min_gap_type:d},product_features:b<=o("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:a,tracking:p,vp:_}})}}}function d(e){var t=e.endPoint,n=t===void 0?s:t,a=e.minGapRule,i=e.minGapType,l=Date.now(),u=Math.floor(l/1e3);r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:n,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:a!=null?a.toString():null,min_gap_type:i},product_features:"highest_position_ad_from_multifeed",session_key:o("WebSession").getId(),timestamp:u.toString(),tracking:null,vp:null}})}l.logCometAdsProductGapRule=u,l.logCometAdsProductGapRuleExtremeExperience=c,l.logCometFeedHighestPositionAd=d}),98);
__d("CometFeed5sImpressionDelayContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});l.default=u}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){if(e==null||t==null)return a&&r("FBLogger")("comet_feed_impression_null_brs_field").warn("Unable to get brs data for position %s. Debug: isAd: %s, feedUnitStatusList: %s, brsRegistry: %s",n,a,JSON.stringify(e?e():null),JSON.stringify(t?t():null)),null;var i=e(),l=o("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(i,o("CometFeedUnitStatusTrackingUtils").isPossiblyVisible),d=l.findIndex(function(e){return e.position===n});if(!s(l,d))return a&&r("FBLogger")("comet_feed_impression_null_brs_field_unsponsored").warn("Impression at nonErrorFeedUnit index %s was determined to be non sponsored. Debug: storyPosition: %s, isAd: %s, nonErrorFeedUnits: %s, feedUnitStatusList: %s, brsRegistry: %s",d,n,a,JSON.stringify(l),JSON.stringify(e()),JSON.stringify(t())),null;var p=t(),_=u(l,p,d-1),f=u(l,p,d+1),g=c(l,p,d);return{brs_filter_setting:g,feed_size:l.length.toString(),feed_state:m(p),unit_after:f,unit_before:_}}function s(e,t){var n;return((n=e[t])==null?void 0:n.category)==="SPONSORED"}function u(e,t,n){var r,o=d(e,t,n);return o&&{brs_content_label:(r=o.brsContentLabel)==null?void 0:r.toString(),organic_tracking:o.tracking,unit_type:o.unitType}}function c(e,t,n){var r,o=d(e,t,n);return o==null||(r=o.brsFilterSetting)==null?void 0:r.toString()}function d(e,t,n){var o=e[n];if(o==null)return null;var a=o.key,i=t.feedUnitRegistry[a];return i==null&&o.status==="rendered"?r("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",n,o.key,JSON.stringify(e),JSON.stringify(Object.keys(t.feedUnitRegistry))):o.status==="error"&&r("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",n,o.key,JSON.stringify(e),JSON.stringify(Object.keys(t.feedUnitRegistry))),i}function m(e){var t=e.feedStateInfoRef.current;if(t==null)return r("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly"),"feed_uninitialized_state_info";var n=t.hasMore,o=t.isEOFError,a=t.isLoading,i=t.showEOFMessageAfterFeedStoppedLoading,l=r("NetworkStatus").isOnline();return o?l?"feed_eof_error_while_online":"feed_eof_error_while_offline":i?l?"feed_eof_no_more_stories_while_online":"feed_eof_no_more_stories_while_offline":n&&a?"feed_has_more_and_is_loading":n?"feed_has_more":a?"feed_is_loading":"feed_unknown"}l.getBrandSafetyFieldForAdImpression=e}),98);
__d("CometImpressionLoggingUtil",["AuditImpressionChannelSessionFalcoEvent","CometMetricsViewableImpressionFalcoEvent","WebSession","gkx","randomInt","setTimeout","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="TWO_M_SECOND_CHANNEL",s="TWO_M_FIRST_CHANNEL";function u(e,t,n,o,a){var i=Date.now(),l=i+"_"+(r("randomInt")(0,4294967295)+1),s={aidv2:e,brs:a!=null?a:null,csp:t.toString(),cts:Math.floor(i/1e3).toString(),etid:l,event_trace_id:r("uuidv4")(),gap_to_prev_ad:o==null?void 0:o.toString(),isv:"1",xt:n};r("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return s})}function c(e,t,n,a,i){var l,s,u,c,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k=r("gkx")("15955");if(k&&!(!a||e==null)){var I=t!=null?t:"",T={sessionKey:o("WebSession").getId(),time:Date.now(),tracking:I,view_rect:{view_bottom:((l=(s=n.boundingClientRect)==null?void 0:s.y)!=null?l:0)+((u=(c=n.boundingClientRect)==null?void 0:c.height)!=null?u:0),view_top:(m=(p=n.rootBounds)==null?void 0:p.y)!=null?m:0},viewport_rect:{view_bottom:((_=(f=n.rootBounds)==null?void 0:f.y)!=null?_:0)+((g=(h=n.rootBounds)==null?void 0:h.height)!=null?g:0),view_top:(y=(C=n.rootBounds)==null?void 0:C.y)!=null?y:0},window_rect:{view_bottom:((b=(v=n.intersectionRect)==null?void 0:v.y)!=null?b:0)+((S=(R=n.intersectionRect)==null?void 0:R.height)!=null?S:0),view_top:(L=(E=n.intersectionRect)==null?void 0:E.y)!=null?L:0}};a[e]||(a[e]={}),i==="TWO_M_FIRST_CHANNEL"?a[e].firstChannel=T:a[e].secondChannel=T,r("setTimeout")(function(){d(e,a,I)},1e3)}}function d(e,t,n){if(!(e==null||!t||!t[e])&&!(t[e].lastSent!=null&&t[e].lastSent>Date.now()-6e4)){var a=m(t[e].firstChannel),i=m(t[e].secondChannel),l={old_impression_source:"comet_feed",on_unit_enter_view_stamp:i,on_unit_exit_view_stamp:{scroll_velocity:"0",time:"1234567890",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}},on_unit_impression_view_stamp:a,primary_impression_channel:"intersection_observer",secondary_impression_channel:"scroll_based",session_end_time:"0",session_key:o("WebSession").getId(),session_start_time:Math.min(parseInt(a.time,10),parseInt(i.time,10)).toString(),surface_module:"COMET",tracking:n};r("AuditImpressionChannelSessionFalcoEvent").logImmediately(function(){return l}),t[e].lastSent=Date.now()}}function m(e){return e?{scroll_velocity:"0",time:e.time.toString(),view_rect:{view_bottom:Math.round(e.view_rect.view_bottom).toString(),view_top:Math.round(e.view_rect.view_top).toString()},viewport_rect:{view_bottom:Math.round(e.viewport_rect.view_bottom).toString(),view_top:Math.round(e.viewport_rect.view_top).toString()},window_rect:{view_bottom:Math.round(e.window_rect.view_bottom).toString(),view_top:Math.round(e.window_rect.view_top).toString()}}:{scroll_velocity:"0",time:"0",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}}}l.TwoMSecondChannel=e,l.TwoMFirstChannel=s,l.logPostImpressionForReel=u,l.logChannelData=c}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1936086"),s=o("FalcoLoggerInternal").create("comet_metrics_full_view",e),u=s;l.default=u}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1948176"),s=o("FalcoLoggerInternal").create("comet_metrics_viewability",e),u=s;l.default=u}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1955947"),s=o("FalcoLoggerInternal").create("ghl_swank",e),u=s;l.default=u}),98);
__d("GhlTennisKnobsConfigJSModuleWrapper",["GhlTennisKnobsConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("GhlTennisKnobsConfig")}),98);
__d("PercentVisible",[],(function(t,n,r,o,a,i){var e=-1,l=0,s=50,u=100;i.NO_VISIBLE=e,i.VISIBLE_0_PCT=l,i.VISIBLE_50_PCT=s,i.VISIBLE_100_PCT=u}),66);
__d("ghlInternalBumpODSKey",["ODS"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("ODS"))).bumpEntityKey(2966,"feed_ads",t+"."+n)}l.default=s}),98);
__d("ghlTestUBTFacebook",["ConstUriUtils","FBLogger","GHLBox","Promise","cr:1088657","ghlInternalBumpODSKey","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){var e=o("ConstUriUtils").getUri(t);if(e==null)throw r("FBLogger")("ad_blocker_defense_ghost_owl").mustfixThrow("URI cannot be null in ghlTestUBTFacebook.");return e},u=function(r){return new(e||(e=n("Promise")))(function(e){var t=window.atob,n=document.body;if(t==null||n==null){e(!1);return}var o=document.createElement("div");o.className=r.map(t).join(" "),n.appendChild(o);var a=p(o);if(a&&a.MozBinding&&a.MozBinding.startsWith("url")){setTimeout(function(){return e(o.clientWidth===0)},5e3);return}e((a==null?void 0:a.display)==="none")})},c=function(){return new(e||(e=n("Promise")))(function(e){var t=document.body;if(t==null){e(!1);return}var n=document.createElement("img");n.setAttribute("alt",""),t.appendChild(n),n.onload=function(){var t=p(n);e((t==null?void 0:t.display)==="none"),n.parentNode&&n.parentNode.removeChild(n)},n.onerror=function(){e(!0),n.parentNode&&n.parentNode.removeChild(n)},n.src=s("https://scontent.xx.fbcdn.net/hads-ak-prn2/1487645_6012475414660_1439393861_n.png").toString()})},d=null,m=function(a){d==null&&(h("init"),d=new(e||(e=n("Promise")))(function(t){return r("promiseDone")((e||(e=n("Promise"))).all([u(_),c(),u([f(g)]),o("GHLBox").r()]),function(e){var n=e[0],r=e[1],a=e[2],i=e[3];h("done",n,r,a);var l=n||r||a;l?o("GHLBox").s(Date.now()):o("GHLBox").i(),t([l,i])})})),r("promiseDone")(d,function(e){return a(e[0],e[1])}),n("cr:1088657")&&n("cr:1088657").i()},p=function(t){return window.getComputedStyle(t)},_=["QWRCb3g=","QWQ=","YWR2ZXJ0","cG9zdC1hZHM="],f=function(t){return t[Math.floor(Math.random()*t.length)]},g=["UmVjdGFuZ2xlQWQ=","YWR2ZXJ0aXNpbmdfd2lkZ2V0","ZG93bmxvYWRfbGlua19zcG9uc29yZWQ=","c3BvbnNvclBvc3Q=","d2lkZ2V0U3BvbnNvcnM=","b2ItaG92ZXI=","ZGZwX3VuaXQ="],h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("ghlInternalBumpODSKey")("ghlTestUBT",String(t.join(".")))},y=m;l.default=y}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","react-compiler-runtime","useCometGHLDisplayMonitor","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){var t=o("react-compiler-runtime").c(14),a=e.encryptedToken,i=e.id,l=e.isDisabled,s=e.position,u=e.type,p=l===void 0?!1:l,_=m(!1),f=_[0],g=_[1],h=d(null),y;t[0]!==a||t[1]!==f||t[2]!==s?(y=function(t){if(!(f||a==null)){g(!0),r("GhlSwankFalcoEvent").log(function(){return{hd:String(t),sli:String(s),xt:a}});var e=h.current;e!==null&&(o("CometGHLTracker").m(e),n("cr:1088657")&&n("cr:1088657").b({e:e,hd:t,token:a!=null?a:""}))}},t[0]=a,t[1]=f,t[2]=s,t[3]=y):y=t[3];var C=y,b=r("useCometGHLDisplayMonitor")(!f&&!p,C),v,S;t[4]!==b?(v=function(){h.current=b.current},S=[b],t[4]=b,t[5]=v,t[6]=S):(v=t[5],S=t[6]),c(v,S);var R,L;t[7]!==b?(R=function(){var e=b.current;return(function(){e&&o("CometGHLTracker").d(e)})},L=[b],t[7]=b,t[8]=R,t[9]=L):(R=t[8],L=t[9]),c(R,L);var E;t[10]!==i||t[11]!==s||t[12]!==u?(E=function(t){r("DebugOwl").nest(t,{id:i,location:"FEED",position:s,type:u})},t[10]=i,t[11]=s,t[12]=u,t[13]=E):E=t[13];var k=E;return r("useMergeRefs")(b,k)}var _=p;l.default=_}),98);
__d("useFullViewImpression",["react","react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(7),n=e.onFullViewStart,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1},t[0]=a):a=t[0];var i=c(a),l;t[1]!==n?(l=function(t){var e=t.entry,r=t.isElementVisible;if(!r&&i.current.hasBeenFullyViewed)i.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(r&&!i.current.hasBeenFullyViewed&&(e.intersectionRatio===1?(i.current.bottomRight=!0,i.current.topLeft=!0):(i.current.bottomRight||(i.current.bottomRight=e.boundingClientRect.bottom<=e.rootBounds.bottom&&e.boundingClientRect.right<=e.rootBounds.right),i.current.topLeft||(i.current.topLeft=e.boundingClientRect.top>=e.rootBounds.top&&e.boundingClientRect.left>=e.rootBounds.left)),i.current.bottomRight&&i.current.topLeft))return i.current.hasBeenFullyViewed=!0,n({currentTime:Date.now()})},t[1]=n,t[2]=l):l=t[2];var s=l,u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=function(t){i.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},t[3]=u):u=t[3];var d=u,m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m={thresholdOverride:"EXPENSIVE"},t[4]=m):m=t[4];var p;return t[5]!==s?(p={onHidden:d,onIntersection:s,options:m},t[5]=s,t[6]=p):p=t[6],r("useVisibilityObserver")(p)}l.default=d}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef,d=r("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function m(e,t,n){var a=o("react-compiler-runtime").c(5),i=c(!1),l;a[0]!==t||a[1]!==e?(l=function(o){if(!i.current&&e!=null){i.current=!0;var n=e,a=t,l=r("uuidv4")(),s={csp:a,event_trace_id:l,xt:n};r("CometMetricsFullViewFalcoEvent").log(function(){return{csp:a.toString(),event_trace_id:l,xt:n}}),d.onReady(function(e){e.post("comet_metrics:full_view",s)})}},a[0]=t,a[1]=e,a[2]=l):l=a[2];var s=l,u;return a[3]!==s?(u={onFullViewStart:s},a[3]=s,a[4]=u):u=a[4],r("useFullViewImpression")(u)}l.default=m}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","Comet2ndChannelContext","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometImpressionLoggingUtil","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","randomInt","react","registerSourceForView","reportTopicsForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect,m=s.useRef,p={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},_=5e3;function f(e,t,a,i,l,s){i===void 0&&(i=!1),l===void 0&&(l=null);var f=babelHelpers.extends({},p,a),h=m(null),y=m(null),C=m(null),b=m(!1),v=m(!1),S=(a==null?void 0:a.can_delay_log_impression)===!0,R=r("useMinifiedProductAttribution")();d(function(){r("ghlTestUBT")(function(e){b.current=e})},[]),d(function(){return function(){h.current=null,v.current=!1,C.current=null}},[l]);var L=c(r("CometFeedUnitStatusListPassiveContext")),E=c(r("Comet2ndChannelContext")),k=c(r("CometFeedBrandSafetyContext")),I=c(r("CometFeed5sImpressionDelayContext")),T=c(r("CometFeedAdsProductContext")),D=T.adId,x=T.minGapRule,$=T.minGapType,P=u(function(a){var l=a.entry,u=a.visibleTime;r("DebugOwl").perch(l.target),n("cr:1813330")==null||n("cr:1813330").setNewsFeedStoryPosition(t);var c=function(a,i){var n=Date.now(),l=r("CometTimeSpentNavigation").getPathInfo(),c=o("CometGHLTracker").c(a.target);r("DebugOwl").fly(a.target);var d=t,m=Math.floor(n/1e3),p=n+"_"+(r("randomInt")(0,4294967295)+1),_=c,f=l?l.name:null,h=o("WebSession").getId(),y=a.visiblePercentage,C=e,b=r("uuidv4")(),E=o("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(L,k,t,S),T;{var P;d==null&&r("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",d,b,R),T=(P=d==null?void 0:d.toString())!=null?P:"0"}if(r("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:R,brs:E,csp:T,cts:m.toString(),etid:p,event_trace_id:b,hba:_,isv:"1",me:f,sk:h,vp:y.toString(),xt:C}}),L){var N,M=L();((N=M[d])==null?void 0:N.category)==="SPONSORED"&&I.hasAnyAdImpressionAlreadyBeenLogged===!1&&(I.hasAnyAdImpressionAlreadyBeenLogged=!0,I.firstLoggedAdImpressionStoryPosition=t)}g(E,s,u,t),o("CometAdsProductLogger").logCometAdsProductGapRule({adId:D,csp:T,cts:m.toString(),endPoint:f,getFeedUnitStatusList:L,hba:_,isv:"1",minGapRule:x,minGapType:$,sessionKey:h,tracking:C,vp:y.toString()}),r("registerSourceForView")(null,C),o("reportTopicsForView").reportTopicsForViewMainObserver(s),v.current=!0},d={boundingClientRect:l.boundingClientRect,impressedAt:u,intersectionRect:l.intersectionRect,invisibleReason:null,rootBounds:l.rootBounds,status:"ENTER",target:l.target,visible:!0,visiblePercentage:l.intersectionRatio};if(i&&r("sendImpressionEnterActionValidationData")("impression_api_comet_enter",d,null,{csp:t,pre_rs:h.current,xt:e}),E){var m=E();o("CometImpressionLoggingUtil").logChannelData(D,e,d,m,o("CometImpressionLoggingUtil").TwoMFirstChannel)}if(!(C.current||y.current))if(f.can_delay_log_impression===!0&&(b.current||o("CometGHLTracker").b()||r("gkx")("23488"))){I.hasUserSeenAnyAd===!1&&(I.hasUserSeenAnyAd=!0,I.firstAdStoryPosition=t);var p=r("gkx")("23490"),T=p,P=o("CometGHLTracker").b(),N=!I.hasAnyAdImpressionAlreadyBeenLogged,M=T||P||N?_:0,w;r("gkx")("1718")?w=M:w=_,y.current=r("setTimeout")(function(){c&&c(d,"AD_BLOCKER"),y.current=null},w)}else c&&c(d,v.current?"DEDUP":"ORIGINAL")},[i,f.can_delay_log_impression,t,e,R]),N=u(function(n){var o=n.hiddenReason,a=n.visibleDuration,l=n.visibleTime;i&&r("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:l,invisibleReason:o,visiblePercentage:0},null,{csp:t,duration:a,pre_rs:h.current,xt:e}),h.current=o,!C.current&&(v.current||y.current)&&(C.current=r("setTimeout")(function(){v.current=!1,C.current=null},f.subsequent_gap_in_ms))},[f.subsequent_gap_in_ms,t,e,i]);return r("usePartialViewImpression")({onImpressionEnd:N,onImpressionStart:P})}function g(e,t,n,o){var a=e==null?void 0:e.brs_filter_setting;if(r("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(a,10)>0){var i=e==null?void 0:e.unit_after,l=e==null?void 0:e.unit_before;r("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var e,r,s,u;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(a),adjacent_edges_info:{unit_after:i!=null?{brs_content_label:(e=i.brs_content_label)!=null?e:"",organic_tracking:(r=i.organic_tracking)!=null?r:""}:null,unit_before:l!=null?{brs_content_label:(s=l.brs_content_label)!=null?s:"",organic_tracking:(u=l.organic_tracking)!=null?u:""}:null},client_token:t!=null?t:"",feed_session_id:"",impression_original_timestamp_ms:String(n),slot_position:String(o)}})}}l.default=f}),98);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=e.onIntersection,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={thresholdOverride:"MODERATE"},t[0]=a):a=t[0];var i;return t[1]!==n?(i={onIntersection:n,options:a},t[1]=n,t[2]=i):i=t[2],r("useVisibilityObserver")(i)}l.default=e}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","PercentVisible","react","react-compiler-runtime","useViewabilityImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e,t,n){r("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:e.cumulative.toString(),duration:e.duration.toString(),event_trace_id:t,interval:e.interval.toString(),segment_id:e.segmentid.toString(),start_ts:e.startTs.toString(),view_event_type:e.eventType.toString(),xt:n}})}function m(e,t,n){var a=o("react-compiler-runtime").c(4),i=c(null),l=c(null),s=c(null),u;a[0]!==e?(u=function(n){var t=n.entry,a=n.isElementVisible,u=p,c=function(n){var t=r("uuidv4")(),o={cumulative:n.cumulative,duration:n.duration,event_trace_id:t,eventType:n.eventType,interval:n.interval,segmentid:n.segmentid,startTs:n.startTs,xt:e};d(n,t,e);var a=babelHelpers.extends({},r("Banzai").VITAL,{signal:!1});r("Banzai").post("comet_metrics:viewability",o,a)},m=function(t,n,r){if(r==null)return null;var e=u(t,r);return c(e),null},_=function(t,n,r){var e;return r==null?e={cumulative:0,duration:0,eventType:n,interval:0,segmentid:0,startTs:t}:e=u(t,r),e.segmentid<=2&&c(e),e};a?t.intersectionRatio<.5?(i.current=_(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current),l.current=m(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current),s.current=m(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current)):t.intersectionRatio>=.5&&t.intersectionRatio<1?(i.current=_(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current),l.current=_(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current),s.current=m(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current)):(i.current=_(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current),l.current=_(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current),s.current=_(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current)):(i.current=m(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current),l.current=m(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current),s.current=m(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current))},a[0]=e,a[1]=u):u=a[1];var m=u,_;return a[2]!==m?(_={onIntersection:m},a[2]=m,a[3]=_):_=a[3],r("useViewabilityImpression")(_)}function p(e,t){return{cumulative:e-t.startTs,duration:e-t.startTs,eventType:t.eventType,interval:e-t.cumulative-t.startTs,segmentid:t.segmentid+1,startTs:t.startTs}}l.default=m}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","react-compiler-runtime","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e,t,n){return d}function d(){return null}function m(e){var t=o("react-compiler-runtime").c(41),n=e.clientToken,a=e.clientViewConfig,i=e.contentIdentifier,l=e.disabledViewabilityEventTypes,s=e.encryptedTracking,u=e.interactionSourceOverride,d=e.position,m=e.shouldDisableGHLSurvey,f=e.targetAudioTrack,g=e.viewabilityConfig,h=e.vpvdOptionalData,y=a===void 0?null:a,C=i===void 0?null:i,b=m===void 0?!1:m,v=[],S;t[0]!==l||t[1]!==g?(S=function(t,n){return g&&g.includes(t)&&(!l||!l.includes(t))?n:null},t[0]=l,t[1]=g,t[2]=S):S=t[2];var R=S,L;t[3]!==g?(L=!!g&&g.some(_),t[3]=g,t[4]=L):L=t[4];var E=L,k=r("useStoryObserverImpressionLogger")(s,d,y,E,C,n),I;t[5]!==R||t[6]!==k?(I=R(8,k),t[5]=R,t[6]=k,t[7]=I):I=t[7];var T=I,D=c(s,d,y),x;t[8]!==R||t[9]!==D?(x=R(7,D),t[8]=R,t[9]=D,t[10]=x):x=t[10];var $=x,P=r("useStoryFullViewLogger")(s,d,y),N;t[11]!==R||t[12]!==P?(N=R(2,P),t[11]=R,t[12]=P,t[13]=N):N=t[13];var M=N,w=r("useStoryViewabilityDurationLogger")(s,d,y),A;t[14]!==R||t[15]!==w?(A=R(3,w),t[14]=R,t[15]=w,t[16]=A):A=t[16];var F=A,O;t[17]!==s||t[18]!==u||t[19]!==d||t[20]!==f||t[21]!==h?(O=babelHelpers.extends({},h,{interactionSourceOverride:u,position:d,targetAudioTrack:f,trackable:s}),t[17]=s,t[18]=u,t[19]=d,t[20]=f,t[21]=h,t[22]=O):O=t[22];var B=r("useStoryVPVDLogger")(O),W=B[0],q=B[1];v.push(q);var U;t[23]!==R||t[24]!==W?(U=R(5,W),t[23]=R,t[24]=W,t[25]=U):U=t[25];var V=U,H;t[26]!==y||t[27]!==s||t[28]!==d||t[29]!==b?(H={clientViewConfig:y,encryptedToken:s,isDisabled:b,position:d},t[26]=y,t[27]=s,t[28]=d,t[29]=b,t[30]=H):H=t[30];var G=r("useCometGHLFeedSurvey")(H),z=b?null:G,j;t[31]!==M||t[32]!==T||t[33]!==$||t[34]!==z||t[35]!==F||t[36]!==V?(j=r("mergeRefs")(T,$,M,F,V,z,null),t[31]=M,t[32]=T,t[33]=$,t[34]=z,t[35]=F,t[36]=V,t[37]=j):j=t[37];var K=j,Q=v.map(p),X;return t[38]!==K||t[39]!==Q?(X={debuggingInfoLoggers:Q,ref:K},t[38]=K,t[39]=Q,t[40]=X):X=t[40],X}function p(e,t){return s.jsx("div",{children:e},t)}p.displayName=p.name+" [from "+i.id+"]";function _(e){return e===7}l.default=m}),98);/*FB_PKG_DELIM*/
__d("EBSMWorkerThreadAPI",["EBAPIQPLPoints","EBDeps","I64","LSIntEnum","MAWWaitForBackendSetup","MWEncryptedBackupsFirstRestoreUpsellTime","Promise","QPLFlow","WAResultOrError","WebSession","justknobx","qpl","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c=r("requireDeferred"))("EBAddDeviceWithKeys").__setRef("EBSMWorkerThreadAPI"),m=c("EBAddDeviceWithRecoveryCode").__setRef("EBSMWorkerThreadAPI"),p=c("EBAddVirtualDevice").__setRef("EBSMWorkerThreadAPI"),_=c("EBDeleteBackupsOnClient").__setRef("EBSMWorkerThreadAPI"),f=c("EBDeleteEncryptedBackup").__setRef("EBSMWorkerThreadAPI"),g=c("EBFetchBackupIds").__setRef("EBSMWorkerThreadAPI"),h=c("EBGenerateRecoveryCode").__setRef("EBSMWorkerThreadAPI"),y=c("EBGetEBState").__setRef("EBSMWorkerThreadAPI"),C=c("EBGetLSVirtualDevices").__setRef("EBSMWorkerThreadAPI"),b=c("EBInitializeBackup").__setRef("EBSMWorkerThreadAPI"),v=c("EBIsEbEnabled").__setRef("EBSMWorkerThreadAPI"),S=c("EBOptOut").__setRef("EBSMWorkerThreadAPI"),R=c("EBOtcAddDevice").__setRef("EBSMWorkerThreadAPI"),L=c("EBRepairEpochs").__setRef("EBSMWorkerThreadAPI"),E=c("EBRevokeVirtualDevice").__setRef("EBSMWorkerThreadAPI"),k=c("EBSyncEpochs").__setRef("EBSMWorkerThreadAPI"),I={addDeviceWithEBKeys:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.load().then(function(e){return e.addDeviceWithEBKeys.apply(e,t)})},addDeviceWithRecoveryCode:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(t.length===0||t[0]==null)return(u||(u=n("Promise"))).reject("Missing args");var i=o("QPLFlow").startQPLFlow(r("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:o("EBDeps").getDeps().isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!0}},timeoutInMs:r("justknobx")._("2444")});return m.load().then(function(e){return e.addDeviceWithRecoveryCode(babelHelpers.extends({},t[0],{qplFlow:i}))})},addVirtualDevice:function(t){var e=t.actionType,a=t.recoveryCodeData,i=o("QPLFlow").startQPLFlow(r("qpl")._(521483240,"615"),{annotations:{int:{actionType:e}},timeoutInMs:r("justknobx")._("4211")});return i.addPoint("add_virtual_device_worker_start"),a==null?(i.endFail("add_virtual_device_fail_no_recovery_code_worker"),(u||(u=n("Promise"))).resolve(o("WAResultOrError").makeError("ADD_VIRTUAL_DEVICE_NULL_RECOVERY_CODE_DATA"))):p.load().then(function(t){return t.addVirtualDevice({actionType:e,qplFlow:i,recoveryCodeData:a})})},deleteBackupsOnClient:function(t){var e=t.reason;return _.load().then(function(t){return t.deleteBackupsOnClient({reason:e})})},deleteEncryptedBackup:function(t){var e=t.reason,n=o("QPLFlow").startQPLFlow(r("qpl")._(521484370,"2995"),{timeoutInMs:r("justknobx")._("4553")});return n.addPoint(o("EBAPIQPLPoints").EBDeleteEBQPLPoints.DELETE_EB_WORKER_START),f.load().then(function(t){return t.deleteEncryptedBackup({qplFlow:n,reason:e})})},ebOptOut:function(){var e=o("QPLFlow").startQPLFlow(r("qpl")._(521482558,"2558"),{annotations:{string:{ebSessionIdentifier:o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:o("WebSession").getId()}}});return e.addPoint(o("EBAPIQPLPoints").EBOptOutQPLPoints.OPT_OUT_BACKUP_WORKER_START),S.load().then(function(t){return t.ebOptOut({qplFlow:e})})},fetchBackupIds:function(t){var e=o("QPLFlow").startQPLFlow(r("qpl")._(521471024,"2275"),{annotations:{string:{ebSessionIdentifier:o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:o("WebSession").getId()}}});return e.addPoint("eb_fetch_backup_ids_worker_start"),g.load().then(function(n){return n.fetchBackupIds(t,e)})},generateRecoveryCode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.load().then(function(e){return e.generateRecoveryCode.apply(e,t)})},getEBState:function(){return y.load().then(function(e){return e.GetEbState()})},getLSVirtualDevices:function(t){return C.load().then(function(e){return e.getLSVirtualDevices(t)})},initializeBackup:function(a){var t=a.recoveryCodeData,i=a.virtualDeviceType,l=o("QPLFlow").startQPLFlow(r("qpl")._(521478750,"2850"),{annotations:{int:{virtualDeviceType:(e||(e=o("I64"))).to_int32(i)}},timeoutInMs:r("justknobx")._("4211")});l.addPoint(o("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_WORKER_START);var c=e.equal(i,(s||(s=o("LSIntEnum"))).ofNumber(16));return t==null&&!c?(l.endFail("recoveryCodeData null for non-Automatic EB"),(u||(u=n("Promise"))).resolve(o("WAResultOrError").makeError("recoveryCodeData null for non-Automatic EB"))):b.load().then(function(e){return e.initializeBackup(l,i,t)})},isEbEnabled:function(){return v.load().then(function(e){return e.isEbEnabledEbSwitch()})},optOutOfBackup:function(){return(u||(u=n("Promise"))).resolve()},otcAddDevice:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=o("QPLFlow").startQPLFlow(r("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:o("MAWWaitForBackendSetup").isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!0,isOTC:!0}},timeoutInMs:r("justknobx")._("2444")});return R.load().then(function(e){return e.otcAddDevice(babelHelpers.extends({},t[0],{qplFlow:a}))})},repairEpochs:function(){return L.load().then(function(e){return e.EBRepairEpochs()})},revokeVirtualDevice:function(t){var e=t.virtualDeviceId,n=o("QPLFlow").startQPLFlow(r("qpl")._(521473995,"3294"));return n.addPoint("revoke_virtual_device_worker_start"),E.load().then(function(t){return t.revokeVirtualDevice(e,n)})},syncEpochs:function(){return k.load().then(function(e){return e.EBSyncEpochs()})}},T=I;l.default=T}),98);
__d("EBWorkerODSEntityName.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EB_AUTO_RESTORE_MAIN_THREAD:"mw_eb_auto_restore_main_thread",MW_EB_AUTO_RESTORE_WORKER:"mw_eb_auto_restore_worker",MW_EB_DEVICE_MIGRATION_WORKER:"mw_eb_device_migration_worker",MW_EB_OTC_MAIN_THREAD:"mw_eb_otc_main_thread",EB_WORKER_ADD_DEVICE_WITH_KEYS:"eb_worker_add_device_with_keys",EB_WORKER_ADD_DEVICE_WITH_RC:"eb_worker_add_device_with_rc",EB_WORKER_OPT_OUT:"eb_worker_opt_out"}),l=e;i.default=l}),66);
__d("FalcoAppUniverse",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({FACEBOOK:1,INSTAGRAM:2,OCULUS:3}),l=e;i.default=l}),66);
__d("Queue",[],(function(t,n,r,o,a,i){var e={},l=(function(){function t(e){this._timeout=null,this._interval=(e==null?void 0:e.interval)||0,this._processor=e==null?void 0:e.processor,this._queue=[],this._stopped=!0}var n=t.prototype;return n._dispatch=function(t){var e=this;if(t===void 0&&(t=!1),!(this._stopped||this._queue.length===0)){var n=this._processor;if(n==null)throw this._stopped=!0,new Error("No processor available");var r=this._interval;if(r!=null)n.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return e._dispatch()},r);else for(;this._queue.length;)n.call(this,this._queue.shift())}},n.enqueue=function(t){return this._processor&&!this._stopped?this._processor(t):this._queue.push(t),this},n.start=function(t){return t&&(this._processor=t),this._stopped=!1,this._dispatch(),this},n.isStarted=function(){return!this._stopped},n.dispatch=function(){this._dispatch(!0)},n.stop=function(t){return this._stopped=!0,t&&this._timeout!=null&&clearTimeout(this._timeout),this},n.merge=function(t,n){if(n){var e;(e=this._queue).unshift.apply(e,t._queue)}else{var r;(r=this._queue).push.apply(r,t._queue)}return t._queue=[],this._dispatch(),this},n.getLength=function(){return this._queue.length},t.get=function(r,o){var n;return r in e?n=e[r]:n=e[r]=new t(o),n},t.exists=function(n){return n in e},t.remove=function(n){return delete e[n]},t})();i.default=l}),66);
__d("FalcoLoggerTransports",["AnalyticsCoreData","Banzai","ExecutionEnvironment","FalcoAppUniverse","FalcoUtils","ODS","PersistedQueue","Queue","WebSession","performanceAbsoluteNow","promiseDone","requireDeferredForDisplay","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=r("requireDeferredForDisplay")("TransportSelectingClientSingletonConditional").__setRef("FalcoLoggerTransports"),g=5*1024,h=(e=(m||(m=r("AnalyticsCoreData"))).max_delay_br_queue)!=null?e:60*1e3,y=(s=(m||(m=r("AnalyticsCoreData"))).max_delay_br_queue_immediate)!=null?s:1e3,C=(u=(m||(m=r("AnalyticsCoreData"))).max_delay_br_init_not_complete)!=null?u:1e3,b="falco:",v=new(r("Queue")),S=5e3,R=6e4,L=r("uuidv4")(),E="ods_web_batch",k=new Map,I=new Set,T=new Set,D=o("FalcoUtils").getTaggedBitmap(38),x=(c=r("FalcoAppUniverse").cast((m||(m=r("AnalyticsCoreData"))).app_universe))!=null?c:1,$=[],P=0,N=null,M=!1,w=!1,A=!1,F=!0,O=!1,B=!1,W=Date.now()-R,q=1,U=C>h?C:h,V=C;de();for(var H of(G=(m||(m=r("AnalyticsCoreData"))).stateful_events_list_for_br)!=null?G:[]){var G;I.add(H)}for(var z of(j=(m||(m=r("AnalyticsCoreData"))).stateless_non_fb_events_for_br)!=null?j:[]){var j;T.add(z)}function K(){return(m||(m=r("AnalyticsCoreData"))).enable_bladerunner&&!(_||(_=r("ExecutionEnvironment"))).isInWorker}function Q(e,t){o("FalcoUtils").bumpODSMetrics(t.item.name,"event.info.streaming.batched",1);var n=t.item.extra.length;P+n>g&&(clearTimeout(N),X()),$.push([e,t]),P+=n}function X(){N=null,M=!1;var e=$;re("event.info.streaming.batch_processing",e.map(function(e){return e[1].item})),B?v.enqueue(function(t){return t.log(e.map(function(e){return e[1].item}),function(t){if(!t){Y(e,"event.info.banzai_fallback");return}J(e,t,"event.info.streaming.enqueued")})}):Y(e,"event.non_critical_failure.streaming_init_not_complete"),$=[],P=0}function Y(e,t){var n=function(){var e,n=a[0],i=a[1],l=i.item;if(o("FalcoUtils").bumpODSMetrics(l.name,t,1),l.identity||(l.identity=(m||(m=r("AnalyticsCoreData"))).identity),(e=l.logCritical)!=null&&e)ae.logCritical([l],function(e){return n.markItem(i,e)});else{var s;(s=l.logImmediate)!=null&&s?ae.logImmediately([l],function(e){return n.markItem(i,e)}):ae.log([l],function(e){return n.markItem(i,e)})}};for(var a of e)n()}function J(e,t,n){for(var r of e){var a=r[0],i=r[1];o("FalcoUtils").bumpODSMetrics(i.item.name,n,1),a.markItem(i,t)}}function Z(e){return{events:e.map(function(e){return{name:e.name,extra:e.extra,rate:e.policy.r,time:e.time/1e3,tag:0,tags:e.tags,shouldAddState:e.shouldAddState,identity:te(e.identity),expTags:e.exptTags,sessionID:e.sessionId,deviceID:e.deviceId}})}}function ee(e){var t,n,o,a={deviceId:(m||(m=r("AnalyticsCoreData"))).device_id,familyDeviceId:null,osBuildNumber:null,sessionId:e,appId:m.app_id,appVersion:(t=(m||(m=r("AnalyticsCoreData"))).app_version)!=null?t:null,bundleId:null,consentState:null,identity:null,pushPhase:m.push_phase};return((n=(o=(m||(m=r("AnalyticsCoreData"))).stateful_events_list_for_br)==null?void 0:o.length)!=null?n:0)>0&&(a.ambientState=(m||(m=r("AnalyticsCoreData"))).state_for_br),a.identity=te(m.identity),Object.freeze(a)}function te(e){var t=e==null?void 0:e.claim,n=t!=null?[t]:[];if(x===2||x===3){var r=e==null?void 0:e.appScopedIdentity;if(r!==void 0)return{appScopedIdentity:{uid:r,identifier:r,claims:n}}}else{var o=e==null?void 0:e.fbIdentity;if(o!==void 0)return{facebookIdentity:{actorId:o.actorId,accountId:o.accountId,claims:n}}}return null}function ne(e,t){for(var n of e){var a,i,l,s=(l={},l.e=n.extra,l.r=n.policy.r,l.d=(a=n.deviceId)!=null?a:(m||(m=r("AnalyticsCoreData"))).device_id,l.s=(i=n.sessionId)!=null?i:o("WebSession").getId(),l.t=n.time,l.a=n.appVersion,l);n.privacyContext&&(s.p=n.privacyContext),n.tags!=null&&(s.b=n.tags);var u=n.identity;u&&(s.id=u),r("Banzai").post(b+n.name,s,t)}re("event.uploaded",e)}function re(e,t){for(var n of t)n.name!==E&&o("FalcoUtils").bumpODSMetrics(n.name,e,1)}function oe(e,t){var n="falco.fabric.www."+(m||(m=r("AnalyticsCoreData"))).push_phase;(d||(d=o("ODS"))).bumpEntityKey(1344,n,e,t)}var ae={log:function(t,n){re("event.info.banzai.log.upload_processing",t),ne(t,r("Banzai").BASIC),n(!0)},logImmediately:function(t,n){re("event.info.banzai.log_immediately.upload_processing",t),ne(t,r("Banzai").VITAL),n(!0)},logCritical:function(t,n){re("event.info.banzai.log_critical.upload_processing",t),ne(t,{signal:!0,retry:!0}),n(!0)}};function ie(e){de();var t=le(e,"banzai_data_loss","log"),n=le(e,"banzai_data_loss","logImmediately"),o=le(e,"banzai_data_loss","logCritical"),a=le(e,"bladerunner_data_loss",""),i=le(e,"bladerunner_data_loss","logCritical");if(oe("js.br_data_loss.posted."+e,1),B&&F)try{v.enqueue(function(t){return t.log([a],function(t){if(!t){oe("js.br.transport_failure."+e,1),ae.logCritical([i],function(t){oe("js.br.failure_fallback_success_callback."+e,1)});return}oe("js.br.success_callback."+e,1)})})}catch(t){oe("js.br.error_enqueueing."+e,1),ae.logCritical([i],function(t){oe("js.br.enqueuing_fallback_success_callback."+e,1)})}else F||oe("js.br.failed."+e,1),B||oe("js.br.init_not_complete."+e,1),ae.logCritical([i],function(t){oe("js.br.init_fallback_success_callback."+e,1)});ne([t],r("Banzai").BASIC),ne([n],r("Banzai").VITAL),ne([o],{signal:!0,retry:!0})}function le(e,t,n){return{name:t,time:(p||(p=r("performanceAbsoluteNow")))(),policy:{r:1},extra:JSON.stringify({event_index:e,falco_js_connection_id:L,logging_mode:n,logging_flow_flag:"original_flow"}),appVersion:(m||(m=r("AnalyticsCoreData"))).app_version}}function se(){W+S<Date.now()&&(ie(q),W=Date.now(),q++)}function ue(){window.setTimeout(function(){se(),q<=40&&ue()},R)}function ce(e){v.start(function(t){return t({log:function(n,o){re("event.info.streaming.queue_processing",n);var t=JSON.stringify(Z(n));e?(m||(m=r("AnalyticsCoreData"))).enable_ack?r("promiseDone")(e.amendWithAck(t),function(e){e?(re("event.streamed.with_ack",n),re("event.uploaded",n)):re("event.non_critical_failure.streaming.ack_failed",n),o(e)},function(){re("event.non_critical_failure.streaming.ack_rejected",n),o(!1)}):(e.amendWithoutAck(t),re("event.streamed.without_ack",n),re("event.uploaded",n)):(re("event.non_critical_error.streaming.stream_not_available",n),o(!1))},logImmediately:function(t,n){this.log(t,n)},logCritical:function(t,n){this.log(t,n)}})})}function de(){w||(B=!1,K()&&(f.onReady(function(e){if(!e){F=!1,O=!0,v.start(function(e){return e(ae)});return}var t=e,n,a={onTermination:function(t){t.message==="Stream closed"?(v.stop(!0),w=!1):(o("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.rejected",1),F=!1,v.start(function(e){return e(ae)}))},onFlowStatus:function(){}};r("promiseDone")(t.requestStream({method:"Falco"},JSON.stringify(ee(o("WebSession").getId())),a,{requestId:""}).then(function(e){n=e,ce(n),B=!0,U=h,V=y}).catch(function(e){o("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.failed",1),v.stop(!0),w=!1}))}),w=!0))}function me(e){var t,n=e.name;if(!K()||!F)return!1;if(I.has(n)||e.policy.s!==1&&((t=(m||(m=r("AnalyticsCoreData"))).br_stateful_migration_on)!=null&&t)){var a;return e.shouldAddState=!0,e.tags=o("FalcoUtils").xorBitmap((a=e.tags)!=null?a:[0,0],D),!0}if(x!==1&&(m||(m=r("AnalyticsCoreData"))).enable_non_fb_br_stateless_by_default!==!0&&!T.has(n))return!1;if(e.policy.s===1){var i;return e.tags=o("FalcoUtils").xorBitmap((i=e.tags)!=null?i:[0,0],D),!0}return!1}function pe(e){if(e==="")return null;if(k.has(e))return k.get(e);var t={claim:""},n=e.split("^#");if(n.length>=4){var r=n[0],o=n[1],a=n[2],i=n[3];a!==""?t={appScopedIdentity:a,claim:i}:r!==""&&(t={fbIdentity:{accountId:r,actorId:o},claim:i}),k.set(e,t)}return t}function _e(){if(A)return;A=!0,r("PersistedQueue").setHandler("falco_queue_log",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){me(n.item)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log",1),de(),N==null&&(N=setTimeout(X,U)),i&&!e(a)&&(n.item.identity=i),Q(t,n)):(i?n.item.identity=i:n.item.identity=(m||(m=r("AnalyticsCoreData"))).identity,ae.log([n.item],function(e){return t.markItem(n,e)}))})(n)}),r("PersistedQueue").setHandler("falco_queue_immediately",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){me(n.item)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log_immediately",1),de(),(N==null||!M)&&(clearTimeout(N),N=setTimeout(X,V),M=!0),n.item.logImmediate=!0,i&&!e(a)&&(n.item.identity=i),Q(t,n),r("PersistedQueue").isPersistenceAllowed()||(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.streaming_no_persistence.log_immediately",1),X())):(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.banzai.log_immediately",1),i?n.item.identity=i:n.item.identity=(m||(m=r("AnalyticsCoreData"))).identity,ae.logImmediately([n.item],function(e){return t.markItem(n,e)}))})(n)}),r("PersistedQueue").setHandler("falco_queue_critical",function(t){for(var n,a=t.getQueueNameSuffix(),i=pe(a);n=t.dequeueItem();)(function(n){var l=n.item;me(l)?(o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.streaming.log_critical",1),de(),l.logCritical=!0,B?(i&&!e(a)&&(l.identity=i),v.enqueue(function(e){return e.logCritical([l],function(e){if(!e){l.identity||(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity),Y([[t,n]],"event.info.banzai_fallback.log_critical");return}J([[t,n]],e,"event.uploaded")})})):(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity,Y([[t,n]],"event.non_critical_failure.streaming_init_not_complete.log_critical"))):(i?l.identity=i:l.identity=(m||(m=r("AnalyticsCoreData"))).identity,o("FalcoUtils").bumpODSMetrics(n.item.name,"event.info.upload_method.banzai.log_critical",1),ae.logCritical([l],function(e){return t.markItem(n,e)}))})(n)}),(m||(m=r("AnalyticsCoreData"))).enable_dataloss_timer&&(de(),se(),ue());function e(e){try{var t=o("FalcoUtils").identityToString((m||(m=r("AnalyticsCoreData"))).identity);return e===t}catch(e){return(d||(d=o("ODS"))).bumpEntityKey(1344,"js.br.identity.check","exception.when.comparing.with.current.user.identity",1),!0}}}l.attach=_e}),98);
__d("LSMqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvInitializer","MqttLogger","Random","clearTimeout","qex","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e={initialize:function(t,n,a,i){var e=r("qex")._("2071"),l=e!=null&&e!=="default"?e:null;o("MqttEnv").Env.initialize(r("Random").random,t!=null?t:o("CurrentMessengerUser").isLoggedInNow,r("clearTimeout"),r("setTimeoutAcrossTransitions"),function(){return r("MqttLogger").getInstance(l)},function(e){return n!=null&&n[e]!=null?n[e]:r("MqttEnvInitializer").genGk(e)},null,null,null,a!=null?a:o("MqttEnvConfigStorage").configRead,i!=null?i:o("MqttEnvConfigStorage").configWrite)}},s=e;l.default=s}),98);
__d("LSMqttChannel",["FBLogger","LSMqttEnvInitializer","MqttChannel","MqttConfig","WAResolvable"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a,i,l){return r("LSMqttEnvInitializer").initialize(t,n,o,a),(i==null||i===r("MqttConfig").appID)&&r("FBLogger")("S521050_debug_logging").warn("Constructing an MQTT client without a specified App ID."),new(r("MqttChannel"))({appId:i!=null?i:r("MqttConfig").appID,capabilities:r("MqttConfig").capabilities,chatVisibility:r("MqttConfig").chatVisibility,clientCapabilities:r("MqttConfig").clientCapabilities,deviceId:e,endpoint:r("MqttConfig").endpoint,guestAuthString:l,initialSubscribedTopics:r("MqttConfig").subscribedTopics,phpOverride:r("MqttConfig").hostNameOverride,pollingEndpoint:r("MqttConfig").pollingEndpoint,userFbid:r("MqttConfig").fbid})}var s=null,u=new(o("WAResolvable")).Resolvable;function c(t,n,r,o,a,i,l){if(s==null){var c=e(t,n,r,o,a,i,l);return s=c,u.resolve(c),c}else return s}function d(){s!=null&&(s.shutdown(),s=null,u=new(o("WAResolvable")).Resolvable)}function m(){return u.promise}var p={getInstance:c,getMqttChannelPromise:m,shutdownAndClear:d};l.default=p}),98);
__d("MAWCatQuery.graphql",["cr:11203"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:11203")}),34);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("MAWCatQuery.graphql"),u=s;l.default=u}),98);
__d("MAWCatQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29559957360285299"}),null);
__d("MAWCatQuery.facebook.graphql",["MAWCatQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:e},params:{id:n("MAWCatQuery_facebookRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MAWCryptoAuthToken",["FBLogger","MAWCatQuery","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null||e.secure_message_over_wa_cat_query==null||e.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||e.secure_message_over_wa_cat_query.expiration_time_in_seconds==null){var t,n;return r("FBLogger")("maw_device_reg").warn("Crypto Auth Token was null or incomplete %s:%s:%s:%s",e==null,(e==null?void 0:e.secure_message_over_wa_cat_query)==null,(e==null||(t=e.secure_message_over_wa_cat_query)==null?void 0:t.encrypted_serialized_cat)==null,e==null||(n=e.secure_message_over_wa_cat_query)==null?void 0:n.expiration_time_in_seconds),{error:"Crypto Auth Token was null or incomplete"}}return{success:{encrypted_serialized_cat:e.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:e.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function s(t){return o("relay-runtime").fetchQuery(t,r("MAWCatQuery"),{}).toPromise().then(e).then(function(e){if(e.error!==null&&e.error!==void 0)throw r("FBLogger")("maw_device_reg").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",e.error);return e.success})}l.processCatResponse=e,l.fetchFreshCAT=s}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case 1:return;case 3:r("MAWEBSwitch").set(!0);return;case 2:case 4:default:r("MAWEBSwitch").set(!1);return}}function s(e){return e===4||e===3}l.setEncryptedBackupsState=e,l.eligibleForEBUX=s}),98);
__d("MAWStateManagerSyncToMainThread",["FBLogger","MAWBridge","WACommsConnectionState"],(function(t,n,r,o,a,i,l){"use strict";var e={WACommsConnectionState:o("WACommsConnectionState").WACommsConnectionState};function s(){var t=function(n){var t=e[n];d(n,t.get()),t.onSet(function(e){d(n,e)})};for(var n of Object.keys(e))t(n)}function u(t,n){var o=e[t];if(o==null){r("FBLogger")("messenger_e2ee_web").warn("Unable to find GenericStateManager for key %s",t);return}o.set(n)}function c(){for(var t of Object.keys(e)){var n=e[t];d(t,n.get())}}function d(e,t){o("MAWBridge").getBridge().fireAndForget("event","updateStateManagerStateInMainThread",{stateManagerKey:e,value:t})}l.subscribeAndSyncStateManagerValuesToMainThread=s,l.updateStateManagerInMainThreadFromBridgeCall=u,l.resendCurrentValuesToMainThread=c}),98);
__d("MWPExecuteTaskBridge",["FBLogger","QuickPerformanceLogger","cr:6551"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,o,a){var i=o.event,l=o.taskID;if((e||(e=r("QuickPerformanceLogger"))).markerPoint(i,"execute_task_through_bridge",{instanceKey:l}),n("cr:6551")==null||n("cr:6551")[a]==null)throw(e||(e=r("QuickPerformanceLogger"))).markerPoint(i,"handler_not_found",{instanceKey:l}),r("FBLogger")("messenger_web").mustfixThrow("[LS] No bridge task handler found for %s",a);return e.markerPoint(i,"bridge_api_call",{instanceKey:l}),n("cr:6551")[a](t,o)}l.executeTask=s}),98);
__d("MWPHandleNativeTask",["FBLogger","I64","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueue2","LSJson","MWPExecuteTaskBridge","QuickPerformanceLogger","ReQL","getErrorSafe","isNativeTask","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n,a){var l=n.queue_name,u=r("qpl")._(164763515,"1216"),d=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.pending_tasks.index("queueNameTaskId")).getKeyRange(l).filter(r("isNativeTask")));if(d==null){(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"fetch_pending_task_failed"),r("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: Error cannot find a pending task for queue: %s",l);return}if(!r("isNativeTask")(d)){(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"non_native_task_found"),r("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: Non-Native tasks should not be handled by MWPHandleNativeTask.",l);return}var m=(e||(e=o("I64"))).to_float(d==null?void 0:d.taskId);(s||(s=r("QuickPerformanceLogger"))).markerStart(u,m),s.markerAnnotate(u,{string:{source:"MWPHandleNativeTask_handleTask"}},{instanceKey:m}),s.markerPoint(u,"fetch_pending_task",{instanceKey:m});var p;try{(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"parse_task",{instanceKey:m}),p=c(d)}catch(t){(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"parse_task_failed",{instanceKey:m}),r("FBLogger")("messenger_web").catching(r("getErrorSafe")(t)).warn("Error parsing native task payload with pluginType %s and transportKey %s for queue: %s",(e||(e=o("I64"))).to_string(d.pluginType),d.transportKey,l);return}var _=d.context;try{(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"task_execute",{instanceKey:m}),s.markerAnnotate(u,{string:{source:"MWPHandleNativeTask_handleTask",task:JSON.stringify(d),taskName:_}},{instanceKey:m}),await o("MWPExecuteTaskBridge").executeTask(p,{actorID:a,event:u,source:"MWPHandleNativeTask_handleTask",taskID:(e||(e=o("I64"))).to_float(d.taskId)},_),s.markerPoint(u,"task_execute_success",{instanceKey:m}),await t.runInTransaction(async function(e){return await r("LSHandleTaskSendSuccessForQueue2")(e,l),e.pending_tasks.delete(d.taskId)},"readwrite","background",void 0,i.id+":126"),s.markerEnd(u,2,m)}catch(e){(s||(s=r("QuickPerformanceLogger"))).markerPoint(u,"task_execute_failed",{instanceKey:m}),s.markerEnd(u,3,m),r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).mustfix("Error handling native task for %s.",d==null?void 0:d.context);try{await t.runInTransaction(function(e){return r("LSHandleTaskSendFailureForQueue2")(e,l)},"readwrite",void 0,void 0,i.id+":152")}catch(e){r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).mustfix("Error bumping failure cound for task")}}}function c(e){if(e.taskValue==null)throw r("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: task value is null, nothing to parse");try{var t=e.taskValue!==""?o("LSJson").parse(e.taskValue):"";return t}catch(t){throw r("FBLogger")("messenger_web").catching(r("getErrorSafe")(t)).mustfix("[LS] Error parsing native task payload for queue: %s, falling back to null payload",e.queueName)}}var d={handleLSWork:u};l.default=d}),98);
__d("TransportSelectingClientSingletonConditional",["cr:710"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:710")}),98);
__d("WADynamicRouterSync",["ExecutionEnvironment","Promise","WALogger","WAMapWithDefault","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=["toLastActiveClient"],d,m;function p(e,t){if(e!=null){var n=e.toLastActiveClient,r=babelHelpers.objectWithoutPropertiesLoose(e,c);if(n===!0&&t!=null){var o;return babelHelpers.extends({},r,{toClientId:(o=r.toClientId)!=null?o:t})}return r}}var _=(function(){function t(){var e=this;this.$2=new Map,this.$4=new(o("WAMapWithDefault")).MapWithDefault(function(){return new Set}),this.$5=null,this.fireAndForget=function(t,n,r,o,a,i){o===void 0&&(o=!1),e.$3==null||e.$3(t,n,r),e.$4.get(t).add({route:n,arg:r,resolver:null,silentLog:o,eventCallbacks:a,opts:p(i,e.$5)}),e.$6(t,n)},this.sendAndReceive=function(t,r,o,a,i,l){return a===void 0&&(a=!1),new(m||(m=n("Promise")))(function(n){e.$3==null||e.$3(t,r,o),e.$4.get(t).add({route:r,arg:o,resolver:function(t){n(t)},silentLog:a,eventCallbacks:i,opts:p(l,e.$5)}),e.$6(t,r)})}}var a=t.prototype;return a.setAckPayload=function(t){this.$1=t},a.getAckPayoad=function(){return this.$1},a.hasHandlerForNamespace=function(t){return this.$2.has(t)},a.getHandledNamespaces=function(){return Array.from(this.$2.keys())},a.setOnRouteCalled=function(t){this.$3=t},a.setNamespaceHandler=function(t,n){var e=this.$2,r=e.get(t);r!==n&&(e.set(t,n),r==null&&this.$6(t))},a.$7=function(r,a){var t=r.route,i=r.arg,l=r.resolver,s=r.silentLog,u=r.eventCallbacks,c=r.opts;try{var d;this.$5=(d=c==null?void 0:c.fromClientId)!=null?d:this.$5,a(t,i,l,s,u,c)}catch(t){l==null||l((m||(m=n("Promise"))).reject(t)),o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Bridge handler: ",""])),t)}},a.$6=function(t,n){var e=this,a=this.$4.get(t),i=this.$2.get(t);if(i==null){var l=(d||(d=r("ExecutionEnvironment"))).isInWorker?"worker":"main-thread";o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["No handler for bridge with namespace: "," route: "," called in environment: ",""])),t,n,l);return}a.forEach(function(t){a.delete(t),e.$7(t,i)})},a.setHandlers=function(t,n){function e(e,a,i,l,s,c){if(n[e]==null)throw o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""])),e,t),r("err")(e+" is not defined for "+t);var d=n[e](a,c);i&&i(d)}this.setNamespaceHandler(t,e)},t})();l.normaliseHandlerOptions=p,l.DynamicRouterSync=_}),98);/*FB_PKG_DELIM*/
__d("VirtualizationConfig",[],(function(t,n,r,o,a,i){"use strict";var e={isVisible:!0,nodeHeight:null},l=4e3,s=0,u=!1;i.DEFAULT_INIT_RENDER_CONFIG=e,i.VERTICAL_HIDEABLE_MARGIN=l,i.HORIZONTAL_HIDEABLE_MARGIN=s,i.IS_INTERSECTION_MARGIN_SUPPORTED=u}),66);
__d("VirtualizationContainerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=s.createContext();l.default=u}),98);
__d("useWeightedScrollSpeedRef.react",["VirtualizationContainerContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=10,m=typeof WeakMap=="function"?WeakMap:Map,p=new m,_=new m;function f(e){var t,n;e===void 0&&(e=null);var o=u(r("VirtualizationContainerContext")),a=typeof e=="function"?e():o==null||(t=o.rootElementRef)==null?void 0:t.current,i=a!=null?a:window,l=(n=_.get(i))!=null?n:{lastScrollY:0,lastTime:Date.now(),speedHistory:[],weightedSpeed:0};return _.set(i,l),c(function(){if(!p.has(i)){var e=function(){var e,t=l.lastScrollY,n=l.lastTime,r=l.speedHistory,o=(e=i===window?window.scrollY:a==null?void 0:a.scrollTop)!=null?e:0,s=Date.now(),u=o-t,c=s-n;if(c>0&&u>0&&c>0){var m=Math.abs(u/(c/1e3));r.push({speed:m}),r.length>d&&r.shift()}l.lastScrollY=o,l.lastTime=s;var p=0,_=0;r.forEach(function(e,t){var n=e.speed,r=t+1;p+=n*r,_+=r}),l.weightedSpeed=_>0?p/_:0};i.addEventListener("scroll",e),p.set(i,{handleScroll:e,subscribers:0})}var t=p.get(i);return t&&t.subscribers++,function(){t&&--t.subscribers===0&&(i.removeEventListener("scroll",t.handleScroll),p.delete(i),_.delete(i))}},[i,l,a]),l}l.default=f}),98);
__d("useDynamicVirtualizationMargin.react",["ExecutionEnvironment","VirtualizationContainerContext","justknobx","react","react-compiler-runtime","useDebouncedComet","useWeightedScrollSpeedRef.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useContext,d=u.useEffect,m=u.useRef,p=u.useState,_=r("justknobx")._("3655")/10,f=r("justknobx")._("3656"),g=r("justknobx")._("3657"),h=r("justknobx")._("3658"),y=r("justknobx")._("3659");function C(e,t){return e.bottom===t.bottom&&e.left===t.left&&e.right===t.right&&e.top===t.top}function b(t,n,a,i,l){var s=o("react-compiler-runtime").c(19),u=t===void 0?!1:t,b=i===void 0?!1:i,v=l===void 0?null:l,S;s[0]!==n||s[1]!==a?(S={bottom:a,left:n,right:n,top:a},s[0]=n,s[1]=a,s[2]=S):S=s[2];var R=p(S),L=R[0],E=R[1],k=m(0),I=r("useWeightedScrollSpeedRef.react")(v),T=c(r("VirtualizationContainerContext")),D;s[3]!==a||s[4]!==u||s[5]!==b||s[6]!==I?(D=function(t){if(u){var e=t(),n=e>k.current;k.current=e,E(function(e){var t=window.innerHeight,r=I.weightedSpeed,o=r===0?1:r/y,i=h*o,l=b?1:_,s=b?_:1,u=Math.min(a*l,t),c=Math.min(a*s,t),d=t/g,m;return n?m=babelHelpers.extends({},e,{bottom:Math.min(c,e.bottom+i),top:Math.min(u,Math.max(d,e.top-i))}):m=babelHelpers.extends({},e,{bottom:Math.min(c,Math.max(d,e.bottom-i)),top:Math.min(u,e.top+i)}),C(e,m)?e:m})}},s[3]=a,s[4]=u,s[5]=b,s[6]=I,s[7]=D):D=s[7];var x=D,$;s[8]===Symbol.for("react.memo_cache_sentinel")?($={wait:f},s[8]=$):$=s[8];var P=r("useDebouncedComet")(x,$),N;s[9]!==P||s[10]!==u||s[11]!==v||s[12]!==(T==null?void 0:T.rootElementRef)?(N=function(){if(u){var t=typeof v=="function"?v():T==null?void 0:T.rootElementRef.current,n=!t,o=n?window:t;if(!(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||typeof window=="undefined")){var a=function(){var e=n?window.scrollY:t==null?void 0:t.scrollTop;return e!=null?e:0},i=function(){P(a)};return o==null||o.addEventListener("scroll",i,{passive:!0}),(function(){o==null||o.removeEventListener("scroll",i)})}}},s[9]=P,s[10]=u,s[11]=v,s[12]=T==null?void 0:T.rootElementRef,s[13]=N):N=s[13];var M=T==null?void 0:T.rootElementRef,w;return s[14]!==P||s[15]!==u||s[16]!==v||s[17]!==M?(w=[v,M,P,u],s[14]=P,s[15]=u,s[16]=v,s[17]=M,s[18]=w):w=s[18],d(N,w),L}l.default=b}),98);
__d("MutationObserver",[],(function(t,n,r,o,a,i){var e,l,s=(function(){function e(e){}var t=e.prototype;return t.observe=function(t,n){},t.disconnect=function(){},t.takeRecords=function(){return[]},e})(),u=(e=(l=t.MutationObserver)!=null?l:t.WebKitMutationObserver)!=null?e:s,c=u;i.default=c}),66);
__d("useMutationObserver",["MutationObserver","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e,t){var n=c({observer:null,callback:e}),o=c(null),a=c({element:null,options:null,observer:null}),i=u(function(){var e=a.current,r=e.observer,i=e.element,l=e.options,s=n.current.observer,u=o.current;(i!=u||t!=l||s!=r)&&(r&&r.disconnect(),s&&u&&s.observe(u,t),a.current={observer:s,element:u,options:t})},[t]);return(n.current.observer==null||n.current.callback!==e)&&(n.current.observer!=null&&n.current.observer.disconnect(),n.current={observer:new(r("MutationObserver"))(e),callback:e}),i(),u(function(e){o.current=e,i()},[i])}l.default=d}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t){var n=[];return e.forEach(function(e){e instanceof HTMLElement&&(e.matches(t)&&n.push(e),n.push.apply(n,Array.from(e.querySelectorAll(t))))}),n}function _(e,t,n,r){r===void 0&&(r=!1);var o=p(t,n);return o.length===0?e:r?new Set([].concat(Array.from(e).filter(function(e){return!o.includes(e)}))):new Set([].concat(Array.from(e),o))}var f={childList:!0,subtree:!0};function g(e,t,n){var o=m(!0),a=o[0],i=o[1],l=d(),s=d(new Set),p=r("useMutationObserver")(function(t){t.forEach(function(e){if(e.type==="childList"){var t=e.addedNodes,r=e.removedNodes;n!=null&&(s.current=_(_(s.current,t,n,!1),r,n,!0))}}),g(e)},f),g=u(function(e){l.current!=null&&window.clearTimeout(l.current),l.current=window.setTimeout(function(){s.current.size>0?g(e):(i(!0),p(null))},e)},[p]);return c(function(){return e>0?(p(t.current!=null?t.current:null),i(!1)):p(null),function(){l.current!=null&&window.clearTimeout(l.current),p(null)}},[e,p,t]),a}l.default=g}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e){var t=o("react-compiler-runtime").c(2),n=d(e<=0),r=n[0],a=n[1],i=c(e),l=c(!1),s,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=function(){var e=window.setTimeout(function(){l.current||(l.current=!0,a(!0))},i.current);return(function(){window.clearTimeout(e)})},m=[],t[0]=s,t[1]=m):(s=t[0],m=t[1]),u(s,m),r}l.default=m}),98);
__d("useVirtualizationContext",["VirtualizationContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useMemo,m=s.useRef;function p(){var e=o("react-compiler-runtime").c(11),t=c(r("VirtualizationContext")),n=m(0),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Set,e[0]=a):a=e[0];var i=m(a),l=m(!1),s=m(null);if(s.current==null){var u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=new Map,e[1]=u):u=e[1],s.current=u}var d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=function(t){var e;n.current=n.current+1;var r=n.current;return(e=s.current)==null||e.set(r,t),(function(){var e;(e=s.current)==null||e.delete(r)})},e[2]=d):d=e[2];var p=d,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(_=function(){return s.current==null?!1:s.current.size>0},e[3]=_):_=e[3];var f=_,g=m(null);if(g.current==null){var h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=new Map,e[4]=h):h=e[4],g.current=h}var y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=function(t,r){n.current=n.current+1;var e=n.current,o=null,a=g.current;if(a!=null){var i;a.has(t)||a.set(t,new Map),o=a.get(t),(i=o)==null||i.set(e,r)}return(function(){var n,r;(n=o)==null||n.delete(e),((r=o)==null?void 0:r.size)===0&&(a==null||a.delete(t))})},e[5]=y):y=e[5];var C=y,b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=function(t){var e,n;return(e=(n=g.current)==null?void 0:n.has(t))!=null?e:!1},e[6]=b):b=e[6];var v=b,S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=function(t){return i.current.add(t),t(l.current),(function(){i.current.delete(t)})},e[7]=S):S=e[7];var R=S,L;e[8]===Symbol.for("react.memo_cache_sentinel")?(L=function(t){l.current=t,i.current.forEach(function(e){e(t)})},e[8]=L):L=e[8];var E=L,k=m(null),I;e[9]!==t?(I=t!=null?t:{contentWrapperRef:k,createFlag:C,createPin:p,hasFlag:v,hasPin:f,onVirtualizationChange:E,subscribeToVirtualizationStatus:R},e[9]=t,e[10]=I):I=e[10];var T=I;return T}l.default=p}),98);
__d("CometVirtualization.react",["BaseView.react","BaseViewHideable.react","FBLogger","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","react-compiler-runtime","stylex","useDynamicVirtualizationMargin.react","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.unstable_Activity,m=c.useCallback,p=c.useContext,_=c.useEffect,f=c.useRef,g=c.useState,h=(function(){var e=null;return function(){if(e===null){var t,n=(t=document)==null?void 0:t.documentElement;if(n==null)throw r("FBLogger")("comet_infra").mustfixThrow("Scroll anchoring feature detection called in an environment without a documentElement");e=n.style.overflowAnchor!=null}return e}})();function y(e,t){var n=o("react-compiler-runtime").c(3),r=e===void 0?null:e,a=t===void 0?!1:t,i=g(r),l=i[0],s=i[1],u,c;return n[0]!==l?(u=function(){l===null&&s(C)},c=[l],n[0]=l,n[1]=u,n[2]=c):(u=n[1],c=n[2]),_(u,c),a||(l!=null?l:!1)}function C(){return h()}var b={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},v=r("justknobx")._("1003");function S(e){return typeof e.replace=="function"?e.replace(/\n/g," ").replace(/\s+/g," "):""}function R(){return typeof IntersectionObserver!="function"||typeof IntersectionObserver.toString!="function"?!1:S(IntersectionObserver.toString()).endsWith("{ [native code] }")}var L=R();function E(t){var n=arguments,a,i=o("react-compiler-runtime").c(104),l=t.activityOnlyMode,s=t.allowVirtualizationWithNullNodeHeight,c=t.children,m=t.deferVirtualizationInMs,h=t.deferVirtualizationMutationIntervalInMs,C=t.deferVirtualizationPlaceholderSelector,S=t.delayHeightPlaceholderMs,R=t.disableHiding,E=t.fasterSizeMeasurement,k=t.hiddenMode,I=t.initialRenderConfig,T=t.innerContentXStyle,D=t.isInfiniteScrollUp,x=t.leftRightMargin,$=t.mountXStyle,P=t.nullState,N=t.pinChildrenOnInteraction,M=t.pinChildrenWithPlayer,w=t.ref,A=t.scrollport,F=t.skipScrollAnchoringCheck_UNSAFE,O=t.smartMargin,B=t.testid,W=t.textSearchable,q=t.topBottomMargin,U=t.unmountHiddenChildren,V=t.unmountXStyle,H=t.xstyle,G=l===void 0?!1:l,z=s===void 0?!1:s,j=m===void 0?0:m,K=h===void 0?0:h,Q=S===void 0?0:S,X=E===void 0?!1:E,Y=k===void 0?"legacy":k,J=I===void 0?o("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:I,Z=D===void 0?!1:D,ee=x===void 0?o("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:x,te=P===void 0?null:P,ne=A===void 0?null:A,re=F===void 0?!1:F,oe=O===void 0?!1:O,ae=B===void 0?"hideable":B,ie=W===void 0?!1:W,le=q===void 0?o("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:q,se=f(null),ue=f(null),ce=p(r("HiddenSubtreePassiveContext")),de=g(!1),me=de[0],pe=de[1],_e=f(!0),fe=g(J.isVisible),ge=fe[0],he=fe[1],ye=g(J.nodeHeight),Ce=ye[0],be=ye[1],ve=g(""),Se=ve[0],Re=ve[1],Le=r("usePrevious")(ge),Ee=r("useTimeoutStateSinceFirstMounting.react")(j),ke=r("useVirtualizationContext")(),Ie=p(r("VirtualizationContainerContext")),Te=f(null),De=$!=null?$:H,xe=V!=null?V:H,$e;i[0]!==X||i[1]!==ge||i[2]!==Ce||i[3]!==ie?($e=function(){var e=_e.current||Ce==null&&!ge;if(ue.current!=null&&e){if(X||be(ue.current.getBoundingClientRect().height),ie){var t,n;Re((t=(n=ue.current)==null||(n=n.innerText)==null?void 0:n.trim())!=null?t:"")}window.clearTimeout(Te.current)}},i[0]=X,i[1]=ge,i[2]=Ce,i[3]=ie,i[4]=$e):$e=i[4];var Pe;i[5]!==X||i[6]!==ge||i[7]!==Ce||i[8]!==ie||i[9]!==Le?(Pe=[X,ge,Ce,Le,ie],i[5]=X,i[6]=ge,i[7]=Ce,i[8]=ie,i[9]=Le,i[10]=Pe):Pe=i[10],_($e,Pe);var Ne=Q!=null&&Q>0,Me;i[11]!==Q||i[12]!==X||i[13]!==ce||i[14]!==Ne||i[15]!==ie?(Me=function(t){r("nullIntersectionObserverEntryLogger")(t,"IntersectionObserverEntry is null. num_arguments="+n.length);var e=ce.getCurrentState().hiddenOrBackgrounded_FIXME;if(r("intersectionObserverEntryIsIntersecting")(t))Ne?Te.current=window.setTimeout(function(){be(null)},Q):(window.clearTimeout(Te.current),be(null)),he(!0);else if(!e){var o,a=X?(o=t==null?void 0:t.boundingClientRect)!=null?o:{}:t.target.getBoundingClientRect(),i=a.height,l=a.width;if(i>0&&l>0&&(he(!1),X&&be(i),Ne&&(window.clearTimeout(Te.current),be(i),ie))){var s,u;Re((s=(u=se.current)==null||(u=u.innerText)==null?void 0:u.trim())!=null?s:"")}}},i[11]=Q,i[12]=X,i[13]=ce,i[14]=Ne,i[15]=ie,i[16]=Me):Me=i[16];var we=Me,Ae=r("useMutationStableChecker")(K,ue,C),Fe,Oe;i[17]===Symbol.for("react.memo_cache_sentinel")?(Fe=function(){_e.current&&(_e.current=!1)},Oe=[],i[17]=Fe,i[18]=Oe):(Fe=i[17],Oe=i[18]),_(Fe,Oe);var Be;i[19]!==ee||i[20]!==le?(Be={bottom:le,left:ee,right:ee,top:le},i[19]=ee,i[20]=le,i[21]=Be):Be=i[21];var We=Be,qe=r("useDynamicVirtualizationMargin.react")(oe,ee,le,Z,ne),Ue=oe?qe:We,Ve;i[22]!==ne||i[23]!==(Ie==null?void 0:Ie.rootElementRef)?(Ve=function(){var e=ne!=null?ne==null?void 0:ne():Ie==null?void 0:Ie.rootElementRef.current;return e instanceof Element?e:null},i[22]=ne,i[23]=Ie==null?void 0:Ie.rootElementRef,i[24]=Ve):Ve=i[24];var He=Ve,Ge,ze;i[25]!==Ue?(Ge=babelHelpers.extends({},Ue),ze=babelHelpers.extends({},Ue),i[25]=Ue,i[26]=Ge,i[27]=ze):(Ge=i[26],ze=i[27]);var je;i[28]!==Ge||i[29]!==ze||i[30]!==He?(je={root:He,rootMargin:Ge,scrollMargin:ze,threshold:0},i[28]=Ge,i[29]=ze,i[30]=He,i[31]=je):je=i[31];var Ke=r("useIntersectionObserver")(we,je),Qe=p(r("VirtualizationContext")),Xe=r("useMergeRefs")(Qe==null?ke.contentWrapperRef:null,Ke,se,w),Ye;e:{if(!me&&Ce!==null&&(!z||Ce!=null&&Ce>0)&&U!==!1&&(Ne||!ge)){var Je;i[32]!==Ce?(Je={minHeight:Ce},i[32]=Ce,i[33]=Je):Je=i[33],Ye=Je;break e}Ye=void 0}var Ze=Ye,et=!ge&&(Ce!=null||z===!0),tt=y((a=J.hasScrollAnchoring)!=null?a:null,re),nt=v&&tt,rt=nt?Xe:w;if(r("gkx")("22947")){var ot;i[34]===Symbol.for("react.memo_cache_sentinel")?(ot={className:"x78zum5 xdt5ytf"},i[34]=ot):ot=i[34];var at;return i[35]!==c?(at=u.jsx("div",babelHelpers.extends({},ot,{children:u.jsx(r("BaseView.react"),{children:c})})),i[35]=c,i[36]=at):at=i[36],at}var it;i[37]!==N?(it=function(){N===!0&&pe(!0)},i[37]=N,i[38]=it):it=i[38];var lt=it,st;i[39]!==M||i[40]!==ke?(st=(M!=null?M:!1)&&ke.hasFlag("HAS_PLAYER"),i[39]=M,i[40]=ke,i[41]=st):st=i[41];var ut=st,ct;i[42]!==nt||i[43]!==Ee||i[44]!==ut||i[45]!==et||i[46]!==Ae||i[47]!==me||i[48]!==U||i[49]!==ke?(ct=L&&nt&&U===!0&&et&&!me&&!ke.hasPin()&&!ut&&Ee&&Ae,i[42]=nt,i[43]=Ee,i[44]=ut,i[45]=et,i[46]=Ae,i[47]=me,i[48]=U,i[49]=ke,i[50]=ct):ct=i[50];var dt=ct;ke.onVirtualizationChange(dt);var mt=nt&&!(R!=null&&R)&&et&&Y!=="none",pt=ie&&Se!=="";if(G){var _t;i[51]!==De||i[52]!==dt||i[53]!==xe?(_t=(e||(e=r("stylex")))(b.resetBlockFormattingContext,dt?xe:De),i[51]=De,i[52]=dt,i[53]=xe,i[54]=_t):_t=i[54];var ft;i[55]!==pt||i[56]!==Se?(ft=pt?u.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:Se}):null,i[55]=pt,i[56]=Se,i[57]=ft):ft=i[57];var gt;i[58]!==T?(gt=(e||(e=r("stylex")))(T),i[58]=T,i[59]=gt):gt=i[59];var ht=dt?"hidden":"visible",yt;i[60]!==c||i[61]!==ht?(yt=u.jsx(d,{mode:ht,children:c}),i[60]=c,i[61]=ht,i[62]=yt):yt=i[62];var Ct;i[63]!==gt||i[64]!==yt?(Ct=u.jsx("div",{className:gt,ref:ue,children:yt}),i[63]=gt,i[64]=yt,i[65]=Ct):Ct=i[65];var bt;i[66]!==lt||i[67]!==Ze||i[68]!==rt||i[69]!==dt||i[70]!==_t||i[71]!==ft||i[72]!==Ct||i[73]!==ae?(bt=u.jsxs("div",{className:_t,"data-testid":void 0,"data-virtualized":dt,onClickCapture:lt,onFocusCapture:lt,onKeyPressCapture:lt,ref:rt,style:Ze,children:[ft,Ct]}),i[66]=lt,i[67]=Ze,i[68]=rt,i[69]=dt,i[70]=_t,i[71]=ft,i[72]=Ct,i[73]=ae,i[74]=bt):bt=i[74];var vt;return i[75]!==bt||i[76]!==ke?(vt=u.jsx(r("VirtualizationContext").Provider,{value:ke,children:bt}),i[75]=bt,i[76]=ke,i[77]=vt):vt=i[77],vt}var St;i[78]!==De||i[79]!==dt||i[80]!==xe?(St=(e||(e=r("stylex")))(b.resetBlockFormattingContext,dt?xe:De),i[78]=De,i[79]=dt,i[80]=xe,i[81]=St):St=i[81];var Rt;i[82]!==pt||i[83]!==Se?(Rt=pt?u.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:Se}):null,i[82]=pt,i[83]=Se,i[84]=Rt):Rt=i[84];var Lt;i[85]!==c||i[86]!==Y||i[87]!==T||i[88]!==mt||i[89]!==te||i[90]!==dt?(Lt=Y==="legacy"?u.jsx(r("BaseViewHideable.react"),{hidden:mt,ref:ue,xstyle:[T,mt&&b.invisible],children:dt?null:u.jsx(r("HiddenSubtreeContextProvider.react"),{isHidden:mt,children:c})}):u.jsx("div",{className:(e||(e=r("stylex")))(T),ref:ue,children:dt?te:c}),i[85]=c,i[86]=Y,i[87]=T,i[88]=mt,i[89]=te,i[90]=dt,i[91]=Lt):Lt=i[91];var Et;i[92]!==lt||i[93]!==Ze||i[94]!==rt||i[95]!==dt||i[96]!==St||i[97]!==Rt||i[98]!==Lt||i[99]!==ae?(Et=u.jsxs("div",{className:St,"data-testid":void 0,"data-virtualized":dt,onClickCapture:lt,onFocusCapture:lt,onKeyPressCapture:lt,ref:rt,style:Ze,children:[Rt,Lt]}),i[92]=lt,i[93]=Ze,i[94]=rt,i[95]=dt,i[96]=St,i[97]=Rt,i[98]=Lt,i[99]=ae,i[100]=Et):Et=i[100];var kt;return i[101]!==Et||i[102]!==ke?(kt=u.jsx(r("VirtualizationContext").Provider,{value:ke,children:Et}),i[101]=Et,i[102]=ke,i[103]=kt):kt=i[103],kt}l.default=E}),98);
__d("VirtualizationExperimentConfig",[],(function(t,n,r,o,a,i){"use strict";var e=4e3,l=!0,s=!1,u=!1,c=!1,d="static",m=!1,p=!1,_=new Set(["static","dynamic"]),f=new Set(["thread_view"]),g={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,react_activity_mode:!1,surface_enabled:!0}},h={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},y={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0,virtualization_strategy:"dynamic"},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0,virtualization_strategy:"dynamic"},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,is_at_bottom_scroll_up:!0,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};i.DEFAULT_TOP_BOTTOM_MARGIN=e,i.DEFAULT_PIN_CHILDREN_ON_INTERACTION=l,i.DEFAULT_PIN_CHILDREN_WITH_PLAYER=s,i.DEFAULT_DISABLE_HIDING=u,i.DEFAULT_ACTIVITY_MODE_ON=c,i.DEFAULT_VIRTUALIZATION_STRATEGY=d,i.DEFAULT_AT_BOTTOM_SCROLL_UP=m,i.DEFAULT_TEXT_SEARCHABLE=p,i.VALID_STRATEGIES=_,i.infiniteScrollUpSurfaces=f,i.ROLLOUT_CONFIG=g,i.GK_HOLDOUT_CONFIG=h,i.GK_ROLLOUT_CONFIG=y}),66);
__d("VirtualizationExperimentSettings",["QE2Logger","VirtualizationExperimentConfig","gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g=r("gkx")("2548"),h=r("gkx")("221");function y(e){return Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").ROLLOUT_CONFIG,e)?o("VirtualizationExperimentConfig").ROLLOUT_CONFIG:g&&Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,e)?o("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG:h&&Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,e)?o("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG:null}var C=function(t){var e=y(t);return e==null?void 0:e[t]},b=new Set(((e=r("qex")._("641"))!=null?e:"").split(",").map(function(e){return e.trim()}));function v(e){var t=new Map;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}function S(e){var t;if(b.has(e))return!0;var n=C(e);return(t=n==null?void 0:n.surface_enabled)!=null?t:!1}var R=v(S);function L(e){var t=new Map;return e.split(",").forEach(function(e){var n,r,o=e.trim(),a=o.split(":"),i=a[0],l=a[1],s=(n=i==null?void 0:i.trim())!=null?n:"",u=parseInt((r=l==null?void 0:l.trim())!=null?r:"",10);s.length>0&&!Number.isNaN(u)&&t.set(s,u)}),t}var E=L((s=r("qex")._("628"))!=null?s:"");function k(e){var t;if(E.has(e)){var n;return(n=E.get(e))!=null?n:o("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}var r=C(e);return(t=r==null?void 0:r.root_margin_top_bottom)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}var I=v(k),T=new Set(((u=r("qex")._("642"))!=null?u:"all").split(",")),D=new Set;function x(e){D.has(e)||((T.has("all")||T.has(e))&&o("QE2Logger").logExposureForActingAccount("comet_front_end_virtualization"),D.add(e))}var $=(c=r("qex")._("4937"))!=null?c:o("VirtualizationExperimentConfig").DEFAULT_ACTIVITY_MODE_ON;function P(e){var t;if(b.has(e))return $!=null?$:!1;var n=C(e);return(t=n==null?void 0:n.react_activity_mode)!=null?t:!1}var N=v(P),M=(d=r("qex")._("648"))!=null?d:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function w(e){var t;if(b.has(e))return M!=null?M:!0;var n=C(e);return(t=n==null?void 0:n.pin_children_on_interaction)!=null?t:!0}var A=v(w),F=(m=r("qex")._("339"))!=null?m:"default",O=F==="disable"?!0:F==="enable"?!1:null;function B(e){var t;if(b.has(e))return O!=null?O:o("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING;var n=C(e);return(t=n==null?void 0:n.hiding_disabled)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}var W=v(B),q=(p=r("qex")._("885"))!=null?p:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function U(e){var t;if(b.has(e))return q!=null?q:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;var n=C(e);return(t=n==null?void 0:n.pin_children_with_player)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}var V=v(U);function H(e){var t=new Map;return e.split(",").forEach(function(e){var n,r=e.trim(),a=r.split(":"),i=a[0],l=a[1],s=(n=i==null?void 0:i.trim())!=null?n:"",u=l==null?void 0:l.trim(),c=o("VirtualizationExperimentConfig").VALID_STRATEGIES.has(u)?u:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY;s.length>0&&t.set(s,c)}),t}var G=H((_=r("qex")._("1851"))!=null?_:"");function z(e){var t;if(G.has(e)){var n;return(n=G.get(e))!=null?n:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}var r=C(e);return(t=r==null?void 0:r.virtualization_strategy)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}function j(){var e=r("gkx")("221"),t=r("gkx")("6600");return e&&t}var K=v(z),Q=function(t){var e=C(t);return(e==null?void 0:e.is_at_bottom_scroll_up)===!0||o("VirtualizationExperimentConfig").infiniteScrollUpSurfaces.has(t)?!0:o("VirtualizationExperimentConfig").DEFAULT_AT_BOTTOM_SCROLL_UP},X=(f=r("qex")._("5027"))!=null?f:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;function Y(e){var t;if(b.has(e))return X!=null?X:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;var n=C(e);return(t=n==null?void 0:n.text_searchable)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE}var J=v(Y);l.isSurfaceEnabled=R,l.getTopBottomMargin=I,l.logQEExposureOnceWhenNecessary=x,l.getActivityModeOn=N,l.getPinChildrenOnInteration=A,l.isHidingDisabled=W,l.getPinChildrenWithPlayer=V,l.getSkipScrollAnchoringCheck=j,l.getVirtualizationStrategy=K,l.getIsInfiniteScrollUp=Q,l.getTextSearchable=J}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(41),n=e.callingSurface,a=e.children,i=e.disableHiding,l=e.mountXStyle,c=e.scrollport,d=e.topBottomMarginOverride,m=e.unmountXStyle,p=e.xstyle,_=c===void 0?null:c,f;t[0]!==n?(f=o("VirtualizationExperimentSettings").isSurfaceEnabled(n),t[0]=n,t[1]=f):f=t[1];var g=f,h;t[2]!==n||t[3]!==i||t[4]!==g?(h=i!=null?i:o("VirtualizationExperimentSettings").isHidingDisabled(n)||!g,t[2]=n,t[3]=i,t[4]=g,t[5]=h):h=t[5];var y=h,C,b;t[6]!==n?(C=function(){return o("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(n)},b=[n],t[6]=n,t[7]=C,t[8]=b):(C=t[7],b=t[8]),u(C,b);var v;t[9]!==n?(v=o("VirtualizationExperimentSettings").getVirtualizationStrategy(n),t[9]=n,t[10]=v):v=t[10];var S=v,R=S!=="static",L;t[11]!==n?(L=o("VirtualizationExperimentSettings").getActivityModeOn(n),t[11]=n,t[12]=L):L=t[12];var E=L,k;t[13]===Symbol.for("react.memo_cache_sentinel")?(k=o("VirtualizationExperimentSettings").getSkipScrollAnchoringCheck(),t[13]=k):k=t[13];var I=k,T;t[14]!==n?(T=o("VirtualizationExperimentSettings").getIsInfiniteScrollUp(n),t[14]=n,t[15]=T):T=t[15];var D=T,x;t[16]!==n?(x=o("VirtualizationExperimentSettings").getTextSearchable(n),t[16]=n,t[17]=x):x=t[17];var $=x,P;t[18]!==n||t[19]!==g?(P=g&&o("VirtualizationExperimentSettings").getPinChildrenOnInteration(n),t[18]=n,t[19]=g,t[20]=P):P=t[20];var N;t[21]!==n?(N=o("VirtualizationExperimentSettings").getPinChildrenWithPlayer(n),t[21]=n,t[22]=N):N=t[22];var M;t[23]!==n||t[24]!==d?(M=d!=null&&d>=0?d:o("VirtualizationExperimentSettings").getTopBottomMargin(n),t[23]=n,t[24]=d,t[25]=M):M=t[25];var w;return t[26]!==E||t[27]!==a||t[28]!==g||t[29]!==y||t[30]!==D||t[31]!==R||t[32]!==l||t[33]!==_||t[34]!==P||t[35]!==N||t[36]!==M||t[37]!==$||t[38]!==m||t[39]!==p?(w=s.jsx(r("CometVirtualization.react"),{activityOnlyMode:E,disableHiding:y,isInfiniteScrollUp:D,mountXStyle:l,pinChildrenOnInteraction:P,pinChildrenWithPlayer:N,scrollport:_,skipScrollAnchoringCheck_UNSAFE:I,smartMargin:R,textSearchable:$,topBottomMargin:M,unmountHiddenChildren:g,unmountXStyle:m,xstyle:p,children:a}),t[26]=E,t[27]=a,t[28]=g,t[29]=y,t[30]=D,t[31]=R,t[32]=l,t[33]=_,t[34]=P,t[35]=N,t[36]=M,t[37]=$,t[38]=m,t[39]=p,t[40]=w):w=t[40],w}l.default=c}),98);/*FB_PKG_DELIM*/
__d("CAAPasskeyCreationEntryPoint",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({ACCOUNT_SPLIT:"account_split",ACCOUNTS_CENTER_PASSKEY_MANAGEMENT:"accounts_center_passkey_management",ACCOUNTS_CENTER_PASSWORD_AND_SECURITY:"accounts_center_password_and_security",ACCOUNTS_CENTER_PASSWORD_AND_SECURITY_MOBILE:"accounts_center_password_and_security_mobile",ACCOUNTS_CENTER_PASSWORD_AND_SECURITY_MOBILE_BADGE:"accounts_center_password_and_security_mobile_badge",ADVANCED_PROTECTION:"advanced_protection",ADVANCED_PROTECTION_BOTTOM_SHEET:"advanced_protection_bottom_sheet",ADVANCED_PROTECTION_WITH_SKIP:"advanced_protection_with_skip",BLOKS_SHELL_TEST:"bloks_shell_test",BUSINESS_SETTINGS:"business_settings",ENCRYPTED_BACKUPS:"encrypted_backups",LOGIN_FLOW:"login_flow",MEGAPHONE:"megaphone",MIGRATION_MOMENT_NUX:"migration_moment_nux",NFX_COMPROMISED_ACCOUNT:"nfx_compromised_account",PAYMENTS_AUTOFILL:"payments_autofill",POST_AFAD_MOBILE:"post_afad_mobile",POST_AFAD_WEB:"post_afad_web",POST_EPSILON:"post_epsilon",POST_EPSILON_MOBILE:"post_epsilon_mobile",POST_EPSILON_WEB:"post_epsilon_web",POST_LOGIN_CHALLENGE:"post_login_challenge",POST_LOGIN_UPSELL:"post_login_upsell",POST_LRR:"post_lrr",POST_LRR_WEB:"post_lrr_web",POST_REAUTH:"post_reauth",POST_SENSITIVE_ACTION_REVIEW_CHALLENGE:"post_sensitive_action_review_challenge",POST_SESSION_VERIFICATION:"post_session_verification",POST_TWO_FACTOR_LOGIN:"post_two_factor_login",REGISTARTION_FLOW:"registration_flow",SECURITY_CHECKUP:"security_checkup"}),l=e;i.default=l}),66);
__d("CometIXTFacebookCDSXfacUniversalTriggerRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25769508135984533"}),null);
__d("CometIXTFacebookCDSXfacUniversalTriggerRootQuery$Parameters",["CometIXTFacebookCDSXfacUniversalTriggerRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometIXTFacebookCDSXfacUniversalTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookCDSXfacUniversalTriggerRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometIXTFacebookCDSXfacUniversalTriggerEntryPoint.entrypoint",["CometIXTFacebookCDSXfacUniversalTriggerRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio","react","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u={getPreloadProps:function(t){return{queries:{reference:{parameters:r("CometIXTFacebookCDSXfacUniversalTriggerRootQuery$Parameters"),variables:{input:babelHelpers.extends({},t,{nt_context:null,trigger_session_id:r("uuidv4")()}),scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometIXTFacebookCDSXfacUniversalTriggerRoot.react").__setRef("CometIXTFacebookCDSXfacUniversalTriggerEntryPoint.entrypoint")},c=u;l.default=c}),98);
__d("FXAccountsCenterPasskeyCreationUpsellRootQuery$Parameters",["cr:8979"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:8979")}),34);
__d("XFBCAAPasskeyCreationEntryPointUtils.facebook",["$InternalEnumUtils","CAAPasskeyCreationEntryPoint"],(function(t,n,r,o,a,i,l){var e=o("$InternalEnumUtils").createToJSEnum(r("CAAPasskeyCreationEntryPoint")),s=o("$InternalEnumUtils").createFromJSEnum(r("CAAPasskeyCreationEntryPoint"));l.toJSEnum=e,l.fromJSEnum=s}),98);
__d("FXAccountsCenterPasskeyCreationUpsellRoot.entrypoint",["FXAccountsCenterPasskeyCreationUpsellRootQuery$Parameters","JSResourceForInteraction","XFBCAAPasskeyCreationEntryPointUtils.facebook","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e,a,i,l,s=r("nullthrows")(o("XFBCAAPasskeyCreationEntryPointUtils.facebook").fromJSEnum((e=t.entrypoint)!=null?e:(a=t.routeProps)==null?void 0:a.entrypoint),"passkey entrypoint cannot be null in FXAccountsCenterPasskeyCreationUpsellRoot entrypoint"),u={entrypoint:s};return{extraProps:{entrypoint:(i=t.entrypoint)!=null?i:(l=t.routeProps)==null?void 0:l.entrypoint,showSuccessDialog:t.showSuccessDialog,variant:t.variant},queries:{query:{parameters:n("FXAccountsCenterPasskeyCreationUpsellRootQuery$Parameters"),variables:u}}}},root:r("JSResourceForInteraction")("FXAccountsCenterPasskeyCreationUpsellRoot.react").__setRef("FXAccountsCenterPasskeyCreationUpsellRoot.entrypoint")};l.default=e}),98);
__d("FXAccountsCenterPasskeyCreationUpsellRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25197454896514486"}),null);
__d("FXAccountsCenterPasskeyCreationUpsellRootQuery$Parameters.facebook",["FXAccountsCenterPasskeyCreationUpsellRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("FXAccountsCenterPasskeyCreationUpsellRootQuery_facebookRelayOperation"),metadata:{},name:"FXAccountsCenterPasskeyCreationUpsellRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("XPlatReactEventEmitter",["BaseEventEmitter"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("BaseEventEmitter")}),98);
__d("LSPlatformErrorChannel",["FBLogger","ODS","XPlatReactEventEmitter"],(function(t,n,r,o,a,i,l){"use strict";var e,s="onLSError",u=new(r("XPlatReactEventEmitter")),c=0,d=null;function m(t){d===null&&((e||(e=o("ODS"))).bumpEntityKey(3185,"lsplatform_error","first_error_emitted_to_"+c+"listeners"),c===0&&r("FBLogger")("messenger_web").mustfix("No listeners when emitting LS error %s",t.name)),d=t,u.emit(s,t)}function p(e){var t=u.addListener(s,e);return c++,function(){return t.remove()}}function _(){return d}function f(){u.removeAllListeners(s),d=null}var g={TEST_ONLY_clear:f,emit:m,lastError:_,subscribe:p};l.default=g}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("ReQL").fromTableAscending(t.cutover_threads);return o("ReQL").toArrayAsync(r).then(function(r){return r.reduce(function(e,n){return e.then(function(){return t.cutover_threads.delete(n.openThreadId)})},(e||(e=n("Promise"))).resolve())})}l.call=s}),98);
__d("ReStoreDecryptionFailure",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreDecryptionFailure",l=(function(t){function n(n,r){var o,a=n+" - Encrypted Restore was unable to decrypt an entity for table "+r;return o=t.call(this,a)||this,o.message=a,o.name=e,o.tableName=r,o}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.getTableName=function(){return this.tableName},n})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreDecryptionFailure=l}),66);
__d("ReStoreEARSetupFailure",[],(function(t,n,r,o,a,i){"use strict";var e="Encryption keychain could not be setup",l="ReStoreEARSetupFailure",s=(function(t){function n(n){var r,o=e+": "+n;return r=t.call(this,o)||this,r.message=o,r.name=l,r}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));i.ERROR_MESSAGE=e,i.ERROR_NAME=l,i.ReStoreEARSetupFailure=s}),66);
__d("ReStoreEvent",[],(function(t,n,r,o,a,i){"use strict";var e=function(){};i.default=e}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this)||this,r.idb=t,r.error=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getError=function(){return this.error},t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreIndexedDbFailToOpenEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreIndexedDbUpgradedEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreUnexpectedlyClosed",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreUnexpectedlyClosed",l=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreUnexpectedlyClosed=l}),66);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformErrorChannel","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","ReStoreDecryptionFailure","ReStoreEARSetupFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbUpgradedEvent","ReStoreUnexpectedlyClosed","UserTimingUtils","cr:10099","cr:10200","cr:10755","cr:4489","cr:6218","cr:665","cr:7000","cr:7351","cr:8915","justknobx","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e=n("cr:6218"))!=null?e:n("cr:10755"),d=(s=n("cr:7000"))!=null?s:n("cr:7351");function m(e){if(e instanceof r("ReStoreIndexedDbUpgradedEvent")&&c!=null&&r("justknobx")._("1410"))r("promiseDone")(c.killSharedWorker(!0,"ls_upgrade"));else if(e instanceof r("ReStoreIndexedDbClosedEvent")){var t=e.getError();n("cr:8915")!=null&&t instanceof(n("cr:8915")==null?void 0:n("cr:8915").ReStoreDbVersionChange)||t instanceof o("ReStoreDecryptionFailure").ReStoreDecryptionFailure||t instanceof o("ReStoreEARSetupFailure").ReStoreEARSetupFailure?r("LSPlatformErrorChannel").emit(t):t instanceof o("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed&&n("cr:10099")!=null?(n("cr:10099")==null||n("cr:10099").releaseIfExist(),r("LSPlatformErrorChannel").emit(t)):t instanceof r("ReStoreIndexedDbFailToOpenEvent")&&n("cr:10099")!=null&&(n("cr:10099")==null||n("cr:10099").releaseIfExist())}}var p=async function(){var e=o("MessengerLogHistory").getInstance("db_init");r("promiseDone")(o("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(t){e.debug("Has multiple tabs: "+t),o("MultipleTabsLogger").addAnnotationToQPLEvent(r("qpl")._(25305590,"1127"))})),e.debug("====Creating DB===="),o("LSPlatformLsInitLog").addPoint("vaulting_setup_start"),n("cr:4489")!=null&&n("cr:665")!=null&&(u||(u=r("ExecutionEnvironment"))).isInBrowser&&(e.debug("Vaulting setup started"),n("cr:665").setupMainWaLogger(),await o("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",async function(){await n("cr:4489").setupVaultMaterials()}),e.debug("Vaulting setup finished")),o("LSPlatformLsInitLog").addPoint("vaulting_setup_end"),e.debug("Connecting to DB");var t=await n("cr:10200").createDB(m);return e.debug("Connection established"),await t.runInTransaction(async function(t){var n=d==null?[Promise.resolve(),Promise.resolve()]:[d.call(t),o("MAWDropCutoverThreadsTable").call(t)],r=n[0],a=n[1];await Promise.all([r,a]),o("LSPlatformLsInitLog").addPoint("success_maw_data_deletion"),e.debug("Seeding DB"),await o("LSDefaultSyncGroups").seedDb(t,void 0),e.debug("DB seeded")},"readwrite","ui",void 0,i.id+":113"),e.debug("====DB created===="),t},_;function f(){return _==null&&(_=(u||(u=r("ExecutionEnvironment"))).isInBrowser?p():new Promise(function(){})),_}l.get=f}),98);
__d("MAWBridgeSearchMsg",["MAWCurrentUser","MAWVault","WAJids"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){t===void 0&&(t=!0);var n=e,r=o("MAWCurrentUser").getID(),a=e.author,i=e.externalId,l=e.msgId,s=e.threadJid;if(s==null)return null;var u=n.content,c=n.sortOrderMs,d={chatJid:s,externalId:i,msg:{msgId:l,sender:o("WAJids").authorToUserId(a,r),ts:e.canonicalTs},sortOrderMs:c},m=u;return babelHelpers.extends({},d,{msg:babelHelpers.extends({},d.msg,{content:m!=null?o("MAWVault").isVaulted(m)?t?m:o("MAWVault").unvault(m):t?o("MAWVault").vault(m):m:void 0})})}var s="message_content_search",u="non_message_content_search";l.createBridgeSearchMsg=e,l.MESSAGE_CONTENT_SEARCH=s,l.NON_MESSAGE_CONTENT_SEARCH=u}),98);
__d("MAWLoadDbMigrationVersion",["ExecutionEnvironment","MAWBridge","MAWCurrentUser","MAWDBMigrationUtils","MAWDbAppMeta","MAWDbObjEncryption","MAWIndexedDbMetadata","MAWUnrecoverableDbErrors","MWFBLogger","Promise","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g=o("MWFBLogger").MWLogger().tags(["db","MAWLoadDbMigrationVersion"]);function h(t){var a=o("MAWCurrentUser").getID(),i=o("MAWIndexedDbMetadata").dbName(a);return new(f||(f=n("Promise")))(function(n){if(!indexedDB){n();return}var a=indexedDB.open(i);a.onupgradeneeded=function(t){t.target.transaction.abort();var r=t.target.result;g.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," onupgradeneeded - closing db"])),i),r==null||r.close(),n()},a.onsuccess=function(e){var a=e.target.result;if(a==null){n();return}try{var i=a.transaction("appMeta","readonly");i.onerror=function(e){var t;g.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Transaction error: ",""])),(t=e.target.error)==null?void 0:t.message),a.close(),n()};var l=i.objectStore("appMeta"),m=l.get(o("MAWDbAppMeta").AppMetaKeysEnum.dbMigrationVersion);m.onerror=function(e){var t;g.DEBUG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Request error: ",""])),(t=e.target.error)==null?void 0:t.message),a.close(),n()},m.onsuccess=function(e){a.close();var i=e.target.result;if(i!=null)try{var l=o("MAWDbObjEncryption").decryptDbObj(babelHelpers.extends({},i),"appMeta",t),s=l.value.dbMigrationVersion;s!=null&&(o("MAWDBMigrationUtils").mawDbMigrationVersion.version=s)}catch(e){var u=r("getErrorSafe")(e);g.catching(u).MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Failed to decrypt appMeta row"]))),(_||(_=r("ExecutionEnvironment"))).isInWorker&&o("MAWBridge").getBridge().fireAndForget("event","unrecoverableDbError",{error:new(o("MAWUnrecoverableDbErrors")).EarRuntimeError})}n()}}catch(e){var p=r("getErrorSafe")(e);g.DEBUG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Error accessing appMeta: ",""])),p.message),a.close(),n()}},a.onerror=function(e){var t;g.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," error ",""])),i,e==null||(t=e.target)==null||(t=t.error)==null?void 0:t.message),n()},a.onblocked=function(e){var t=e.target.result;g.DEBUG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," blocked"])),i),t==null||t.close()}})}l.default=h}),98);
__d("WormGlobalConfig",[],(function(t,n,r,o,a,i){"use strict";var e={};function l(){return e}function s(t){e=t}i.getWormGlobalConfig=l,i.setWormGlobalConfig=s}),66);
__d("MWConditionallySetupEBStateDB",["EBDB","EBReadyNotifier","ExecutionEnvironment","MAWCurrentUser","MAWIndexedDbMetadata","MessengerWebInitData","ODS","WAHex","WAOdsEnums","WormGlobalConfig","cr:23151","cr:8233","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){if(n("cr:23151")!=null&&(s||(s=r("ExecutionEnvironment"))).isInBrowser){o("WormGlobalConfig").setWormGlobalConfig({}),n("cr:8233")==null||n("cr:8233").setupMainWaLogger(),o("EBDB").makeEBDB(o("MAWIndexedDbMetadata").ebdbName(o("MAWCurrentUser").getID()),r("qpl")._(1056840657,"2716"),o("WAHex").parseHex(r("MessengerWebInitData").accountKeyV2),o("EBDB").EBDBEnvironment.UI,{log:function(n){return(e||(e=o("ODS"))).bumpEntityKey(3185,o("WAOdsEnums").Entity.WORM,n)}});var a=await n("cr:23151").makeReStorePersistence(t);return o("EBReadyNotifier").markEBReady(),a}}l.conditionallyMakeEBStateDB=u}),98);
__d("MWLSSchemaEphemeral",["EBDB","EBDBEbsmApi","FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MessengerLogHistory").getInstance("db_init");async function s(t){o("LSPlatformLsInitLog").addPoint("init_start");var n,a={clearEbStores:o("EBDB").clearEbStores,flushEBSMtoEBDB:o("EBDBEbsmApi").flushEBSMtoEBDB,rehydrateEBSMFromEBDB:o("EBDBEbsmApi").rehydrateEBSMFromEBDB};try{var i=await o("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB(a);i!=null&&(e.debug("Creating EB State DB"),n=o("LSReStoreWrapper").createLSReStore(i,o("LSMetadata").schema,[r("MAWLSVaultingHooks")],void 0,o("LSPlatformLsInitLog").lsInitLogger),a.updateEBSM=o("EBDBEbsmApi").updateEBSM(n),e.debug("EB State DB inited"))}catch(e){r("FBLogger")("messenger_web_clients").catching(r("getErrorSafe")(e)).mustfix("EBSM failed")}return n==null&&(e.debug("Creating EDB"),n=r("LSJSInMemoryStorage")(o("LSMetadata").schema),e.debug("EDB inited")),o("LSPlatformLsInitLog").addPoint("init_end"),n}l.createDB=s}),98);
__d("MWPMiniSearch",["minisearch"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e={fuzzy:0,prefix:!0};return{fields:["content"],searchOptions:e}}function s(t){t===void 0&&(t=function(){return{}});var n;function o(){n=new(r("minisearch"))(babelHelpers.extends({},e(),t()))}return{getInstance:function(){return n==null&&o(),n}}}l.createMiniSearchSingleton=s}),98);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="Failed to execute 'setItem' on 'Storage'",s="ReStoreLocalStorageQuotaExceed";function u(){try{var t=window.localStorage,n=[],o=[];if(t!=null&&t.length!==0){for(var a in t)if(n.length===0&&o.length===0&&a.includes("falco_queue_log")&&o.push(a),!!Object.prototype.hasOwnProperty.call(t,a)){var i=((t[a]||"").length+a.length)*2;i/1024>2e3&&n.push(a)}}return r("FBLogger")("messenger_web").mustfix(e+": QuotaExceeded - trying to clean up %s or %s",n.join(","),o.join(",")),n.length!==0?n:o}catch(e){return r("FBLogger")("messenger_web").mustfix("Error getting local storage big values for cleanup."),[]}}function c(){try{var e=window.localStorage,t=u();t.forEach(function(t){e.removeItem(t)})}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("maw_db").mustfix("Couldn't remove vals from localStorage",n.message)}}var d=(function(t){function n(n){var r,o=e+": "+n+"; Keys to delete: "+u().join(",");return r=t.call(this,o)||this,r.message=o,r.name=s,r}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));l.ERROR_NAME=s,l.getLocalStorageValuesToRemoveOnExceed=u,l.clearLocalStorageBigValues=c,l.ReStoreLocalStorageQuotaExceed=d}),98);
__d("SecuredActionTriggerWithAccountID.react",["CometRouteURL","react","react-compiler-runtime","useCometEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(19),n=e.accountID,a=e.accountType,i=e.categoryName,l=e.entrypoint,s=e.onCancel,d=e.onExit,m=e.onFailure,p=e.onSuccess,_=e.reauthContentType,f=e.sensitiveAction,g=o("CometRouteURL").useRouteURL(),h;t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==_||t[4]!==g||t[5]!==f?(h={account_id:n,account_type:a,category_name:i,reauth_content_type:_,return_uri:g,sensitive_action:f},t[0]=n,t[1]=a,t[2]=i,t[3]=_,t[4]=g,t[5]=f,t[6]=h):h=t[6];var y=r("useCometEntryPointDialog")(l,h),C=y[0],b=c(!0),v,S;t[7]!==n||t[8]!==a||t[9]!==i||t[10]!==s||t[11]!==d||t[12]!==m||t[13]!==p||t[14]!==_||t[15]!==f||t[16]!==C?(v=function(){b.current&&C({accountID:n,accountType:a,categoryName:i,onCancel:s,onExit:d,onFailure:m,onSuccess:p,reauthContentType:_,sensitiveAction:f}),b.current=!1},S=[C,n,a,i,d,p,s,m,_,f],t[7]=n,t[8]=a,t[9]=i,t[10]=s,t[11]=d,t[12]=m,t[13]=p,t[14]=_,t[15]=f,t[16]=C,t[17]=v,t[18]=S):(v=t[17],S=t[18]),u(v,S)}l.default=d}),98);
__d("Xfac_XFACAppealType",[],(function(t,n,r,o,a,i){var e=Object.freeze({ADS_ABUSE:0,ACTA_SANCTION_PROPAGATION:1,SOAP_PI_UNPUBLISH:2,SPAM:3,USER_DATA_SCRAPING:4,IDES_APPEAL:5,LEGAL_VERIFICATION:6,CHECKPOINT_EPSILON:7,DEV_PLATFORM_ABUSE:8,FB_UFAC:9,IG_UFAC:10,FRL_UFAC:11,BUSINESS_VERIFICATION_STANDALONE_EMAIL:12,BUSINESS_VERIFICATION_CLASSIC:13,SIGNAL_GATHERING:14,IG_MEMORIALIZATION_APPEAL:15,MARKETPLACE_IDV_APPEAL:16,BUSINESS_VERIFICATION_PAYOUTS:17,AUTHENTICITY_REGULATION:18,AUTHENTICITY_REGULATION_SG:19,WA_BIZ_ACCOUNT_CREATION:20,BUSINESS_VERIFICATION_FOX_CBD:21,BUSINESS_VERIFICATION_FOX_CRYPTO:22,BUSINESS_VERIFICATION_FOX_DATING:23,BUSINESS_VERIFICATION_FOX_REHAB:24,BUSINESS_VERIFICATION_FOX_RMG:25,BUSINESS_VERIFICATION_FOX_RXDRUGS:26,BUSINESS_VERIFICATION_MANDATORY_SELLERS:27,THREADS_UFAC:28,BUSINESS_VERIFICATION_MV4B:29,BUSINESS_VERIFICATION_CHINA_AGENCY:30,FINANCIAL_INTEGRITY:31,BUSINESS_VERIFICATION_ADVERTISER_VETTING:32,BUSINESS_VERIFICATION_CLASSIC_GENERIC:33,AUTHENTICITY_COMPROMISE:34,AUTHENTICITY_REGULATION_AU_FINSERV:35,AUTHENTICITY_REGULATION_TW_ANTI_SCAMS:36,ORGANIC_SENSITIVE_ACTIONS:37,WA_U13:38,BUSINESS_VERIFICATION_PAID_ACTOR_ONBOARDING:39,BUSINESS_VERIFICATION_TAIWAN_FINANCIAL_SERVICES:40,MARKETPLACE_XFAC_SELFIE_APPEAL:41,MARKETPLACE_XFAC_IDV_APPEAL:42,AUTHENTICITY_REGULATION_CN:43,BUSINESS_VERIFICATION_WABA:44,BUSINESS_VERIFICATION_APP_REVIEW:45,BUSINESS_VERIFICATION_PAGE_RELATIONSHIP_TRANSPARENCY:46,BUSINESS_VERIFICATION_VR_DEVELOPER_ORGANIZATION:47,BUSINESS_VERIFICATION_BILLING_HUB:48,BUSINESS_VERIFICATION_LOW_TRUST_TIER:49,BUSINESS_VERIFICATION_NEWS_PUBLISHER:50,BUSINESS_VERIFICATION_ADS_BANHAMMERED:51,BUSINESS_VERIFICATION_MARKETING_PARTNER_PROGRAM:52,BUSINESS_VERIFICATION_AUDIENCE_NETWORK_APP:53,BUSINESS_VERIFICATION_DOMAIN_DISPUTE:54,BUSINESS_VERIFICATION_ASP_AGENCY:55,BUSINESS_VERIFICATION_SIGNAL_CONSUMPTION_WITHOUT_ONBOARD:56,BUSINESS_VERIFICATION_UNIVERSAL_PARTNER_PLATFORM:57,OCULUS_FINANCIAL_INTEGRITY:58,ADS_ACTOR_ABUSE_SCRIPTED_FOR_BUSINESS_WITH_BUSINESS_VERIFICATION:59,AUTHENTICITY_COMPROMISE_SIGNALS_BASED_VERIFICATION:60,AUTHENTICITY_REGULATION_VN_UNIVERSAL:61,AUTHENTICITY_REGULATION_TH_UNIVERSAL:62,AUTHENTICITY_REGULATION_JP_UNIVERSAL:63,AUTHENTICITY_REGULATION_KR_FINSERV:64,AUTHENTICITY_REGULATION_AU_UNIVERSAL:65,AUTHENTICITY_REGULATION_IN_FINSERV:66,AUTHENTICITY_REGULATION_SG_UNIVERSAL:67,BUSINESS_VERIFICATION_WABA_IDV:68,AUTHENTICITY_REGULATION_GENERIC_UNIVERSAL:69,ID_VERIFICATION_BILLING_HUB:70,FB_GENERIC_LIGHTWEIGHT:71,AUTHENTICITY_REGULATION_SG_FOR_PAGES:72,BUSINESS_VERIFICATION_CHINA_ADVERTISER:73,DATING_INTEGRITY_SMS:74,IG_KYX_PAY_IN:75,MESSENGER_LWE_SCAM:76,FINANCIAL_INTEGRITY_KYX:77,INDIVIDUAL_VERIFICATION_ACCOUNT_RECOVERY:78,FRLM_YOUTH:79,FB_FINANCIAL_INTEGRITY_SANCTIONS_SCREENING:80,MARKETPLACE_XFAC_FACE_REC_SELFIE_APPEAL:81,YOUTH_NON_BLOCKING:82,OC_UFAC:83,MARKETPLACE_PERKS_APPEAL:84,META_BUSINESS_ACCOUNT_CREATION:85,WA_USER_BAN_APPEAL:86,FB_SCAM_SMS:87,BUSINESS_VERIFICATION_CREATOR_MARKETPLACE:88,ADDITIONAL_PROFILE_PLUS_IMPERSONATION_NON_REC_LWE_APPEAL:89,PARTNERSHIP_HOME:90,FB_FINANCIAL_INTEGRITY_FINANCIAL_CRIMES:91,BUSINESS_VERIFICATION_CLASSIC_BM_ALLOWLIST:92,IG_FINANCIAL_INTEGRITY_SANCTIONS_SCREENING:93,XFAC_DEMO:1e4});i.default=e}),66);
__d("useIXTXfacUniversalTriggerCDSDialog",["cr:10257","useCDSEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,o,a){return r("useCDSEntryPointDialog")(n("cr:10257"),e,void 0,a,{baseModalProps:t,carryOverRelayEnvironment_EXPERIMENTAL:o})}l.default=e}),98);
__d("usePasskeyUpsellEligibilityCheckMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24998666569801021"}),null);
__d("usePasskeyUpsellEligibilityCheckMutation.graphql",["usePasskeyUpsellEligibilityCheckMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"encryptedContext"}],t=[{alias:null,args:[{kind:"Variable",name:"encrypted_context",variableName:"encryptedContext"}],kind:"ScalarField",name:"xfb_upsell_passkey_post_reauth",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"usePasskeyUpsellEligibilityCheckMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"usePasskeyUpsellEligibilityCheckMutation",selections:t},params:{id:n("usePasskeyUpsellEligibilityCheckMutation_facebookRelayOperation"),metadata:{},name:"usePasskeyUpsellEligibilityCheckMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("usePasskeyUpsellEligibilityCheck",["FXAccountsCenterPasskeyCreationUpsellRoot.entrypoint","RelayHooks","react-compiler-runtime","useCDSEntryPointDialog","usePasskeyUpsellEligibilityCheckMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("usePasskeyUpsellEligibilityCheckMutation.graphql");function u(){var e=o("react-compiler-runtime").c(4),t=o("RelayHooks").useMutation(s),n=t[0],a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={entrypoint:"post_reauth"},e[0]=a):a=e[0];var i=r("useCDSEntryPointDialog")(r("FXAccountsCenterPasskeyCreationUpsellRoot.entrypoint"),a),l=i[0],u;return e[1]!==n||e[2]!==l?(u=function(t,r){n({onCompleted:function(t){t.xfb_upsell_passkey_post_reauth===!0?l({next:null,onSuccess:r,variant:"dialog"},r):r()},onError:function(t){r()},variables:{encryptedContext:t}})},e[1]=n,e[2]=l,e[3]=u):u=e[3],u}l.default=u}),98);
__d("SecuredActionTriggerWithEncryptedContext.react",["XMDSDialogLoadingState.react","Xfac_XFACAppealType","getGraphQLEnumSafe","nullthrows","react","react-compiler-runtime","useCometEntryPointDialog","useIXTXfacUniversalTriggerCDSDialog","usePasskeyUpsellEligibilityCheck"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=function(t){return s.jsx(r("XMDSDialogLoadingState.react"),{onClose:t,withCloseButton:!1})};function p(e,t){var n=o("react-compiler-runtime").c(4),a;n[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("nullthrows")(r("getGraphQLEnumSafe")(r("Xfac_XFACAppealType"),37)),n[0]=a):a=n[0];var i;n[1]!==t||n[2]!==e?(i={security_token:e,trigger_event_type:"XFAC_UNIVERSAL_ENTRY_ORGANIC_SENSITIVE_ACTIONS",xfac_appeal_type:a,xfac_config:t},n[1]=t,n[2]=e,n[3]=i):i=n[3];var l=r("useIXTXfacUniversalTriggerCDSDialog")(i,void 0,void 0,m),s=l[0];return s}function _(e){var t=o("react-compiler-runtime").c(13),n=e.encryptedContext,a=e.entrypoint,i=e.flow,l=e.onExit,s=e.onSuccess,u=e.useXFAC,m=e.xfacConfig,_=u===void 0?!1:u,f=p(n,m),g=r("usePasskeyUpsellEligibilityCheck")(),h;t[0]!==n||t[1]!==i?(h={encryptedContext:n,flow:i},t[0]=n,t[1]=i,t[2]=h):h=t[2];var y=r("useCometEntryPointDialog")(a,h),C=y[0],b=d(!0),v,S;t[3]!==n||t[4]!==i||t[5]!==l||t[6]!==s||t[7]!==C||t[8]!==g||t[9]!==f||t[10]!==_?(v=function(){b.current&&(_?f({flowCallbacks:{onClose:l,onComplete:function(){g(n,s)}}}):C({routeProps:{encryptedContext:n,flow:i,onExit:l,onSuccess:function(){return g(n,s)}}})),b.current=!1},S=[C,n,i,l,s,f,_,g],t[3]=n,t[4]=i,t[5]=l,t[6]=s,t[7]=C,t[8]=g,t[9]=f,t[10]=_,t[11]=v,t[12]=S):(v=t[11],S=t[12]),c(v,S)}l.default=_}),98);
__d("WAAbPropsTypes",[],(function(t,n,r,o,a,i){"use strict";var e={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};i.ABPropConfigs=e}),66);
__d("WAAbPropsToUI",["WAAbPropsTypes"],(function(t,n,r,o,a,i,l){"use strict";var e=["client_group_participants_limit","client_group_name_length_limit"];function s(t){var n=t!=null?t:{},r={};return e.forEach(function(e){n[e]!=null?r[e]=n[e]:r[e]=o("WAAbPropsTypes").ABPropConfigs[e][2]}),r}l.prepareAbPropsForUI=s}),98);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("4741")}l.default=e}),98);/*FB_PKG_DELIM*/
__d("EBMessageMetadataQueryQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9456956994433373"}),null);
__d("EBMessageMetadataQueryQuery.graphql",["EBMessageMetadataQueryQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"data"}],t={alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XFBTDeanonMessagesResponse",kind:"LinkedField",name:"deanon_messages_metadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sort_order_ms",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("EBMessageMetadataQueryQuery_facebookRelayOperation"),metadata:{},name:"EBMessageMetadataQueryQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("EBMessageRangeQueryUtils",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=Math.pow(2,48)-1;function s(e){var t=Number(e);return isNaN(t)?e:u(t).toString()}function u(t){if(t<0)return 0;if(t<=e)return t;var n=o("WATimeUtils").millisTime()+6e4;return n}l.safeTimestampMsString=s,l.safeTimestampMsNumber=u}),98);
__d("XFBLSEncryptedBackupsMessagesRangeQueryDirection.facebook",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["AFTER","BEFORE"]),l=e;i.default=l}),66);
__d("EBMessageMetadataQuery",["EBAPIQPLPoints","EBAPIWorkerCheck","EBCreateGraphQLFetchFnUnified","EBMessageMetadataQueryQuery.graphql","EBMessageRangeQueryUtils","FBLogger","I64","LSDatabaseSingleton","QPLUserFlow","ReQL","WAHashStringToNumber","WAJids","WAResultOrError","XPlatRelayEnvironment","getErrorSafe","gkx","qpl","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("gkx")("10665"),d=e!==void 0?e:e=n("EBMessageMetadataQueryQuery.graphql"),m=new Map;async function p(e){if(m.has(e))return m.get(e);var t=await(s||(s=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.mi_act_mapping_table.index("jid")).getKeyRange((u||(u=o("I64"))).of_string(e)));if((n==null?void 0:n.serverThreadKey)!=null)return m.set(e,(u||(u=o("I64"))).to_float(n.serverThreadKey)),u.to_float(n.serverThreadKey)}var _=0;async function f(e){var t=e.direction,n=e.fetchPolicy,a=e.includeAnonymizedMessages,i=a===void 0?!1:a,l=e.instanceKey,s=e.networkCacheConfig,u=e.numberOfMessages,m=e.referenceTimestamp,f=m===void 0?null:m,g=e.threadId;if(o("EBAPIWorkerCheck").runningInWorker())return o("WAResultOrError").makeError("unsupported-context");if(!c&&!r("gkx")("16464"))return o("WAResultOrError").makeError("unsupported-mailbox");var h=l!=null?o("WAHashStringToNumber").hashStringToNumber(l):++_;try{var y,C;r("QPLUserFlow").start(r("qpl")._(521476771,"2454"),{annotations:{int:{number_of_messages:u}},instanceKey:h});var b=o("XPlatRelayEnvironment").getRelayEnvironment(),v=t==="after"?"AFTER":"BEFORE";r("QPLUserFlow").addPoint(r("qpl")._(521476771,"2454"),o("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_START,{instanceKey:h});var S=await p(g),R=await o("relay-runtime").fetchQuery(b,d,{data:{act_thread_id:g,direction:v,include_anonymized_messages:i,reference_timestamp:f==null?f:o("EBMessageRangeQueryUtils").safeTimestampMsNumber(f),requested_messages:u,server_thread_key:S}},{fetchPolicy:n!=null?n:void 0,networkCacheConfig:s!=null?s:void 0}).toPromise();r("QPLUserFlow").addPoint(r("qpl")._(521476771,"2454"),o("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_END,{instanceKey:h});var L=(y=R==null||(C=R.viewer)==null||(C=C.encrypted_backup)==null||(C=C.mailbox)==null?void 0:C.deanon_messages_metadata)!=null?y:[],E=L.map(function(e){var t=e.offline_threading_id,n=e.sort_order_ms;return{offlineThreadingId:t,sortOrderMs:n}});return r("QPLUserFlow").endSuccess(r("qpl")._(521476771,"2454"),{instanceKey:h}),o("WAResultOrError").makeResult({instanceKey:l,messages:E})}catch(e){var k=r("getErrorSafe")(e);return r("FBLogger")("wmi_eb").catching(k).mustfix("Error querying messaging metadata from EBMessageMetadataQuery"),r("QPLUserFlow").endFailure(r("qpl")._(521476771,"2454"),"error",{error:k,instanceKey:h}),o("WAResultOrError").DEPRECATED_makeError("error",k)}}function g(e){var t=e.chatJid,n=e.direction,a=e.numberOfMessages,i=e.referenceTimestamp;return h({chatJid:t,direction:n,numberOfMessages:a,referenceTimestamp:i}).catch(function(e){var t=r("getErrorSafe")(e);return r("FBLogger")("wmi_eb").catching(t).mustfix("Error querying messaging metadata from EBMessageMetadataQuery"),o("WAResultOrError").makeError("runtime-error")})}async function h(e){var t,n,a=e.chatJid,i=e.direction,l=e.numberOfMessages,s=e.referenceTimestamp;if(!c&&!r("gkx")("16464"))return o("WAResultOrError").makeError("unsupported-mailbox");var u=o("WAJids").threadIdForChatJid(a),m=await o("EBCreateGraphQLFetchFnUnified").createGraphQlFetchFnUnified(),p=await m(d,{data:{act_thread_id:u,direction:y(i),include_anonymized_messages:!1,reference_timestamp:s==null?s:o("EBMessageRangeQueryUtils").safeTimestampMsNumber(s),requested_messages:l}}),_=(t=p==null||(n=p.viewer)==null||(n=n.encrypted_backup)==null||(n=n.mailbox)==null||(n=n.deanon_messages_metadata)==null?void 0:n.map(function(e){var t=e.offline_threading_id,n=e.sort_order_ms;return{offlineThreadingId:t,sortOrderMs:n}}))!=null?t:[];return o("WAResultOrError").makeResult(_)}function y(e){switch(e){case"before":return"BEFORE";case"after":return"AFTER"}}l.messageMetadataQueryForMainThreadMAWDeanon=f,l.messageMetadataQuery=g}),98);
__d("LSClearMessagePlaceholderRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(13).fetch([[[e[0],t.i64.cast([0,0])]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&n.minMessageId===e[1]&&t.i64.eq(t.i64.cast([0,0]),n.minTimestampMs)&&t.i64.eq(e[2],n.maxTimestampMs)}),function(e){return e.delete()})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure",e.__tables__=["messages_ranges_v2__generated"],a.exports=e}),null);
__d("LSComputeParticipantCapabilities",["LSGetViewerFBID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(n){return t.filter(t.db.table(14).fetch([[[e[1],r[0]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,r[0])}).next().then(function(e,t){var n,o,a=e.done,i=e.value;return a?(n=[!1,!1],r[1]=n[0],r[2]=n[1],n):(t=i.item,o=[t.isAdmin==null?!1:t.isAdmin,t.isModerator],r[1]=o[0],r[2]=o[1])})},function(n){return t.filter(t.db.table(14).fetch([[[e[1],e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,e[0])}).next().then(function(e,t){var n,o,a=e.done,i=e.value;return a?(n=[!1,!1],r[4]=n[0],r[5]=n[1],n):(t=i.item,o=[t.isAdmin==null?!1:t.isAdmin,t.isModerator],r[4]=o[0],r[5]=o[1])})},function(n){return t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(o=[t.i64.cast([0,1073741823]),t.i64.cast([0,0]),!1],r[7]=o[0],r[8]=o[1],r[9]=o[2],o):(n=l.item,a=[n.capabilities==null?t.i64.cast([0,1073741823]):n.capabilities,n.contactTypeExact==null?t.i64.cast([0,0]):n.contactTypeExact,n.isManagedByViewer==null?!1:n.isManagedByViewer],r[7]=a[0],r[8]=a[1],r[9]=a[2])})},function(e){return r[12]=t.i64.eq(r[8],t.i64.cast([0,4]))?r[9]?t.i64.cast([0,2612119]):t.i64.or_(t.i64.cast([0,2612119]),t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,3])))):r[7],t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[11]=t[0],t})},function(o){return r[13]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,20]))),r[15]=r[1]&&!r[4]&&t.i64.neq(r[11],e[0])||t.i64.eq(t.i64.and_(r[12],r[13]),t.i64.cast([0,0]))?r[12]:t.i64.sub(r[12],r[13]),t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[14]=t[0],t})},function(o){return r[16]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,22]))),r[19]=r[4]&&r[1]&&t.i64.neq(r[14],e[0])||t.i64.eq(t.i64.and_(r[15],r[16]),t.i64.cast([0,0]))?r[15]:t.i64.sub(r[15],r[16]),r[2]?r[17]=!(r[4]||r[5]):r[17]=!0,t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[18]=t[0],t})},function(n){return r[20]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,21]))),o[0]=(r[1]||r[2])&&r[17]&&t.i64.neq(e[0],r[18])||t.i64.eq(t.i64.and_(r[19],r[20]),t.i64.cast([0,0]))?r[19]:t.i64.sub(r[19],r[20])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxComputeParticipantCapabilitiesStoredProcedure",e.__tables__=["participants","contacts"],a.exports=e}),null);
__d("LSGetFirstAvailableAttachmentCTAID",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(e){return t.sequence([function(e){return t.db.table(19).fetchDesc().next().then(function(e,r){var o=e.done,a=e.value;return o?n[0]=t.i64.cast([0,1]):(r=a.item,n[0]=t.i64.add(r.ctaId,t.i64.cast([0,1])))})},function(e){return r[0]=n[0]}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure",e.__tables__=["attachment_ctas"],a.exports=e}),null);
__d("LSInsertAttachmentItem",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(18).add({attachmentFbid:e[0],attachmentIndex:e[1],threadKey:e[2],messageId:e[4],defaultActionEnableExtensions:e[31],originalPageSenderId:e[7],titleText:e[8],subtitleText:e[9],bodyText:e[12],playableUrl:e[13],playableUrlFallback:e[14],playableUrlExpirationTimestampMs:e[15],playableUrlMimeType:e[16],dashManifest:e[17],previewUrl:e[18],previewUrlFallback:e[19],previewUrlExpirationTimestampMs:e[20],previewUrlMimeType:e[21],previewWidth:e[22],previewHeight:e[23],imageUrl:e[24],defaultCtaId:e[25],defaultCtaTitle:e[26],defaultCtaType:e[27],defaultButtonType:e[29],defaultActionUrl:e[30],defaultWebviewHeightRatio:e[33],attachmentCta1Id:e[35],cta1Title:e[36],cta1IconType:e[37],cta1Type:e[38],attachmentCta2Id:e[40],cta2Title:e[41],cta2IconType:e[42],cta2Type:e[43],attachmentCta3Id:e[45],cta3Title:e[46],cta3IconType:e[47],cta3Type:e[48],faviconUrl:e[49],faviconUrlFallback:e[50],faviconUrlExpirationTimestampMs:e[51],previewUrlLarge:e[52]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxInsertAttachmentItemStoredProcedure",e.__tables__=["attachment_items"],a.exports=e}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.storedProcedure(n("LSClearMessagePlaceholderRange"),e[0],e[9],t.i64.cast([0,0]))},function(n){return t.filter(t.db.table(13).fetch([[[e[0],{lte:e[5]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.le(n.minTimestampMs,e[5])&&t.i64.ge(n.maxTimestampMs,e[5])}).next().then(function(t,n){var o,a,i=t.done,l=t.value;return i?(o=[e[1],e[3],e[7]],r[0]=o[0],r[1]=o[1],r[2]=o[2],o):(n=l.item,a=[n.minTimestampMs,n.minMessageId,n.hasMoreBefore],r[0]=a[0],r[1]=a[1],r[2]=a[2])})},function(n){return t.filter(t.db.table(13).fetch([[[e[0],{lte:e[6]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.le(n.minTimestampMs,e[6])&&t.i64.ge(n.maxTimestampMs,e[6])}).next().then(function(t,n){var o,a,i=t.done,l=t.value;return i?(o=[e[2],e[4],e[8]],r[4]=o[0],r[5]=o[1],r[6]=o[2],o):(n=l.item,a=[n.maxTimestampMs,n.maxMessageId,n.hasMoreAfter],r[4]=a[0],r[5]=a[1],r[6]=a[2])})},function(n){return t.forEach(t.filter(t.db.table(13).fetch([[[e[0],{lte:e[6]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.ge(e[6],n.minTimestampMs)&&t.i64.le(e[5],n.maxTimestampMs)}),function(e){return e.delete()})},function(n){return t.db.table(13).put({threadKey:e[0],minTimestampMs:r[0],minMessageId:r[1],maxTimestampMs:r[4],maxMessageId:r[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:r[2],hasMoreAfter:r[6]})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure",e.__tables__=["messages_ranges_v2__generated"],a.exports=e}),null);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.islc(t.db.table(232).fetch(),0,t.i64.to_float(t.i64.cast([0,1]))),function(n){var r=n.item;return t.db.table(233).add({taskId:e[0],notificationScopeKey:r.notificationScopeKey,notificationName:r.notificationName})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskInsertionStoredProcedure",e.__tables__=["mailbox_task_completion_notification_context","mailbox_task_completion_api_tasks"],a.exports=e}),null);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[11]).then(function(e){var t;return t=e,r[0]=t[0],t})},function(e){return t.storedProcedure(n("LSMailboxTaskCompletionApiOnTaskInsertion"),r[0])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSSetMessageDisplayedContentTypes",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return t.db.table(16).fetch([[[e[0],e[1]]]]).next().then(function(e,t){var r,o,a=e.done,i=e.value;return a?(r=[void 0,void 0],n[0]=r[0],n[1]=r[1],r):(t=i.item,o=[t.attachmentType,t.xmaLayoutType],n[0]=o[0],n[1]=o[1])})},function(r){return t.filter(t.db.table(12).fetch([[[e[0],e[2],e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.timestampMs,e[2])&&n.messageId===e[1]}).next().then(function(e,r){var o,a,i=e.done,l=e.value;return i?(o=[t.i64.cast([0,0]),void 0,void 0],n[3]=o[0],n[4]=o[1],n[5]=o[2],o):(r=l.item,a=[r.replySourceTypeV2,r.replySourceId,r.text],n[3]=a[0],n[4]=a[1],n[5]=a[2])})},function(r){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var r=e.done,o=e.value;return r?n[7]=void 0:(t=o.item,n[7]=t.customEmoji)})},function(r){return t.i64.eq(n[0],t.i64.cast([0,6]))?n[9]=t.i64.cast([0,64]):(t.i64.eq(n[0],t.i64.cast([0,5]))?n[16]=t.i64.cast([0,4]):(t.i64.eq(n[0],t.i64.cast([0,3]))?n[17]=t.i64.cast([0,16384]):(t.i64.eq(n[0],t.i64.cast([0,2]))?n[18]=t.i64.cast([0,2]):(t.i64.eq(n[0],t.i64.cast([0,4]))?n[19]=t.i64.cast([0,2]):n[19]=e[5]?t.i64.cast([0,4096]):t.i64.cast([0,0]),n[18]=n[19]),n[17]=n[18]),n[16]=n[17]),n[9]=n[16]),n[10]=n[5]!==void 0&&n[5]!==""&&n[5]!==n[7]?t.i64.or_(n[9],t.i64.cast([0,1])):n[9],n[11]=n[7]!==void 0&&n[7]===n[5]?t.i64.or_(n[10],t.i64.cast([0,128])):n[10],n[12]=t.i64.eq(n[0],t.i64.cast([0,7]))?t.i64.or_(n[11],t.i64.cast([0,8])):n[11],n[13]=t.i64.eq(n[1],t.i64.cast([0,0]))?t.i64.or_(n[12],t.i64.cast([0,1024])):t.i64.eq(n[1],t.i64.cast([0,1]))?t.i64.or_(n[12],t.i64.cast([0,2048])):n[12],n[14]=t.i64.eq(n[3],t.i64.cast([0,2]))&&n[4]!==void 0?t.i64.or_(n[13],t.i64.cast([0,512])):n[13],n[15]=n[5]!==void 0&&n[5]!==""&&n[5]!==n[7]&&t.i64.eq(n[3],t.i64.cast([0,5]))?t.i64.or_(n[14],t.i64.cast([0,512])):n[14],t.forEach(t.filter(t.db.table(12).fetch([[[e[0],e[2],e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.timestampMs,e[2])&&n.messageId===e[1]}),function(r){var o=r.update,a=r.item;return o({displayedContentTypes:e[4]?t.i64.cast([0,32]):t.i64.eq(n[3],t.i64.cast([0,3]))?t.i64.or_(n[15],t.i64.cast([0,8192])):n[15]})})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxSetMessageDisplayedContentTypesStoredProcedure",e.__tables__=["attachments","messages","threads"],a.exports=e}),null);
__d("LSUpsertInboxThreadsRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(198).put({syncGroup:e[0],minLastActivityTimestampMs:e[1],hasMoreBefore:e[2],isLoadingBefore:e[3],minThreadKey:e[4]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpsertInboxThreadsRangeStoredProcedure",e.__tables__=["inbox_threads_ranges"],a.exports=e}),null);
__d("LSUpsertReaction",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(8).put({threadKey:e[0],messageId:e[2],actorId:e[3],timestampMs:e[1],reaction:e[4],authorityLevel:e[5],reactionCreationTimestampMs:e[6]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpsertReactionStoredProcedure",e.__tables__=["reactions"],a.exports=e}),null);
__d("LSUpsertSyncGroupThreadsRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(220).put({syncGroup:e[0],parentThreadKey:e[1],minLastActivityTimestampMs:e[2],hasMoreBefore:e[3],isLoadingBefore:e[4],minThreadKey:e[5]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpsertSyncGroupThreadsRangeStoredProcedure",e.__tables__=["sync_group_threads_ranges"],a.exports=e}),null);
__d("MAWEBMsgsWithSameSortOrderFix",["MAWMessagesCompare","MAWMessagesDirection","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n;if(t==null)return e;var o=(n=r("qex")._("23"))!=null?n:0;return e+o}function s(e){var t=e.direction,n=e.includeReferenceExternalId,a=e.msgCount,i=e.referenceExternalId,l=e.sourceMsgs;if(!r("qex")._("18"))return l;var s=d(l,t),p=o("MAWMessagesCompare").getSortComparisonFunctionForDirection(s),_=l.toSorted(p),f=_.findIndex(function(e){return e.externalId===i});if(m({fetchDirection:t,msgsDirection:s}))return f=u({includeReferenceExternalId:n,referenceMsgIndex:f}),_.slice(f,f+a);f=c({includeReferenceExternalId:n,msgsCount:_.length,referenceMsgIndex:f});var g=Math.max(0,f-a+1);return _.slice(g,f+1)}function u(e){var t=e.includeReferenceExternalId,n=e.referenceMsgIndex;return n===-1?0:t?n:n+1}function c(e){var t=e.includeReferenceExternalId,n=e.msgsCount,r=e.referenceMsgIndex;return r===-1?n-1:t?r:r-1}function d(e,t){var n,r,a=(n=e.find(function(e){return e.sortOrderMs!=null}))==null?void 0:n.sortOrderMs,i=(r=e.findLast(function(e){return e.sortOrderMs!=null}))==null?void 0:r.sortOrderMs;return a==null||i==null?o("MAWMessagesDirection").translateMawDirectionToMwpDirection(t):a>=i?"desc":"asc"}function m(e){var t=e.fetchDirection,n=e.msgsDirection;return t==="before"&&n==="desc"||t==="after"&&n==="asc"}l.overFetchEBMsgsIfNeeded=e,l.fixEBMessagesPagination=s}),98);
__d("MAWEBDeanonFetch",["EBMessageMetadataQuery","FBLogger","MAWEBMsgsWithSameSortOrderFix","WAJids","WAResultOrError","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e.chatJid,n=e.count,a=e.direction,i=e.includeReferenceTimestamp,l=e.referenceExternalId,s=e.referenceTimestampMs,u=e.sortFn;try{var c=o("MAWEBMsgsWithSameSortOrderFix").overFetchEBMsgsIfNeeded(n,l),d=await o("EBMessageMetadataQuery").messageMetadataQueryForMainThreadMAWDeanon({direction:a,includeAnonymizedMessages:!1,numberOfMessages:c,referenceTimestamp:s,threadId:o("WAJids").threadIdForChatJid(t)});if(d.success===!1)return o("WAResultOrError").DEPRECATED_makeError("error",d.payload);var m=d.value.messages,p=m.reduce(function(e,t){var n=t.offlineThreadingId,r=t.sortOrderMs;if(n==null||r==null)return e;var o=Number(r);return i!==!0&&o===s||e.push({externalId:n,msgType:"unknown-deanon",sortOrderMs:o}),e},[]),_=o("MAWEBMsgsWithSameSortOrderFix").fixEBMessagesPagination({direction:a,includeReferenceExternalId:i,msgCount:n,referenceExternalId:l,sourceMsgs:p}),f=u==null?_:_.sort(u);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web_missing_messages").catching(g).mustfix("Deanon GraphQL fails with error"),o("WAResultOrError").DEPRECATED_makeError("request-error",g)}}l.fetchMessagesMetadataFromEBDeanon=e}),98);
__d("MAWFetchExternalIdUsingCache",["FBLogger","LSDatabaseSingleton","MAWBridgeSendAndReceive","MAWDbMsg","WAStanzaUtils","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map;async function u(e){if(e==="")return null;var t=d(e);if(t!=null)return t;if(t=await c(e),t!=null)return m(e,t),t;try{var n=o("MAWDbMsg").toMsgId(e);if(n==null)return r("FBLogger")("messenger_web").warn("[MAWFetchProtocolMessageIdUsingCache] failed fetch external id, invalid msgId %s",e),null;var a=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:n});return(a==null?void 0:a.externalId)==null?(r("FBLogger")("messenger_web").warn("[MAWFetchProtocolMessageIdUsingCache] external id for msgId %s not found",e),null):(m(e,a.externalId),a.externalId)}catch(e){var i=r("getErrorSafe")(e);throw r("FBLogger")("messenger_web").catching(i).mustfix("[MAWFetchProtocolMessageIdUsingCache] getProtocolMsgIdByMsgId bridge call failed"),i}}async function c(t){var n=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await n.tables.messages.index("messageId").get(t);return r!=null?o("WAStanzaUtils").toStanzaId(r.offlineThreadingId):null}function d(e){return s.get(e)}function m(e,t){return e===""?!1:(s.set(e,t),!0)}l.fetchExternalIdUsingCache=u,l.populateExternalIdCache=m}),98);
__d("MAWMessagesPaginationUtils",["FBLogger","MAWFetchExternalIdUsingCache","MAWMessagesDirection","WAStanzaUtils","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWMessagesDirection").getRangeMsgIdForDirection(e,t);return u(n)}function s(e){r("qex")._("18")&&e.forEach(function(e){return o("MAWFetchExternalIdUsingCache").populateExternalIdCache(e.msgId.toString(),o("WAStanzaUtils").toStanzaId(e.externalId))})}async function u(e){if(e==null||e===""||!r("qex")._("18"))return null;var t=await o("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(e);return t==null&&r("FBLogger")("messenger_web").mustfix("[MAWMessagesPaginationUtils] getExternalIdByMsgId for msgId: %s returned null",e),t}function c(e,t,n){return e===t?Promise.resolve(n):d(t)}async function d(e){if(!r("qex")._("18"))return{maxExternalId:null,minExternalId:null};var t=await u(e.minMessageId),n=await u(e.maxMessageId);return{maxExternalId:n==null?void 0:n.toString(),minExternalId:t==null?void 0:t.toString()}}l.getRangeExternalIdForDirection=e,l.populateExternalIdCache=s,l.getExternalIdByMsgId=u,l.getMessagesRangesV2ExternalIdsIfChanged=c,l.getMessagesRangesV2ExternalIds=d}),98);
__d("MAWMiActOnActThreadReadyWithoutValidator",["I64","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReadyInstrumentation","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState__DO_NOT_USE","MWFBLogger","emptyFunction","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWLogger().tags(["Occam","MiActMapping"]);async function d(t,n,a,i,l,d){var m=o("MAWMiActOnActThreadReadyInstrumentation").getOnActThreadReadyInstanceKey(a);o("MAWMiActOnActThreadReadyInstrumentation").startQPL(m,a,n,"onActThreadReady"),o("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"get_thread_lifecycle_state_by_thread_key_start");var p=d||await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(t,n,a);switch(o("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"get_thread_lifecycle_state_by_thread_key_end"),o("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(m,{string:{threadState:p.type}}),p.type){case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:return c.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"])),a,p.type,(u||(u=o("I64"))).to_string(n)),o("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(m),i(n,p.jid);case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.THREAD_KEY_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:return c.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Enqueue by thread key: ",", threadState: ",", threadKey: "," on act thread ready"])),a,p.type,(u||(u=o("I64"))).to_string(n)),o("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(n,i,l!=null?l:r("emptyFunction"),a,p.type,m);case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw o("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(m,"jid_missing_mi_or_mapping_state"),c.mustfixThrow("Unhandled onActThreadReady for threadKey:%s, thread action: %s",(u||(u=o("I64"))).to_string(n),a);default:throw p.type,c.mustfixThrow(" Unreachable miActThreadState.type: %s",p.type)}}function m(e,t,n){return new Promise(function(o,a){d(e,t,n,function(e,t){return o({chatJid:t,serverThreadKey:e}),Promise.resolve()},function(e){return a(r("err")("Timed out waiting for ACT thread to be ready in %s. Thread state: %s",n,e))}).catch(function(){return a()})})}l.onActThreadReadyWithoutValidator=d,l.waitForACTThreadReadyWithoutValidator=m}),98);
__d("MAWMiActOnActThreadReady",["MAWMIC","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReadyWithoutValidator","cr:7542","err","promiseDone","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,r,a,i){var l=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(e,t,r),s=l.type,u=async function(i,l){return n("cr:7542")&&await n("cr:7542").load().then(function(n){var o=n.validateActThreadReady;return o({chatJid:l,description:r,initialMappingStateType:s,tables:e,threadKey:t})}),a==null?void 0:a(i,l)};return o("MAWMiActOnActThreadReadyWithoutValidator").onActThreadReadyWithoutValidator(e,t,r,u,i,l)}function s(t,n,a,i){return new Promise(function(l,s){e(t,n,a,function(e,t){return l({chatJid:t,serverThreadKey:e}),Promise.resolve()},function(e){s(r("err")("Timed out waiting for ACT thread to be ready in %s. Thread state: %s",a,e)),r("promiseDone")(o("MAWMIC").getState().then(function(e){i!=null&&o("sendToSentQPLLogger").addSendToSentAnnotations(i,{string:{mic_state:e}})}))}).catch(function(){return s()})})}l.onActThreadReady=e,l.waitForACTThreadReady=s}),98);
__d("MAWSubscribeToLSTruncateMetadataThreads",["I64","Int64Hooks","MAWMiActMappingTableAPI","gkx","promiseDone","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n){return r("gkx")("9855")?o("MAWMiActMappingTableAPI").subscribeToMappingDeletion(t,n):function(){}};function u(t,n){var a=o("react-compiler-runtime").c(5),i=r("useAsyncReStore")(),l,u;a[0]!==i||a[1]!==n||a[2]!==t?(l=function(){if(r("gkx")("9855")){var a=i.then(function(r){return s(r,function(r,a){(e||(e=o("I64"))).equal(a,t)&&n()})});return(function(){r("promiseDone")(a,c)})}},u=[t,i,n],a[0]=i,a[1]=n,a[2]=t,a[3]=l,a[4]=u):(l=a[3],u=a[4]),o("Int64Hooks").useEffectInt64(l,u)}function c(e){return e()}l.subscribeToLSTruncateMetadataThreads=s,l.useLSTruncateMetadataThread=u}),98);
__d("MAWThreadUtils",["LSIntEnum","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return e.threads.where("jid").equals(t).modify(n)}function u(t){var n=o("WAJids").switchOnMsgrChatJidType(t,{group:function(){return(e||(e=o("LSIntEnum"))).ofNumber(16)},user:function(){return(e||(e=o("LSIntEnum"))).ofNumber(15)}});return n}l.updateThreadWithJid=s,l.getLSThreadTypeFromJid=u}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1271"),s=o("FalcoLoggerInternal").create("message_sends_client",e),u=s;l.default=u}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=[];function c(e){return function(){for(;u.length>0;)(s||(s=r("ErrorGuard"))).applyWithGuard(p,null,[e,u.shift(),!0])}}var d=!1;function m(e,t){u.push(t),d||(o("LSPlatformLsInitLog").onCompleteOrFail(c(e)),d=!0)}function p(t,n,a){var i=n._mentionedJids,l=n.actor,s=n.additionalTags,u=n.attachmentFbids,c=n.attachmentType,d=n.backend,p=n.ephemeralDurationInSec,_=n.hasReply,f=n.igdTargetType,g=n.initatingSource,h=n.isInstamadilloTTLC,y=n.messageSendDataclass,C=n.messagingThreadId,b=n.msgTtl,v=n.offlineThreadingId,S=n.sendType,R=n.source,L=n.threadKey,E=n.threadType;r("promiseDone")((async function(){await Promise.all([o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.participants).getKeyRange(L).filter(function(t){return!(e||(e=o("I64"))).equal(t.contactId,l)})),o("MultipleTabsLogger").hasMultipleTabs()]).then(function(i){var k=i[0],I=i[1];if(k==null){var T=o("LSPlatformLsInitLog").isPending();if(T&&a!==!0){m(t,n);return}a===!0&&r("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var D=k.map(function(t){return(e||(e=o("I64"))).to_string(t.contactId)}),x=o("LSMessagingThreadTypeUtil").isOneToOne(E)&&(k==null?void 0:k.length)===0;x&&D.push((e||(e=o("I64"))).to_string(l));var $=C!=null?C:(e||(e=o("I64"))).to_string(L),P=b!=null?(e||(e=o("I64"))).to_string((e||(e=o("I64"))).of_float(b)):void 0,N=[I===!0?19:null,p!=null?15:null,h===!0?37:null].filter(Boolean);($==null||$===""||(e||(e=o("I64"))).le(L,(e||(e=o("I64"))).zero))&&(n.waGroupJid!=null?r("FBLogger")("mw_log_send").mustfix("Thread FBID is null and recovered by chatJid in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(e||(e=o("I64"))).to_string(L),C,S):r("FBLogger")("mw_log_send").mustfix("Thread FBID is null in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(e||(e=o("I64"))).to_string(L),C,S)),r("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:s,backend:d,event_type:S,feature_tags:N,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:f,igd_verb:void 0,initiating_app_id:void 0,initiating_source:g,is_reply:_,message_attachment_fbids:u.map(String),message_id:void 0,message_send_dataclass_logged:y,message_type:c,messaging_thread_fbid:$,messaging_thread_type:(e||(e=o("I64"))).to_int32(E),msg_ttl:P,nav_chain:void 0,nonce:void 0,offline_threading_id:v,recipient_fbids:D,send_attribution:e.to_int32(R),send_attribution_raw:void 0,view_mode:void 0,wa_group_jid:n.waGroupJid}})})})())}l.log=p}),98);
__d("useGroupsCometIsInCCNegativeTest",["qex","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(1),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("qex")._("905"),e[0]=t):t=e[0];var n=t===!0;return n}function s(){var e=o("react-compiler-runtime").c(1),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("qex")._("913"),e[0]=t):t=e[0];var n=t===!0;return n}function u(){var e=o("react-compiler-runtime").c(1),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("qex")._("914"),e[0]=t):t=e[0];var n=t===!0;return n}function c(){var e=o("react-compiler-runtime").c(1),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("qex")._("916"),e[0]=t):t=e[0];var n=t===!0;return n}l.useShouldDisableFeedChatPostsAttachmentsForNegativeTest=e,l.useShouldDisableGroupsTabForNegativeTest=s,l.useShouldDisableCMInCometHomeForNegativeTest=u,l.useShouldDisableBumpToInboxForNegativeTest=c}),98);/*FB_PKG_DELIM*/
__d("ActorURI",["ActorURIConfig","URI"],(function(t,n,r,o,a,i,l){var e;function s(t,n){return new(e||(e=r("URI")))(t).addQueryData(r("ActorURIConfig").PARAMETER_ACTOR,n)}l.create=s,l.PARAMETER_ACTOR=r("ActorURIConfig").PARAMETER_ACTOR}),98);
__d("RelayFBConsoleLog",["cr:1121434"],(function(t,n,r,o,a,i,l){"use strict";var e=n("cr:1121434")!=null?n("cr:1121434")():null,s=e;l.default=s}),98);
__d("RelayFBScheduler",[],(function(t,n,r,o,a,i){"use strict";var e={cancel:function(){},schedule:function(t){return t(),""}},l=e;i.default=l}),66);
__d("liveQueryFetchWithWWWInitialWrapper",["JSResource","RelayRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){return n.config_id!=null?o("RelayRuntime").Observable.create(function(o){var i;return r("promiseDone")(r("JSResource")("liveQueryFetchWithWWWInitial").__setRef("liveQueryFetchWithWWWInitialWrapper").load().then(function(r){var l=r(e,t,n,a);i=l.subscribe(o)}).catch(function(e){return o.error(e)})),function(){i&&i.unsubscribe()}}):a}l.default=e}),98);
__d("RelayFBEnvironmentDefinitions",["RelayFBConsoleLog","RelayFBEnvironmentActorID","RelayFBGCScheduler","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBScheduler","RelayFieldLogger","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","liveQueryFetchWithWWWInitialWrapper","relay-runtime","relayFBGetDataID"],(function(t,n,r,o,a,i){"use strict";var e=["actorID","handlerProvider","log","missingFieldHandlers","operationLoader","store","relayFieldLogger","scheduler","getDataID"],l=["networkConfig"],s,u=n("RelayFBEnvironmentActorID").getActorID,c=(s=n("relay-runtime")).Environment,d=s.QueryResponseCache,m=s.RecordSource,p=s.Store;function _(t){var r,o,a=t.actorID,i=t.handlerProvider,s=i===void 0?n("RelayFBHandlerProvider"):i,u=t.log,_=u===void 0?(r=t.log)!=null?r:n("RelayFBConsoleLog"):u,f=t.missingFieldHandlers,g=f===void 0?n("getRelayFBMissingFieldHandlers")():f,h=t.operationLoader,y=h===void 0?n("RelayFBOperationLoader"):h,C=t.store,b=C===void 0?new p(new m,{gcReleaseBufferSize:10,gcScheduler:n("RelayFBGCScheduler"),getDataID:(o=t.getDataID)!=null?o:n("relayFBGetDataID"),log:_,operationLoader:n("RelayFBOperationLoader"),queryCacheExpirationTime:300*1e3}):C,v=t.relayFieldLogger,S=v===void 0?n("RelayFieldLogger").create():v,R=t.scheduler,L=R===void 0?n("RelayFBScheduler"):R,E=t.getDataID,k=E===void 0?n("relayFBGetDataID"):E,I=babelHelpers.objectWithoutPropertiesLoose(t,e),T={actorID:a};if(I.network)return new c(babelHelpers.extends({},I,{getDataID:k,handlerProvider:s,log:_,missingFieldHandlers:g,operationLoader:y,options:T,relayFieldLogger:S,scheduler:L,store:b}));var D,x,$=I.networkConfig,P=babelHelpers.objectWithoutPropertiesLoose(I,l),N=(D=$==null?void 0:$.queryResponseCache)!=null?D:new d({size:10,ttl:300*1e3}),M=(x=$==null?void 0:$.liveQueryFetchWithWWWInitialFn)!=null?x:n("liveQueryFetchWithWWWInitialWrapper"),w=n("createRelayFBNetwork")(n("createRelayFBNetworkFetch")(babelHelpers.extends({},$,{actorID:a,liveQueryFetchWithWWWInitialFn:M,queryResponseCache:N})),n("createRelayFBSubscribeFunction")({actorID:a,queryResponseCache:N}));return new c(babelHelpers.extends({},P,{getDataID:k,handlerProvider:s,log:_,missingFieldHandlers:g,network:w,operationLoader:y,options:T,relayFieldLogger:S,scheduler:L,store:b}))}function f(e){var t=new Map;return{commitLocalUpdateForEachEnvironment:function(n){var e=function(){var e=r[1];e.commitUpdate(function(t){n(u(e),e,t)})};for(var r of t)e()},getForActorID:function(r,o){var n=r+(o!=null?o:""),a=t.get(n);return a||(a=_(e(r,o)),t.set(n,a)),a}}}a.exports={createEnvironment:_,createEnvironmentFactory:f}}),null);
__d("react-relay/ReactRelayContainerUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.displayName||e.name||"Component"}function l(t){return"Relay("+e(t)+")"}a.exports={getComponentName:e,getContainerName:l}}),null);
__d("react-relay/isRelayEnvironment",[],(function(t,n,r,o,a,i){"use strict";function e(e){return typeof e=="object"&&e!==null&&typeof e.check=="function"&&typeof e.lookup=="function"&&typeof e.retain=="function"&&typeof e.execute=="function"&&typeof e.subscribe=="function"}a.exports=e}),null);
__d("react-relay/RelayContext",["invariant","react-relay/isRelayEnvironment"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s(e)||l(0,6172,e),e}function s(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&n("react-relay/isRelayEnvironment")(e.environment)}a.exports={assertRelayContext:e,isRelayContext:s}}),null);
__d("react-relay/ReactRelayQueryRendererContext",["react"],(function(t,n,r,o,a,i){"use strict";var e,l=e||(e=n("react"));a.exports=l.createContext({rootIsQueryRenderer:!1})}),null);
__d("react-relay/buildReactRelayContainer",["invariant","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","react-relay/assertFragmentMap","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("react-relay/ReactRelayContainerUtils").getComponentName,u=n("react-relay/ReactRelayContainerUtils").getContainerName,c=e||(e=n("react")),d=n("relay-runtime").getFragment,m=c.useContext;function p(e,t,r){var o=u(e);n("react-relay/assertFragmentMap")(s(e),t);var i={};for(var p in t)i[p]=d(t[p]);var _=r(e,i);_.displayName=o;function f(e,t){var r,a=m(n("react-relay/ReactRelayContext"));a!=null||l(0,18241,o,o);var i=m(n("react-relay/ReactRelayQueryRendererContext"));return c.jsx(_,babelHelpers.extends({},e,{__relayContext:a,__rootIsQueryRenderer:(r=i==null?void 0:i.rootIsQueryRenderer)!=null?r:!1,componentRef:e.componentRef||t}))}f.displayName=f.name+" [from "+a.id+"]",f.displayName=o;var g=c.forwardRef(f);return g}a.exports=p}),null);
__d("react-relay/ReactRelayFragmentContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","react-relay/buildReactRelayContainer","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=["componentRef","__relayContext","__rootIsQueryRenderer"],l,s,u=n("react-relay/ReactRelayContainerUtils").getContainerName,c=n("react-relay/RelayContext").assertRelayContext,d=l||(l=n("react")),m=n("relay-runtime").createFragmentSpecResolver,p=n("relay-runtime").getDataIDsFromObject,_=n("relay-runtime").isScalarAndEqual;function f(t,r){var o,a=u(t);return o=(function(o){function i(e){var t,n;n=o.call(this,e)||this,n.$3=function(){var e=n.state.resolver;n.setState(function(t){return e===t.resolver?{data:t.resolver.resolve(),relayProp:g(t.relayProp.environment)}:null})};var i=c(e.__relayContext),l=(t=e.__rootIsQueryRenderer)!=null?t:!1,s=m(i,a,r,e,l);return n.state={data:s.resolve(),prevProps:e,prevPropsContext:i,relayProp:g(i.environment),resolver:s},n}babelHelpers.inheritsLoose(i,o),i.getDerivedStateFromProps=function(t,o){var e,i=o.prevProps,l=c(t.__relayContext),u=(e=t.__rootIsQueryRenderer)!=null?e:!1,d=p(r,i),_=p(r,t),f=o.resolver;if(o.prevPropsContext.environment!==l.environment||!(s||(s=n("areEqual")))(d,_))return f=m(l,a,r,t,u),{data:f.resolve(),prevProps:t,prevPropsContext:l,relayProp:g(l.environment),resolver:f};f.setProps(t);var h=f.resolve();return h!==o.data?{data:h,prevProps:t,prevPropsContext:l,relayProp:g(l.environment)}:null};var l=i.prototype;return l.componentDidMount=function(){this.$1()},l.componentDidUpdate=function(t,n){this.state.resolver!==n.resolver?(n.resolver.dispose(),this.$1()):this.$2()},l.componentWillUnmount=function(){this.state.resolver.dispose()},l.shouldComponentUpdate=function(t,n){if(n.data!==this.state.data)return!0;for(var e=Object.keys(t),o=0;o<e.length;o++){var a=e[o];if(a==="__relayContext"){if(n.prevPropsContext.environment!==this.state.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(r,a)&&!_(t[a],this.props[a]))return!0}return!1},l.$2=function(){var e=this.state,t=e.data,n=e.resolver,r=n.resolve();t!==r&&this.setState({data:r})},l.$1=function(){var e=this.state,t=e.data,n=e.resolver,r=n.resolve();n.setCallback(this.props,this.$3),t!==r&&this.setState({data:r})},l.render=function(){var n=this.props,r=n.componentRef,o=n.__relayContext,a=n.__rootIsQueryRenderer,i=babelHelpers.objectWithoutPropertiesLoose(n,e);return d.jsx(t,babelHelpers.extends({},i,this.state.data,{ref:r,relay:this.state.relayProp}))},i})(d.Component),o.displayName=a,o}function g(e){return{environment:e}}function h(e,t){return n("react-relay/buildReactRelayContainer")(e,t,f)}a.exports={createContainer:h}}),null);
__d("react-relay/ReactRelayLocalQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e,l,s=e||(e=n("react")),u=n("relay-runtime").createOperationDescriptor,c=n("relay-runtime").deepFreeze,d=n("relay-runtime").getRequest,m=s.useLayoutEffect,p=s.useState,_=s.useRef,f=s.useMemo,g={rootIsQueryRenderer:!0};function h(e){var t=s.useRef(e);return(l||(l=n("areEqual")))(t.current,e)||(t.current=e),t.current}function y(e){var t=e.environment,r=e.query,o=e.variables,a=e.render,i=h(o),l=f(function(){var e=d(r);return u(e,i)},[r,i]),c=f(function(){return{environment:t}},[t]),y=_(null),C=p(null),b=C[1],v=_(null),S=f(function(){t.check(l);var e=t.lookup(l.fragment);y.current=e.data;var n=t.retain(l),r=t.subscribe(e,function(e){y.current=e.data,b(y.current)}),o=!1;function a(){o||(o=!0,v.current=null,n.dispose(),r.dispose())}return v.current&&v.current(),v.current=a,e},[t,l]);return m(function(){var e=v.current;return function(){e&&e()}},[S]),s.jsx(n("react-relay/ReactRelayContext").Provider,{value:c,children:s.jsx(n("react-relay/ReactRelayQueryRendererContext").Provider,{value:g,children:a({props:y.current})})})}y.displayName=y.name+" [from "+a.id+"]",a.exports=y}),null);
__d("react-relay/ReactRelayQueryFetcher",["invariant","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=n("relay-runtime").__internal.fetchQuery,s=n("relay-runtime").createOperationDescriptor,u=n("relay-runtime").isRelayModernEnvironment,c=(function(){function t(e){this.$4=[],this.$8=!1,e!=null&&(this.$7=e.cacheSelectionReference,this.$4=e.selectionReferences)}var n=t.prototype;return n.getSelectionReferences=function(){return{cacheSelectionReference:this.$7,selectionReferences:this.$4}},n.lookupInStore=function(t,n,r){return(r==="store-and-network"||r==="store-or-network")&&t.check(n).status==="available"?(this.$9(t,n),t.lookup(n.fragment)):null},n.getFetchResult=function(){if(this.$8){if(this.$6!=null)return{error:this.$6};if(this.$5!=null)return{snapshot:this.$5}}else return null},n.execute=function(n){var t=this,r=n.environment,o=n.operation,a=n.preservePreviousReferences,i=a===void 0?!1:a,l=r.retain(o),s=function(){t.$4=t.$4.concat(l)},c=function(){i||t.disposeSelectionReferences(),t.$4=t.$4.concat(l)},d=function(){t.$4=t.$4.concat(l)};return u(r)?e(r,o).do({error:s,complete:c,unsubscribe:d}):r.execute({operation:o}).do({error:s,complete:c,unsubscribe:d})},n.setOnDataChange=function(t){this.$1||l(0,4542),typeof t=="function"&&(this.$1.onDataChangeCallbacks=this.$1.onDataChangeCallbacks||[],this.$1.onDataChangeCallbacks.push(t),this.$8&&(this.$6!=null?t({error:this.$6}):this.$5!=null&&t({snapshot:this.$5})))},n.fetch=function(t,n){var e=this,r=t.environment,o=t.operation,a=t.onDataChange,i=!1,l;this.disposeRequest();var u=this.$1&&this.$1.onDataChangeCallbacks;this.$1={environment:r,onDataChangeCallbacks:u||[],operation:o},a&&this.$1.onDataChangeCallbacks.indexOf(a)===-1&&this.$1.onDataChangeCallbacks.push(a);var c=n?s(o.request.node,o.request.variables,n):o,d=this.execute({environment:r,operation:c}).finally(function(){e.$2=null}).subscribe({next:function(){e.$8=!0,e.$6=null,e.$10({notifyFirstResult:i})},error:function(n){e.$8=!0,e.$6=n,e.$5=null;var t=e.$1&&e.$1.onDataChangeCallbacks;i?t&&t.forEach(function(e){e({error:n})}):l=n}});if(this.$2={dispose:function(){d.unsubscribe()}},i=!0,l)throw l;return this.$5},n.retry=function(t){return this.$1||l(0,4543),this.fetch({environment:this.$1.environment,operation:this.$1.operation,onDataChange:null},t)},n.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()},n.disposeRequest=function(){this.$6=null,this.$5=null,this.$2&&this.$2.dispose(),this.$3&&(this.$3.dispose(),this.$3=null)},n.$9=function(t,n){this.$11(),this.$7=t.retain(n)},n.$11=function(){this.$7&&this.$7.dispose(),this.$7=null},n.disposeSelectionReferences=function(){this.$11(),this.$4.forEach(function(e){return e.dispose()}),this.$4=[]},n.$10=function(t){var e=this,n=t.notifyFirstResult;this.$1||l(0,4544);var r=this.$1,o=r.environment,a=r.onDataChangeCallbacks,i=r.operation;if(!this.$5&&(this.$5=o.lookup(i.fragment),this.$3=o.subscribe(this.$5,function(t){if(e.$1!=null){var n=e.$1.onDataChangeCallbacks;Array.isArray(n)&&n.forEach(function(e){return e({snapshot:t})})}}),this.$5&&n&&Array.isArray(a))){var s=this.$5;a.forEach(function(e){return e({snapshot:s})})}},t})();a.exports=c}),null);
__d("react-relay/getRootVariablesForFragments",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=n("relay-runtime").getSelector;function l(t,n){var r={};return Object.keys(t).forEach(function(o){var a,i,l,s=t[o],u=n[o],c=e(s,u),d=c!=null&&c.kind==="PluralReaderSelector"?(a=(i=c.selectors[0])==null?void 0:i.owner.variables)!=null?a:{}:(l=c==null?void 0:c.owner.variables)!=null?l:{};r=babelHelpers.extends({},r,d)}),r}a.exports=l}),null);
__d("react-relay/ReactRelayPaginationContainer",["invariant","areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(t,n,r,o,a,i,l){"use strict";var e=["componentRef"],s=["componentRef","__relayContext","__rootIsQueryRenderer"],u=["componentRef","__relayContext","__rootIsQueryRenderer"],c,d,m=n("react-relay/ReactRelayContainerUtils").getComponentName,p=n("react-relay/ReactRelayContainerUtils").getContainerName,_=n("react-relay/RelayContext").assertRelayContext,f=c||(c=n("react")),g=n("relay-runtime").ConnectionInterface,h=n("relay-runtime").Observable,y=n("relay-runtime").RelayFeatureFlags,C=n("relay-runtime").createFragmentSpecResolver,b=n("relay-runtime").createOperationDescriptor,v=n("relay-runtime").getDataIDsFromObject,S=n("relay-runtime").getRequest,R=n("relay-runtime").getVariablesFromObject,L=n("relay-runtime").isScalarAndEqual,E="forward";function k(e){var t=e.path;return t||l(0,1219),function(n){for(var r=n[e.fragmentName],o=0;o<t.length;o++){if(!r||typeof r!="object")return null;r=r[t[o]]}return r}}function I(e){var t=e.count;return t||l(0,1220),function(e,n){var r;return babelHelpers.extends({},e,(r={},r[t]=n,r))}}function T(e){var t=null,n=!1;for(var r in e){var o=e[r],a=o.metadata&&o.metadata.connection;o.metadata!==void 0&&(n=!0),a&&(a.length===1||l(0,1221,r,a.length),!t||l(0,1222),t=babelHelpers.extends({},a[0],{fragmentName:r}))}return!n||t!==null||l(0,1223),t||{}}function D(e){return typeof e=="function"?{complete:e,error:e,unsubscribe:function(n){typeof e=="function"&&e()}}:e||{}}function x(t,r,o){var a,i=m(t),c=p(t),x=T(r),$=o.getConnectionFromProps||k(x),P=o.direction||x.direction;P||l(0,1224);var N=o.getFragmentVariables||I(x);return a=(function(a){function m(e){var t,o;o=a.call(this,e)||this,o.$8=function(){o.setState({data:o.$4.resolve()})},o.$13=function(){var e=o.$17();return!!(e&&e.hasMore&&e.cursor)},o.$14=function(){return!!o.$2},o.$16=function(e,t,n){if(!o.$18("refetchConnection"))return{dispose:function(){}};o.$3=n;var r={count:e,cursor:null,totalCount:e},a=o.$19(r,D(t),{force:!0});return{dispose:a.unsubscribe}},o.$15=function(e,t,r){if(!o.$18("loadMore"))return{dispose:function(){}};var a=D(t),i=o.$17();if(!i)return h.create(function(e){return e.complete()}).subscribe(a),null;var l=i.edgeCount+e;if(r&&r.force)return o.$16(l,t);var s=g.get(),u=s.END_CURSOR,c=s.START_CURSOR,d=i.cursor;n("warning")(d!=null&&d!=="","ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)",P===E?u:c,d);var m={count:e,cursor:d,totalCount:l},p=o.$19(m,a,r);return{dispose:p.unsubscribe}};var i=_(e.__relayContext),l=(t=e.__rootIsQueryRenderer)!=null?t:!1;return o.$1=!1,o.$2=null,o.$3=null,y.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?o.$4=C(i,c,r,e,l):o.$4=C(i,c,r,e,l,o.$8),o.state={contextForChildren:i,data:o.$4.resolve(),prevContext:i,relayProp:o.$9(i),resolverGeneration:0},o.$6=!1,o.$7=!1,o}babelHelpers.inheritsLoose(m,a);var p=m.prototype;return p.componentDidMount=function(){this.$6=!1,y.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.$10()},p.componentDidUpdate=function(t,n){y.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&(n.resolverGeneration!==this.state.resolverGeneration?this.$10():this.$11())},p.UNSAFE_componentWillReceiveProps=function(t){var e,o=this,a=_(t.__relayContext),i=(e=t.__rootIsQueryRenderer)!=null?e:!1,l=v(r,this.props),s=v(r,t),u=n("react-relay/getRootVariablesForFragments")(r,this.props),m=n("react-relay/getRootVariablesForFragments")(r,t);a.environment!==this.state.prevContext.environment||!(d||(d=n("areEqual")))(u,m)||!(d||(d=n("areEqual")))(l,s)?(this.$12(),y.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?this.$4=C(a,c,r,t,i):this.$4=C(a,c,r,t,i,this.$8),this.setState(function(e){return{contextForChildren:a,prevContext:a,relayProp:o.$9(a),resolverGeneration:e.resolverGeneration+1}})):this.$7||this.$4.setProps(t);var p=this.$4.resolve();p!==this.state.data&&this.setState({data:p})},p.componentWillUnmount=function(){this.$6=!0,this.$12()},p.shouldComponentUpdate=function(t,n){if(n.data!==this.state.data||n.relayProp!==this.state.relayProp||n.resolverGeneration!==this.state.resolverGeneration)return!0;for(var e=Object.keys(t),o=0;o<e.length;o++){var a=e[o];if(a==="__relayContext"){if(n.prevContext.environment!==this.state.prevContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(r,a)&&!L(t[a],this.props[a]))return!0}return!1},p.$9=function(t){return{environment:t.environment,hasMore:this.$13,isLoading:this.$14,loadMore:this.$15,refetchConnection:this.$16}},p.$11=function(){var e=this.state.data,t=this.$4.resolve();e!==t&&this.setState({data:t})},p.$10=function(){var e=this.state.data,t=this.$4.resolve();this.$4.setCallback(this.props,this.$8),e!==t&&this.setState({data:t})},p.$17=function(){var t=this.props,r=t.componentRef,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=babelHelpers.extends({},o,this.state.data),s=$(a);if(s==null)return null;var u=g.get(),c=u.EDGES,d=u.PAGE_INFO,m=u.HAS_NEXT_PAGE,p=u.HAS_PREV_PAGE,_=u.END_CURSOR,f=u.START_CURSOR;typeof s=="object"||l(0,1225,i,c,d,s);var h=s[c],y=s[d];if(h==null||y==null)return null;Array.isArray(h)||l(0,1226,i,c,h),typeof y=="object"||l(0,1227,i,d,y);var C=P===E?y[m]:y[p],b=P===E?y[_]:y[f];return typeof C!="boolean"||h.length!==0&&typeof b=="undefined"?(n("warning")(!1,"ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. Be sure to fetch %s (got `%s`) and %s (got `%s`).",d,i,P===E?m:p,C,P===E?_:f,b),null):{cursor:b,edgeCount:h.length,hasMore:C}},p.$20=function(){return this.$5||(this.$5=new(n("react-relay/ReactRelayQueryFetcher"))),this.$5},p.$18=function(t){return this.$6?(n("warning")(!1,"ReactRelayPaginationContainer: Unexpected call of `%s` on unmounted container `%s`. It looks like some instances of your container still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `%s` call.",t,c,t),!1):!0},p.$19=function(t,a,u){var e=this,c=_(this.props.__relayContext),m=c.environment,p=this.props,f=p.componentRef,g=p.__relayContext,y=p.__rootIsQueryRenderer,C=babelHelpers.objectWithoutPropertiesLoose(p,s),v=babelHelpers.extends({},C,this.state.data),L,E=n("react-relay/getRootVariablesForFragments")(r,C);L=R(r,C),L=babelHelpers.extends({},E,L,this.$3);var k=o.getVariables(v,{count:t.count,cursor:t.cursor},L);typeof k=="object"&&k!==null||l(0,1228,k,i),k=babelHelpers.extends({},k,this.$3),L=babelHelpers.extends({},k,L);var I=u?{force:!!u.force}:void 0;I!=null&&(u==null?void 0:u.metadata)!=null&&(I.metadata=u==null?void 0:u.metadata);var T=S(o.query),D=b(T,k,I),x=null;this.$2&&this.$2.unsubscribe(),this.$7=!0;var $=function(o,a){var r=e.$4.resolve();e.$4.setVariables(N(L,t.totalCount),D.request.node);var i=e.$4.resolve();(d||(d=n("areEqual")))(r,i)?a():e.setState({contextForChildren:{environment:e.props.__relayContext.environment},data:i},a)},P=function(){e.$2===x&&(e.$2=null,e.$1=!1)};return this.$1=!0,x=this.$20().execute({environment:m,operation:D,preservePreviousReferences:!0}).mergeMap(function(e){return h.create(function(t){$(e,function(){t.next(),t.complete()})})}).do({complete:P,error:P,unsubscribe:P}).subscribe(a||{}),this.$2=this.$1?x:null,x},p.$12=function(){this.$4.dispose(),this.$3=null,this.$7=!1,this.$2&&(this.$2.unsubscribe(),this.$2=null,this.$1=!1),this.$5&&this.$5.dispose()},p.render=function(){var e=this.props,r=e.componentRef,o=e.__relayContext,a=e.__rootIsQueryRenderer,i=babelHelpers.objectWithoutPropertiesLoose(e,u);return f.jsx(n("react-relay/ReactRelayContext").Provider,{value:this.state.contextForChildren,children:f.jsx(t,babelHelpers.extends({},i,this.state.data,{ref:r,relay:this.state.relayProp}))})},m})(f.Component),a.displayName=c,a}function $(e,t,r){return n("react-relay/buildReactRelayContainer")(e,t,function(e,t){return x(e,t,r)})}a.exports={createContainer:$}}),null);
__d("react-relay/ReactRelayQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e,l,s=e||(e=n("react")),u=n("relay-runtime").createOperationDescriptor,c=n("relay-runtime").deepFreeze,d=n("relay-runtime").getRequest,m={},p={rootIsQueryRenderer:!0},_=(function(e){function t(t){var r;r=e.call(this,t)||this,r.$2=function(e){var t=e.error==null?null:e.error,n=e.snapshot==null?null:e.snapshot;r.setState(function(e){var r=e.requestCacheKey;return r&&delete m[r],n===e.snapshot&&t===e.error?null:{renderProps:h(t,n,e.queryFetcher,e.retryCallbacks),snapshot:n,requestCacheKey:null}})};var o={handleDataChange:null,handleRetryAfterError:null},a,i;if(t.query){var l=t.query,s=d(l);i=y(s.params,t.variables),a=m[i]?m[i].queryFetcher:new(n("react-relay/ReactRelayQueryFetcher"))}else a=new(n("react-relay/ReactRelayQueryFetcher"));return r.$1=!1,r.state=babelHelpers.extends({prevPropsEnvironment:t.environment,prevPropsVariables:t.variables,prevQuery:t.query,queryFetcher:a,retryCallbacks:o},b(t,a,o,i)),r}babelHelpers.inheritsLoose(t,e),t.getDerivedStateFromProps=function(t,r){return r.prevQuery!==t.query||r.prevPropsEnvironment!==t.environment||!(l||(l=n("areEqual")))(r.prevPropsVariables,t.variables)?C(t,r):null};var r=t.prototype;return r.componentDidMount=function(){var e=this;if(this.$1===!0){this.$1=!1,this.setState(function(t){var n=C(e.props,t),r=n.requestCacheKey,o=n.queryFetcher;return r!=null&&m[r]!=null&&o.setOnDataChange(e.$2),n});return}var t=this.state,n=t.retryCallbacks,r=t.queryFetcher,o=t.requestCacheKey;o&&delete m[o],n.handleDataChange=this.$2,n.handleRetryAfterError=function(t){return e.setState(function(e){var t=e.requestCacheKey;return t&&delete m[t],{renderProps:f(),requestCacheKey:null}})},this.props.query&&r.setOnDataChange(this.$2)},r.componentDidUpdate=function(t,n){var e=this.state,r=e.queryFetcher,o=e.requestCacheKey;o&&(delete m[o],delete this.state.requestCacheKey),this.props.query&&r!==n.queryFetcher&&r.setOnDataChange(this.$2)},r.componentWillUnmount=function(){this.state.queryFetcher.dispose(),this.$1=!0},r.shouldComponentUpdate=function(t,n){return t.render!==this.props.render||n.renderProps!==this.state.renderProps},r.render=function(){var e=this.state,t=e.renderProps,r=e.relayContext;return s.jsx(n("react-relay/ReactRelayContext").Provider,{value:r,children:s.jsx(n("react-relay/ReactRelayQueryRendererContext").Provider,{value:p,children:this.props.render(t)})})},t})(s.Component);function f(){return{error:null,props:null,retry:null}}function g(){return{error:null,props:{},retry:null}}function h(e,t,n,r){return{error:e||null,props:t?t.data:null,retry:function(o){var t=n.retry(o);t&&typeof r.handleDataChange=="function"?r.handleDataChange({snapshot:t}):e&&typeof r.handleRetryAfterError=="function"&&r.handleRetryAfterError(e)}}}function y(e,t){return JSON.stringify({id:e.cacheID?e.cacheID:e.id,variables:t})}function C(e,t){var r=e.query,o=t.queryFetcher.getSelectionReferences();t.queryFetcher.disposeRequest();var a;if(r){var i=d(r),l=y(i.params,e.variables);a=m[l]?m[l].queryFetcher:new(n("react-relay/ReactRelayQueryFetcher"))(o)}else a=new(n("react-relay/ReactRelayQueryFetcher"))(o);return babelHelpers.extends({prevQuery:e.query,prevPropsEnvironment:e.environment,prevPropsVariables:e.variables,queryFetcher:a},b(e,a,t.retryCallbacks))}function b(e,t,n,r){var o=e.environment,a=e.query,i=e.variables,l=e.cacheConfig,s=o;if(a){var c=d(a),p=u(c,i,l),_={environment:s};if(typeof r=="string"&&m[r]){var C=m[r].snapshot;return C?{error:null,relayContext:_,renderProps:h(null,C,t,n),snapshot:C,requestCacheKey:r}:{error:null,relayContext:_,renderProps:f(),snapshot:null,requestCacheKey:r}}try{var b=t.lookupInStore(s,p,e.fetchPolicy),v=t.fetch({environment:s,onDataChange:null,operation:p}),S=v||b;return r=r||y(c.params,e.variables),m[r]={queryFetcher:t,snapshot:S},S?{error:null,relayContext:_,renderProps:h(null,S,t,n),snapshot:S,requestCacheKey:r}:{error:null,relayContext:_,renderProps:f(),snapshot:null,requestCacheKey:r}}catch(e){return{error:e,relayContext:_,renderProps:h(e,null,t,n),snapshot:null,requestCacheKey:r}}}else{t.dispose();var R={environment:s};return{error:null,relayContext:R,renderProps:g(),requestCacheKey:null}}}a.exports=_}),null);
__d("react-relay/ReactRelayRefetchContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(t,n,r,o,a,i){"use strict";var e=["componentRef","__relayContext","__rootIsQueryRenderer"],l,s,u=n("react-relay/ReactRelayContainerUtils").getContainerName,c=n("react-relay/RelayContext").assertRelayContext,d=l||(l=n("react")),m=n("relay-runtime").Observable,p=n("relay-runtime").createFragmentSpecResolver,_=n("relay-runtime").createOperationDescriptor,f=n("relay-runtime").getDataIDsFromObject,g=n("relay-runtime").getRequest,h=n("relay-runtime").getVariablesFromObject,y=n("relay-runtime").isScalarAndEqual;function C(t,r,o){var a,i=u(t);return a=(function(a){function l(e){var t,l;l=a.call(this,e)||this,l.$7=function(){var e=l.state.resolver;l.setState(function(t){return e===t.resolver?{data:t.resolver.resolve()}:null})},l.$4=function(e,t,a,s){if(l.$3)return n("warning")(!1,"ReactRelayRefetchContainer: Unexpected call of `refetch` on unmounted container `%s`. It looks like some instances of your container still trying to refetch the data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `refetch`.",i),{dispose:function(){}};var u=c(l.props.__relayContext),d=u.environment,p=n("react-relay/getRootVariablesForFragments")(r,l.props),f=typeof e=="function"?e(l.$8()):e;f=babelHelpers.extends({},p,f);var h=t?babelHelpers.extends({},f,t):f,y=s?{force:!!s.force}:void 0;y!=null&&(s==null?void 0:s.metadata)!=null&&(y.metadata=s==null?void 0:s.metadata);var C=typeof a=="function"?{error:a,next:a}:a||{},b=g(o),v=_(b,f,y);l.state.localVariables=f,l.$1&&l.$1.unsubscribe();var S,R=l.$9().lookupInStore(d,v,s==null?void 0:s.fetchPolicy);return R!=null?(l.state.resolver.setVariables(h,v.request.node),l.setState(function(e){return{contextForChildren:{environment:l.props.__relayContext.environment},data:e.resolver.resolve()}},function(){C.next&&C.next(),C.complete&&C.complete()}),{dispose:function(){}}):(l.$9().execute({environment:d,operation:v,preservePreviousReferences:!0}).mergeMap(function(e){return l.state.resolver.setVariables(h,v.request.node),m.create(function(e){return l.setState(function(e){return{contextForChildren:{environment:l.props.__relayContext.environment},data:e.resolver.resolve()}},function(){e.next(),e.complete()})})}).finally(function(){l.$1===S&&(l.$1=null)}).subscribe(babelHelpers.extends({},C,{start:function(t){l.$1=S=t,C.start&&C.start(t)}})),{dispose:function(){S&&S.unsubscribe()}})};var s=c(e.__relayContext),u=(t=e.__rootIsQueryRenderer)!=null?t:!1;l.$1=null;var d=p(s,i,r,e,u);return l.state={contextForChildren:s,data:d.resolve(),localVariables:null,prevProps:e,prevPropsContext:s,relayProp:b(s.environment,l.$4),resolver:d},l.$3=!1,l}babelHelpers.inheritsLoose(l,a);var u=l.prototype;return u.componentDidMount=function(){this.$3=!1,this.$5()},u.componentDidUpdate=function(t,n){this.state.resolver!==n.resolver?(n.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe(),this.$5()):this.$6()},l.getDerivedStateFromProps=function(t,o){var e,a=o.prevProps,l=c(t.__relayContext),u=(e=t.__rootIsQueryRenderer)!=null?e:!1,d=f(r,a),m=f(r,t),_=n("react-relay/getRootVariablesForFragments")(r,a),g=n("react-relay/getRootVariablesForFragments")(r,t),h=o.resolver;if(o.prevPropsContext.environment!==l.environment||!(s||(s=n("areEqual")))(_,g)||!(s||(s=n("areEqual")))(d,m))return h=p(l,i,r,t,u),{contextForChildren:l,data:h.resolve(),localVariables:null,prevProps:t,prevPropsContext:l,relayProp:b(l.environment,o.relayProp.refetch),resolver:h};o.localVariables||h.setProps(t);var y=h.resolve();return y!==o.data?{data:y,prevProps:t}:null},u.componentWillUnmount=function(){this.$3=!0,this.state.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe()},u.shouldComponentUpdate=function(t,n){if(n.data!==this.state.data||n.relayProp!==this.state.relayProp)return!0;for(var e=Object.keys(t),o=0;o<e.length;o++){var a=e[o];if(a==="__relayContext"){if(this.state.prevPropsContext.environment!==n.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(r,a)&&!y(t[a],this.props[a]))return!0}return!1},u.$6=function(){var e=this.state,t=e.data,n=e.resolver,r=n.resolve();t!==r&&this.setState({data:r})},u.$5=function(){var e=this.state,t=e.data,n=e.resolver,r=n.resolve();n.setCallback(this.props,this.$7),t!==r&&this.setState({data:r})},u.$8=function(){return h(r,this.props)},u.$9=function(){return this.$2||(this.$2=new(n("react-relay/ReactRelayQueryFetcher"))),this.$2},u.render=function(){var r=this.props,o=r.componentRef,a=r.__relayContext,i=r.__rootIsQueryRenderer,l=babelHelpers.objectWithoutPropertiesLoose(r,e),s=this.state,u=s.relayProp,c=s.contextForChildren;return d.jsx(n("react-relay/ReactRelayContext").Provider,{value:c,children:d.jsx(t,babelHelpers.extends({},l,this.state.data,{ref:o,relay:u}))})},l})(d.Component),a.displayName=i,a}function b(e,t){return{environment:e,refetch:t}}function v(e,t,r){return n("react-relay/buildReactRelayContainer")(e,t,function(e,t){return C(e,t,r)})}a.exports={createContainer:v}}),null);
__d("RelayModern",["RelayFBEnvironmentDefinitions","RelayFBMutations","RelayFBSubscription","configureRelayForWWW","enqueueMutation","react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e,l=n("RelayFBEnvironmentDefinitions").createEnvironment,s=n("RelayFBEnvironmentDefinitions").createEnvironmentFactory,u=n("enqueueMutation").enqueueMutation,c=(e=n("relay-runtime")).fetchQuery_DEPRECATED;n("configureRelayForWWW")();var d=n("RelayFBSubscription").addFBisms(e.requestSubscription);a.exports={ConnectionHandler:e.ConnectionHandler,QueryRenderer:n("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:n("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:e.MutationTypes,RangeOperations:e.RangeOperations,ReactRelayContext:n("react-relay/ReactRelayContext"),applyOptimisticMutation:e.applyOptimisticMutation,commitLocalUpdate:e.commitLocalUpdate,createFragmentContainer:n("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:n("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:n("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:e.fetchQuery_DEPRECATED,graphql:e.graphql,readInlineData:e.readInlineData,commitMutation:n("RelayFBMutations").addFBisms(e.commitMutation),enqueueMutation:n("RelayFBMutations").addFBisms(u),requestSubscription:d,createEnvironment:l,createEnvironmentFactory:s,fetchQuery:c}}),null);/*FB_PKG_DELIM*/
__d("DisappearingMessagesMode",[],(function(t,n,r,o,a,i){var e=Object.freeze({OFF:0,ON:1,OPEN_ON_DEPRECATED_DO_NOT_USE:2});i.default=e}),66);
__d("LSInstagramE2EEEligibility",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});i.default=e}),66);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(67).fetch([[[e[0],e[4]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return r[1]=t.i64.of_float(Date.now()),t.db.table(67).add({query:e[0],surfaceType:e[4],statusPrimary:t.i64.cast([0,1]),statusSecondary:t.i64.cast([0,1]),startTimeMs:r[1]})},function(o){return r[2]=t.i64.cast([0,0]),r[3]=new t.Map,r[3].set("query",e[0]),r[3].set("supported_types",e[1]),r[3].set("session_id",e[2]),r[3].set("surface_type",e[4]),r[3].set("selected_participants",e[5]),r[3].set("group_id",e[6]),r[3].set("community_id",e[8]),r[3].set("thread_id",e[7]),r[3].set("query_id",e[3]),r[4]=t.createArray(),r[10]=(r[4].push("search_primary"),r[4]),r[5]=t.i64.of_float(Date.now()),r[10]=(r[4].push(t.i64.to_string(r[5])),r[4]),r[6]=t.toJSON(r[4]),r[7]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTask"),r[6],t.i64.cast([0,30]),r[7],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),r[2])},function(o){return r[8]=new t.Map,r[8].set("query",e[0]),r[8].set("supported_types",e[1]),r[8].set("session_id",e[2]),r[8].set("surface_type",e[4]),r[8].set("selected_participants",e[5]),r[8].set("group_id",e[6]),r[8].set("community_id",e[8]),r[8].set("thread_id",e[7]),r[8].set("query_id",e[3]),r[9]=t.toJSON(r[8]),t.storedProcedure(n("LSIssueNewTask"),"search_secondary",t.i64.cast([0,31]),r[9],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):(a=l.item,0)})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSSearchIssueSearchQueryStoredProcedure",e.__tables__=["search_queries"],a.exports=e}),null);
__d("LSIssueSearchQueryStoredProcedure",["LSIssueSearchQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueSearchQuery"),a.query,a.supportedTypes,a.sessionId,a.queryId,a.surfaceType,a.selectedParticipants,a.groupId,a.threadId,a.communityId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSSearchRequestStatusType",[],(function(t,n,r,o,a,i){var e=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});i.default=e}),66);
__d("MNetContactItemType",[],(function(t,n,r,o,a,i){var e=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16,MSGR_PUBLIC_CHANNEL:17,MSGR_SOCIAL_CHANNEL:18,NETEGO_IG_PUBLIC_CHANNELS:19,CONTACT_BIRTHDAY:20});i.default=e}),66);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e){return e.length>4?"("+e.length+") "+e.join(", "):e.join(", ")}function c(e){switch(e.length){case 0:return r("gkx")("22885")?"":s._(/*BTDS*/"No participants");case 1:return e[0];case 2:return s._(/*BTDS*/"{participant1} \u10d3\u10d0 {participant2}",[s._param("participant1",e[0]),s._param("participant2",e[1])]);case 3:return s._(/*BTDS*/"{participant1}, {participant2} \u10d3\u10d0 {participant3}",[s._param("participant1",e[0]),s._param("participant2",e[1]),s._param("participant3",e[2])]);default:return s._(/*BTDS*/"{participant1}, {participant2} \u10d3\u10d0 {others_count} \u10e1\u10ee\u10d5\u10d0",[s._param("participant1",e[0]),s._param("participant2",e[1]),s._param("others_count",String(e.length-2))])}}function d(t,n,r,a,i,l,s){if(s===void 0&&(s=!1),t!=null)return t;var d=o("LSMessagingThreadTypeUtil").isGroup(a),m=r.filter(function(t){return!(e||(e=o("I64"))).equal(t.contact_id,n)});return d?s?u(m.map(i)):c(m.map(i)):r.length!==1?c(m.map(l)):l(r[0])}function m(e,t,n,r,o){return o===void 0&&(o=!1),d(e,t,n,r,function(e){var t=e.name,n=e.nickname;return n!=null?n:t},function(e){var t=e.actual_name,n=e.nickname;return n!=null?n:t},o).toString()}function p(e,t,n,r){return d(e,t,n,r,function(e){var t=e.actual_name;return t},function(e){var t=e.actual_name;return t}).toString()}function _(e,t,n,r){return d(e,t,n,r,function(e){var t=e.actual_name,n=e.secondary_name;return n!=null?n:t},function(e){var t=e.actual_name,n=e.secondary_name;return n!=null?n:t}).toString()}l.getDefaultThreadTitle=m,l.getThreadTitleWithFullName=p,l.getThreadTitleWithSecondaryNames=_}),226);
__d("MWChatTemporarySearchResult",["DisappearingMessagesMode","FBLogger","I64","LSContactBitOffset","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMessagingThreadTypeUtil","LSRestrictionType","LSThreadBitOffset","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWLSContactTypeExactUtils","MWLSThreadTitle","MWSearchStandardResultTypeMappings","getLSMediaContactProfilePictureUrl","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(6))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(7))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(8))?!0:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(9))}function c(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(1))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(16))||u(t)?r("MWChatSearchResultType").USER:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(3))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(14))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(13))?r("MWChatSearchResultType").GROUP:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(4))?r("MWChatSearchResultType").PAGE:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(5))?r("MWChatSearchResultType").MESSAGE:(r("FBLogger")("messenger_web").warn("Unknown Search Result Type "+(e||(e=o("I64"))).to_string(t)),r("MWChatSearchResultType").USER)}function d(e,t){return!r("gkx")("23433")||!r("gkx")("6710")||t==null?!1:!!(t.startsWith("@")||t.trim().length===t.length&&t.indexOf(".")!==-1||t.trim()===e)}function m(e){return(e==null?void 0:e.threadType)==null?!1:o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType)}function p(e,t){var n=d(e.username,t);if(n&&e.username!=null)return e.username;var r=o("MWLSContactTypeExactUtils").isIgContact(e.contactTypeExact);return r&&e.secondaryName!=null?e.secondaryName:""}function _(e){var t=d(e.contextLine,e.query);if(t&&e.contextLine!=null)return e.contextLine;var n=m(e);return n&&e.contextLine!=null||e.contextLine!=null&&r("gkx")("16600")?e.contextLine:""}function f(t,n,a,i,l,u,c){var d,m,_=a.contactType,f=a.contactTypeExact,g=o("MWLSContactTypeExactUtils").isIgContact(f),h=p(a,c),y=i!=null?[i.e2eeEligibility,!(e||(e=o("I64"))).equal(i.e2eeEligibility,(s||(s=o("LSIntEnum"))).ofNumber(r("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],C=y[0],b=y[1];return{defaultE2eeThreadOneToOne:o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:a}),defaultE2eeThreads:o("LSContactBitOffset").has(80,a),displayName:a.name,hasCutoverThread:o("LSContactBitOffset").has(76,a),id:(e||(e=o("I64"))).to_string(a.id),imageUrl:r("getLSMediaContactProfilePictureUrl")(a),isAiBot:e.equal(a.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:e.equal(a.contactViewerRelationship,s.ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isDisappearingModeSettingOn:o("LSContactBitOffset").has(94,a),isE2EE:n===!0,isEPD:e.equal(a.restrictionType,s.ofNumber(r("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:o("LSContactBitOffset").has(68,a),isInstagramAccount:g,isInstamadilloCutover:o("LSContactBitOffset").has(95,a),isInteropEligible:o("LSContactBitOffset").has(67,a),isTTLCClipEnabled:o("LSContactBitOffset").has(96,a),isTTLCGenericXMAShareEnabled:o("LSContactBitOffset").has(97,a),isTTLCMediaShareEnabled:o("LSContactBitOffset").has(98,a),isTTLCStoryShareEnabled:o("LSContactBitOffset").has(99,a),isVerified:(d=o("LSContactBitOffset").has(23,a))!=null?d:!1,isViewerUnconnected:o("MWChatTemporarySearchResultUtils").isViewerUnconnectedForContact(a),isWAEligible:b,matchedTerms:u,rankingScore:t,reachabilityStatus:a.contactReachabilityStatusType,resultIgid:(m=i==null?void 0:i.igId)!=null?m:void 0,resultType:(e||(e=o("I64"))).equal(_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").USER))||!((e||(e=o("I64"))).equal(_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))||(e||(e=o("I64"))).equal(_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE_PERSONA)))?r("MWChatSearchResultType").USER:r("MWChatSearchResultType").PAGE,searchResultType:o("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(a),searchSource:l,section:o("MWChatTemporarySearchResultUtils").getSectionHeaderForContact(a),subtext:h,supportsE2eeSpamdStorage:i!=null?i.supportsE2eeSpamdStorage:void 0,waAddressable:e.equal(a.waConnectStatus,s.ofNumber(r("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:C}}function g(e,t,n){var r=e.threadDescription,a=e.threadName;return r!=null?r:a!=null&&a!==""?o("MWLSThreadTitle").getDefaultThreadTitle(void 0,t,n,e.threadType).toString():""}function h(t,n,r){if(o("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(t.threadType)){var a=n.find(function(t){return!(e||(e=o("I64"))).equal(t.contact_id,r)});if(a!=null)return a.contact_id}}function y(t,n,a,i,l,u,c,d,m){var p,_=g(t,a,u),f=h(t,u,a),y=f!=null?(e||(e=o("I64"))).to_string(f):void 0;return{displayName:o("MWLSThreadTitle").getDefaultThreadTitle(t.threadName,a,u,t.threadType).toString(),id:(e||(e=o("I64"))).to_string(t.threadKey),imageUrl:i,isAiBot:e.equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:e.to_int32((p=m==null?void 0:m.igDmSettingsMode)!=null?p:(e||(e=o("I64"))).zero)===r("DisappearingMessagesMode").ON,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:o("LSThreadBitOffset").has(214,t),isTTLCClipEnabled:o("LSThreadBitOffset").has(226,t),isTTLCGenericXMAShareEnabled:o("LSThreadBitOffset").has(231,t),isTTLCMediaShareEnabled:o("LSThreadBitOffset").has(228,t),isTTLCStoryShareEnabled:o("LSThreadBitOffset").has(229,t),isVerified:!1,matchedTerms:d,otherUserId:y,rankingScore:c,resultType:r("MWChatSearchResultType").GROUP,searchResultType:o("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(t.threadType),searchSource:n,secondaryImageUrl:l,section:"",subtext:_,threadKey:t.threadKey,threadType:t.threadType}}function C(t,n,a){var i,l,d=(e||(e=o("I64"))).equal(t.type_,(s||(s=o("LSIntEnum"))).ofNumber(1)),m=_(t),p=u(t.type_),f=t.defaultE2eeThreadOneToOne,g=t.defaultE2eeThreads,h=t.hasCutoverThread,y=t.isVerified,C=t.otherUserId,b=t.query,v=t.supportsE2eeSpamdStorage,S=t.waEligibility,R=n!=null&&(i=n.displayName)!=null?i:"";return b===""&&(R=o("MWChatTemporarySearchResultUtils").getSectionHeaderForContactsNullstate()),{canViewerMessage:t.canViewerMessage,communityId:t.communityId,defaultE2eeThreadOneToOne:f!==null?f:void 0,defaultE2eeThreads:g!==null?g:void 0,displayName:t.displayName,hasCutoverThread:h!==null?h:void 0,id:t.resultId,imageUrl:t.profilePicUrl,isAiBot:e.equal(t.type_,s.ofNumber(16)),isContact:d,isDisappearingModeSettingOn:!!t.isDisappearingModeSettingOn,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType),isEPD:!1,isGroupCreationReachable:t.isGroupCreationReachable,isGroupsXacEligible:t.isGroupsXacEligible,isInstagramAccount:p,isInstamadilloCutover:!!t.isInstamadilloCutover,isInteropEligible:t.isInteropEligible,isRestrictedByViewer:t.isRestrictedByViewer,isTTLCClipEnabled:!!t.hasTtlcClipEnabled,isTTLCGenericXMAShareEnabled:!!t.hasTtlcGenericXmaShareEnabled,isTTLCMediaShareEnabled:!!t.hasTtlcMediaShareEnabled,isTTLCStoryShareEnabled:!!t.hasTtlcStoryShareEnabled,isVerified:y!=null?y:!1,isViewerUnconnected:t.isViewerUnconnected,isWAEligible:S!=null?!(e||(e=o("I64"))).equal(S,(s||(s=o("LSIntEnum"))).ofNumber(r("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:C!=null?(e||(e=o("I64"))).to_string(C):void 0,reachabilityStatus:t.reachabilityStatus,restrictionType:t.restrictionType,resultIgid:t.resultIgid,resultType:c(t.type_),searchResultType:o("MWSearchStandardResultTypeMappings").mapServerSearchResultToSearchStandardResultType(t.threadType,t.type_,a),searchSource:a,secondaryImageUrl:t.secondaryProfilePicUrl,section:R,sectionAnalyticsName:n==null?void 0:n.analyticsName,serverSearchResult:t,subtext:m,subtextAdditional:(l=t.secondaryContextLine)!=null?l:"",supportsE2eeSpamdStorage:v,threadJoinLinkHash:t.threadJoinLinkHash,threadType:t.threadType,waAddressable:t.isWaAddressable,waEligibility:t.waEligibility}}l.checkIsInstagramAccount=u,l.getResultType=c,l.fromContact=f,l.fromThread=y,l.fromServerSearchResult=C}),98);
__d("MWChatSearchFetchContactRecommendations",["FBLogger","I64","LSContactBitOffset","LSContactTypeExact","LSContactUtils","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult","MWGenAIUtils","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","gkx","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=(s||(s=o("react"))).useMemo;function p(e){return e<0?-1:e>0?1:0}function _(e){return e.sort(function(e,t){var n=e[0],r=n[0],o=n[1],a=t[0],i=a[0],l=a[1];return i.score!==r.score?p(i.score-r.score):o!=null&&l!=null?p(l.rank-o.rank):l==null&&o==null?0:l!=null?1:-1})}function f(e){var t=e.contactTypeExact,n=e.contactViewerRelationship;return o("MWLSContactTypeExactUtils").isIgContact(t)?(u||(u=o("I64"))).equal(n,(d||(d=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").NOT_CONTACT))?(d||(d=o("LSIntEnum"))).ofNumber(8):(u||(u=o("I64"))).equal(n,(d||(d=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER))?(d||(d=o("LSIntEnum"))).ofNumber(6):(d||(d=o("LSIntEnum"))).ofNumber(9):(u||(u=o("I64"))).equal(t,(d||(d=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT))?(d||(d=o("LSIntEnum"))).ofNumber(16):(d||(d=o("LSIntEnum"))).ofNumber(1)}function g(e){return e.map(function(e,t){var n,a=e[0],i=a[0],l=a[1],s=e[1];if(l==null||!(l!=null&&l.name)){if(l!=null&&!(l!=null&&l.name)){var c,m;r("FBLogger")("messenger_web_search").warn("Non-null contact without name field found in search results. contact_type: %s; contact_type_exact: %s",(u||(u=o("I64"))).to_string((c=l.contactType)!=null?c:(u||(u=o("I64"))).minus_one),u.to_string((m=l.contactTypeExact)!=null?m:(u||(u=o("I64"))).minus_one))}return}var p=l.contactTypeExact,_=(d||(d=o("LSIntEnum"))).toNumber(i.contactType),g;o("LSContactBitOffset").has(76,l)&&!r("gkx")("2268")?g=15:g=_===r("MNetContactItemType").GROUP?2:1;var h;switch(_){case r("MNetContactItemType").CONTACT:h=f(l);break;case r("MNetContactItemType").GROUP:h=(d||(d=o("LSIntEnum"))).ofNumber(3);break;case r("MNetContactItemType").PAGE:case r("MNetContactItemType").BOT:case r("MNetContactItemType").GAME:case r("MNetContactItemType").STICKER:h=(d||(d=o("LSIntEnum"))).ofNumber(4);break;case r("MNetContactItemType").IG_THREAD:case r("MNetContactItemType").INTEROP_THREAD:case r("MNetContactItemType").MSGR_THREAD:h=(d||(d=o("LSIntEnum"))).ofNumber(5);break;case r("MNetContactItemType").IG_USER:h=(d||(d=o("LSIntEnum"))).ofNumber(6);break;default:h=(d||(d=o("LSIntEnum"))).ofNumber(2)}var y={blockedByViewerStatus:l.blockedByViewerStatus,contextLine:(n=l.secondaryName)!=null?n:"",defaultE2eeThreadOneToOne:o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:l}),defaultE2eeThreads:o("LSContactBitOffset").has(80,l),displayName:l.name,globalIndex:(u||(u=o("I64"))).of_int32(t),hasCutoverThread:o("LSContactBitOffset").has(76,l),isGroupsXacEligible:o("LSContactBitOffset").has(68,l),isInteropEligible:o("MWLSContactTypeExactUtils").isIgContact(p)?o("LSContactBitOffset").has(67,l):void 0,isVerified:o("LSContactBitOffset").has(23,l),isViewerUnconnected:o("LSContactBitOffset").hasWithDefault(64,l,!0),isWaAddressable:u.equal(l.waConnectStatus,d.ofNumber(r("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:r("getLSMediaContactProfilePictureUrl")(l),query:"",resultId:u.to_string(l.id),resultIgid:s==null?void 0:s.igId,threadType:d.ofNumber(g),type_:h,waEligibility:s==null?void 0:s.e2eeEligibility},C=o("MWChatTemporarySearchResult").fromServerSearchResult(y,void 0,"offline_nullstate");return[C,l]}).filter(Boolean)}function h(e,t){var n;return(n=o("ReQL")).leftJoin(n.leftJoin(n.fromTableAscending(e.tables.ranking_scores.index("scoreTypeContactId")).getKeyRange(t),n.fromTableAscending(e.tables.contacts)),n.fromTableAscending(e.tables.ig_contact_info))}function y(t){var n=o("react-compiler-runtime").c(8),a;n[0]!==t?(a=t===void 0?(d||(d=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):t,n[0]=t,n[1]=a):a=n[1];var l=a,s=(e||(e=r("useReStore")))(),u,c;n[2]!==l||n[3]!==s?(u=function(){return h(s,l)},c=[l,s],n[2]=l,n[3]=s,n[4]=u,n[5]=c):(u=n[4],c=n[5]);var m=o("ReQLSuspense").useArray(u,c,i.id+":263"),p;return n[6]!==m?(p=g(_(m)).filter(C),n[6]=m,n[7]=p):p=n[7],p}function C(e){var t=e[0],n=e[1];return t.isAiBot===!1&&o("MWGenAIUtils").isMetaAIContact(t.id)===!1&&!o("LSContactUtils").isContactRestricted(n)}function b(e){return e===void 0&&(e=(d||(d=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)),(c||(c=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(t){return o("ReQL").toArrayAsync(h(t,e))}).then(function(e){return g(_(e)).filter(function(e){var t=e[0],n=e[1];return!o("LSContactUtils").isContactRestricted(n)})})}async function v(e,t,n){var r=await o("ReQL").toArrayAsync(h(e,t));return g(_(r)).filter(function(e){var t=e[0],r=e[1];return!(o("LSContactUtils").isContactRestricted(r)||((u||(u=o("I64"))).equal(n,(d||(d=o("LSIntEnum"))).ofNumber(5))||(u||(u=o("I64"))).equal(n,(d||(d=o("LSIntEnum"))).ofNumber(11)))&&o("LSContactUtils").isContactBlocked({blockedByViewerStatus:r.blockedByViewerStatus}))}).map(function(e){var t=e[0];return t})}l.sortInPlaceQueryResults=_,l.mapToServerSearchResults=g,l.makeQuery=h,l.useChatSearchContactRecommendations=y,l.fetchRecommendations=b,l.fetchContacts=v}),98);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={actual_name:"",blocked_by_viewer_status:(e||(e=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(s||(s=o("I64"))).zero,contactType:e.ofNumber(r("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:s.zero,gender:e.ofNumber(r("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:e.ofNumber(r("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:s.zero,read_watermark_timestamp_ms:s.zero,secondary_name:void 0,thread_key:s.zero,work_company_name:void 0,work_foreign_entity_info:e.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function c(t){var n,a,i=t[0],l=t[1],s=i.nickname,u=l.authorityLevel,c=l.blockedByViewerStatus,d=l.contactTypeExact,m=l.firstName,p=l.name,_=l.secondaryName,f=l.waConnectStatus;return{actual_name:p,authority_level:u,blocked_by_viewer_status:c,contact_id:i.contactId,contactType:l.contactType,delivered_watermark_timestamp_ms:i.deliveredWatermarkTimestampMs,gender:l.gender,is_admin:(n=i.isAdmin)!=null?n:!1,is_messenger_user:l.isMessengerUser,mailbox_type:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMailboxType").MESSENGER),name:(a=s!=null?s:m)!=null?a:p,nickname:s,profile_picture_url:r("getLSMediaContactProfilePictureUrl")(l),rank:l.rank,read_action_timestamp_ms:i.readActionTimestampMs,read_watermark_timestamp_ms:i.readWatermarkTimestampMs,secondary_name:o("MWLSContactTypeExactUtils").isIgContact(d)?_:void 0,thread_key:i.threadKey,wa_connect_status:f,work_company_name:l.workCompanyName,work_foreign_entity_info:l.workForeignEntityType,work_job_title:l.workJobTitle}}function d(e,t,n){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.tables.participants).getKeyRange(n),t).map(c)}l.empty=u,l.projectOpen=c,l.getAllInOpenThread=d}),98);
__d("MWSearchThreadUtils",["I64","LSIntEnum","LSMessageSearchType","MAWChatJid","MWLSParticipant","MWLSThreadTitle","ReQL","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){var i=r("getLSMediaThreadPictureUrl")(t);if(i!=null)return Promise.resolve([i,void 0]);var l,s=(l=o("ReQL")).toArrayAsync(l.leftJoin(l.fromTableAscending(a.tables.participants,[]).getKeyRange(t.threadKey),l.fromTableAscending(a.tables.contacts)).map(function(e){var t=e[0],n=e[1];return n}).filter(Boolean)),u=s.then(function(t){var a=t.length===1&&(e||(e=o("I64"))).equal(t[0].id,n);return t.sort(function(e,t){return e.rank-t.rank}).filter(function(t){return(e||(e=o("I64"))).equal(t.id,n)?a:!0}).map(function(e){return r("getLSMediaContactProfilePictureUrl")(e)})}).then(function(e){var t=e[0];return t!=null?[t,e[1]]:["",void 0]});return u}function c(e,t){return o("ReQL").toArrayAsync(o("MWLSParticipant").getAllInOpenThread(t,o("ReQL").fromTableAscending(t.tables.contacts),e.threadKey))}function d(t,n,a,i,l){if((e||(e=o("I64"))).equal(l,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))&&i!=null){var u,c=(u=a.find(function(e){return e.contact_id===i.id}))==null?void 0:u.nickname;return c!=null?c:i.name}return o("MWLSThreadTitle").getThreadTitleWithFullName(n.threadName,t,a,n.threadType)}async function m(e,t,n,r){var a=await o("MAWChatJid").toThreadKeyMaybe(e.tables,t);return a==null?null:p(e,a,n,r)}async function p(e,t,n,r){var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t));return a==null?null:_(e,a,n,r)}async function _(e,t,n,r){var o=await Promise.all([u(t,n,e),c(t,e)]),a=o[0],i=a[0],l=a[1],s=o[1],m=await d(n,t,s,void 0,r);return{profilePicUrl:i,secondaryProfilePicUrl:l,threadDisplayName:m,threadKey:t.threadKey,threadType:t.threadType}}l.getThreadPics=u,l.getThreadParticipants=c,l.getThreadDisplayName=d,l.getThreadDataForSearchResult=m,l.getThreadDataByThreadKey=p}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactUtils","LSDatabaseAfterInitSyncSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSWhatsAppConnectStatus","MWChatSearchResultType","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchThreadUtils","ReQL","hasDefaultThreadOneToOneCapability"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return o("ReQL").firstExnAsync(o("ReQL").fromTableAscending(e.tables._user_info))}function c(t,n,a,i,l,u,c){var m,p,_=(e||(e=o("I64"))).to_float(n.lastActivityTimestampMs),f={contactId:e.zero,contactType:e.zero,score:_,scoreIndex:e.zero,scoreType:e.zero},g=a.length===2?a.find(function(n){return!(e||(e=o("I64"))).equal(n.contact_id,t)}):null;return{defaultE2eeThreadOneToOne:c!=null?c:void 0,displayName:o("MWLSThreadTitle").getDefaultThreadTitle(n.threadName,t,a,n.threadType).toString(),hasCutoverThread:u!=null?u:void 0,id:e.to_string(n.threadKey),imageUrl:i,isAiBot:e.equal(n.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(n.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:o("LSThreadBitOffset").has(214,n),isTTLCClipEnabled:o("LSThreadBitOffset").has(226,n),isTTLCGenericXMAShareEnabled:o("LSThreadBitOffset").has(231,n),isTTLCMediaShareEnabled:o("LSThreadBitOffset").has(228,n),isTTLCStoryShareEnabled:o("LSThreadBitOffset").has(229,n),isVerified:!1,otherUserName:(m=g==null?void 0:g.name)!=null?m:void 0,rankingScore:f,resultType:o("LSMessagingThreadTypeUtil").isGroup(n.threadType)?r("MWChatSearchResultType").GROUP:r("MWChatSearchResultType").USER,searchSource:"offline_nullstate",secondaryImageUrl:l,section:"",subtext:(p=n.threadDescription)!=null?p:"",threadKey:n.threadKey,threadType:n.threadType,waAddressable:o("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(n.threadType)?!d(g):void 0}}function d(t){if(t!=null)return t.authority_level!=null&&(e||(e=o("I64"))).ge(t.authority_level,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))&&t.wa_connect_status!=null&&(e||(e=o("I64"))).equal(t.wa_connect_status,(s||(s=o("LSIntEnum"))).ofNumber(r("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))}function m(e){return o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(e.tables.threads.index("parentThreadKeyLastActivityTimestampMs"))).then(async function(t){var n=await Promise.all(t.map(function(t){return _(e,t)}));return t.filter(function(e,t){return!n[t]})})}async function p(){var e=await o("LSDatabaseAfterInitSyncSingleton").LSDatabaseAfterInitSyncSingleton,t=await Promise.all([u(e),m(e)]),n=t[0],a=t[1];return Promise.all(a.map(async function(t){var a=await Promise.all([o("MWSearchThreadUtils").getThreadPics(t,n.facebookUserId,e),o("MWSearchThreadUtils").getThreadParticipants(t,e),o("LSMessagingThreadTypeUtil").isOpenOneToOne(t.threadType)?o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.cutover_threads).getKeyRange(t.threadKey)):null,o("LSMessagingThreadTypeUtil").isOpenOneToOne(t.threadType)?r("hasDefaultThreadOneToOneCapability")(t.threadKey,e):null]),i=a[0],l=a[1],s=a[2],u=a[3],d=i[0],m=i[1];return c(n.facebookUserId,t,l,d,m,!!s,u)}))}function _(e,t){return!(o("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(t.threadType)&&o("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(t.folderName))||o("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(t.threadType)&&(s||(s=o("LSIntEnum"))).toNumber(t.authorityLevel)<r("LSAuthorityLevel").AUTHORITATIVE||o("LSThreadBitOffset").has(44,t)?!0:f(e,t)}async function f(e,t){var n,r=await Promise.all([(n=o("ReQL")).firstAsync(n.fromTableAscending(e.tables.contacts).getKeyRange(t.threadKey)),n.firstExnAsync(n.fromTableAscending(e.tables._user_info).map(function(e){return e.facebookUserId}))]),a=r[0],i=r[1],l=await o("MWGetOtherContactOrSelf").getOtherContactOrSelf(t.threadKey,i,e),s=l!=null?l:a,u=!1,c=!1,d=!1;return s&&(u=o("LSContactBitOffset").has(28,s)||o("LSContactBitOffset").has(29,s)||s.blockedByViewerStatus!=null&&o("LSContactUtils").isContactBlocked(s),c=o("LSContactUtils").isContactUnreachable(s),d=o("LSContactUtils").isContactRestricted(s)),u||c||d}l.fetchThreadRecommendations=p,l.shouldFilterBlockedOrUnreachableUser=f}),98);
__d("MWChatSearchIssueLightspeedQuery",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSPlatformWaitForTaskCompletion","LSSearchRequestStatusType","LSVec","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatTemporarySearchResult","ReQL","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("gkx")("26360");function d(t,n){var a=t[0],i=t[1],l=[],s=0;a.sort(function(t,n){return(e||(e=o("I64"))).compare(t.globalIndex,n.globalIndex)}),i.sort(function(t,n){return(e||(e=o("I64"))).compare(t.globalIndex,n.globalIndex)});for(var u=0,c=a.length;u<c;++u)for(var d=a[u];s<i.length&&(e||(e=o("I64"))).ge(i[s].globalIndex,d.startIndex)&&(e||(e=o("I64"))).le(i[s].globalIndex,d.endIndex);){var m=i[s];l.push(o("MWChatTemporarySearchResult").fromServerSearchResult(m,d,"server")),s+=1}return l.filter(function(e){return n?!0:e.resultType!==r("MWChatSearchResultType").GROUP})}function m(e,t,n){var a=n.query;return(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(n){return n.runInTransaction(function(n){return r("LSIssueSearchQueryStoredProcedure")(r("LSFactory")(n),{query:a,supportedTypes:r("LSVec").ofArray(e),surfaceType:t})},"readwrite",void 0,void 0,i.id+":105").then(function(){return n})})}function p(t,n,a,i,l){var c=l.query;return n.length>0&&!n.includes("server")?Promise.resolve([]):(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return r("LSPlatformWaitForTaskCompletion")(e,function(e){return r("LSIssueSearchQueryStoredProcedure")(r("LSFactory")(e),{query:c,supportedTypes:r("LSVec").ofArray(t),surfaceType:a})},"issueSearchQuery").then(function(){return e})}).then(async function(t){var n,a=(n=o("ReQL")).toArrayAsync(n.fromTableAscending(t.tables.server_search_results).getKeyRange(c).filter(function(t){return(e||(e=o("I64"))).equal(t.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))})),l=n.toArrayAsync(n.fromTableAscending(t.tables.server_search_sections).getKeyRange(c)),s=await Promise.all([l,a]);return d(s,i)})}function _(e,t,n,r){return o("MWChatSearchFetchContactRecommendations").fetchRecommendations(r).then(function(e){return Promise.resolve(e.map(function(e){var t=e[0];return t}))})}function f(e,t){return!!(!t.has(e.resultType)||!e.isE2EE&&e.defaultE2eeThreadOneToOne===!0||e.hasCutoverThread===!0||e.isAiBot)}function g(e){var t=[],n=new Set;return e.forEach(function(e){n.has(e.id)||(t.push(e),n.add(e.id))}),t}async function h(){var e=await o("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations();if(e.length===0)return[];var t=new Set([r("MWChatSearchResultType").USER,r("MWChatSearchResultType").GROUP]),n=g(e);return n.filter(function(e){return!f(e,t)})}function y(t,n,a,i){var l=[],s=[],c=[],m=function(){l.length===0||s.length===0||c.length!==1||(e||(e=o("I64"))).equal(c[0].statusPrimary,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))||i(d([s,l],a))},p=t.tables.server_search_results.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_results).getKeyRange(n)),function(e){return l=e,m()})}),_=t.tables.server_search_sections.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_sections).getKeyRange(n)),function(e){return s=e,m()})}),f=t.tables.search_queries.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.search_queries).getKeyRange(n).filter(function(t){return!(e||(e=o("I64"))).equal(t.statusPrimary,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))})),function(e){return c=e,m()})});return function(){p(),_(),f()}}function C(t,n,a,i){return t.tables.search_queries.subscribe(function(l,s){var c=l[0];c!==n||s.operation==="delete"||(e||(e=o("I64"))).equal(s.value.statusPrimary,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))||r("promiseDone")(Promise.all([o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_results).getKeyRange(n)),o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_sections).getKeyRange(n))]).then(function(e){var t=e[0],n=e[1];i(d([n,t],a))}))})}function b(t,n,a,i,l,s){var p=l.query;return c?r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.search_queries).getKeyRange(p).filter(function(t){return!(e||(e=o("I64"))).equal(t.statusPrimary,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))})).then(function(e){return e==null||e.length!==1?m(n,a,l):o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_results).getKeyRange(p)).then(function(e){return e==null||e.length===0?m(n,a,l):o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_sections).getKeyRange(p)).then(function(t){if(t==null||t.length===0)return m(n,a,l);s(d([t,e],i))})})})):r("promiseDone")(m(n,a,l)),y(t,l.query,i,s)}function v(e,t,n,o,a,l){var s=C(e,a.query,o,l);return r("promiseDone")(e.runInTransaction(function(e){return e.search_queries.delete(a.query,n)},"readwrite",void 0,void 0,i.id+":436").then(function(){return m(t,n,a)})),s}l.toSearchResults=d,l.makeSearchQuery=m,l.fetchResults=p,l.fetchRecommendations=_,l.shouldFilterSearchResultsForSharingNS=f,l.dedupeByThreadKey=g,l.fetchThreadRecommendations=h,l.requestResults=b,l.requestResults_T200619723=v}),98);/*FB_PKG_DELIM*/
__d("C4gEngagementFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1922200"),s=o("FalcoLoggerInternal").create("c4g_engagement",e),u=s;l.default=u}),98);
__d("LSCutoverMappingQueryFromOpenThreadId",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("open_thread_id",e[0]),r[1]=r[0].get("open_thread_id"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),["cutover_mapping_query_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,180001]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxCutoverMappingQueryFromOpenThreadIdStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure",["LSCutoverMappingQueryFromOpenThreadId","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCutoverMappingQueryFromOpenThreadId"),a.openThreadId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[2]=t.i64.eq(e[2],t.i64.cast([-1,4294967295]))?t.i64.cast([0,0]):e[2],t.islc(t.filter(t.db.table(13).fetchDesc([[[e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&(t.i64.eq(n.minTimestampMs,void 0)||t.i64.le(n.minTimestampMs,e[1]))}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(o,a){var i=o.done,l=o.value;return i?r[0]=!1:(a=l.item,t.sequence([function(o){return r[5]=a.threadKey,r[6]=t.i64.cast([0,0]),r[7]=a.minTimestampMs,r[8]=a.minMessageId,t.i64.eq(r[2],t.i64.cast([0,1]))?r[3]=!a.isLoadingAfter:r[3]=!a.isLoadingBefore,r[3]?t.sequence([function(o){return t.i64.eq(r[2],t.i64.cast([0,1]))?r[9]=a.hasMoreAfter:r[9]=a.hasMoreBefore,r[9]?t.sequence([function(e){return t.i64.eq(r[2],t.i64.cast([0,1]))?t.sequence([function(e){return t.forEach(t.filter(t.db.table(13).fetch([[[r[5],r[7],r[8]]]]),function(e){return t.i64.eq(e.threadKey,r[5])&&t.i64.eq(t.i64.cast([0,0]),r[6])&&t.i64.eq(e.minTimestampMs,r[7])&&e.minMessageId===r[8]}),function(e){var t=e.update,n=e.item;return t({isLoadingAfter:!0})})},function(e){var t;return t=[a.maxTimestampMs,a.maxMessageId],r[10]=t[0],r[11]=t[1],t}]):t.sequence([function(e){return t.forEach(t.filter(t.db.table(13).fetch([[[r[5],r[7],r[8]]]]),function(e){return t.i64.eq(e.threadKey,r[5])&&t.i64.eq(t.i64.cast([0,0]),r[6])&&t.i64.eq(e.minTimestampMs,r[7])&&e.minMessageId===r[8]}),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!0})})},function(e){var t;return t=[r[7],r[8]],r[10]=t[0],r[11]=t[1],t}])},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[12]=t.i64.cast([0,1]):(n=a.item,r[19]=n.syncGroup,t.i64.neq(r[19],void 0)?r[18]=r[19]:r[18]=t.i64.cast([0,1]),r[12]=r[18])})},function(e){return t.storedProcedure(n("LSGetCursor"),r[12]).then(function(e){var t;return t=e,r[14]=t[0],t})},function(o){return r[15]=new t.Map,r[15].set("thread_key",e[0]),r[15].set("direction",r[2]),r[15].set("reference_timestamp_ms",r[10]),r[15].set("reference_message_id",r[11]),r[15].set("sync_group",r[12]),r[15].set("cursor",r[14]),r[16]=r[15].get("thread_key"),r[17]=t.toJSON(r[15]),t.storedProcedure(n("LSIssueNewTask"),"mrq.{}".split("{}").join(t.i64.to_string(r[16])),t.i64.cast([0,228]),r[17],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.resolve()},function(e){return r[4]=!0}]):t.resolve(r[4]=!1)},function(e){return r[0]=r[4]}]))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssueMessagesRangeQueryStoredProcedure",e.__tables__=["messages_ranges_v2__generated","threads"],a.exports=e}),null);
__d("LSIssueMessagesRangeQueryStoredProcedure",["LSIssueMessagesRangeQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueMessagesRangeQuery"),a.threadKey,a.referenceTimestampMs,a.direction);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(t,n,r,o,a,i){var e=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});i.default=e}),66);
__d("LSMailboxType",[],(function(t,n,r,o,a,i){var e=Object.freeze({MESSENGER:0,COMMUNITIES:1,GEMSTONE:2,TINCAN:1024,TAM:4096});i.default=e}),66);
__d("LSMediaUrlUtils",["I64","ServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){if((e||(e=o("I64"))).gt(t,(e||(e=o("I64"))).zero)){var n=(e||(e=o("I64"))).of_float(o("ServerTime").getMillis()/1e3);return e.lt(t,n)}return!1}function u(t){if((e||(e=o("I64"))).gt(t,(e||(e=o("I64"))).zero)){var n=(e||(e=o("I64"))).of_float(o("ServerTime").getMillis());return e.lt(t,n)}return!1}function c(e,t){return e!=null&&t!=null&&!u(t)}l.isTimestampExpired=s,l.isTimestampExpiredForMillis=u,l.hasValidReceiverFetchPreviewUrl=c}),98);
__d("LSMessageReplySourceType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21,AI_PERSONA_NOTE_REPLY:26,AI_PERSONA_NOTE_REACTION:27,FB_MSGR_NOTE:28});i.default=e}),66);
__d("LSPlatformWaitForTaskCompletion",["I64","emptyFunction","err","promiseDone","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=["acs_sync"];async function u(t,n,a,l){var u=new Set,c=[],d=0,m=!0,p,_,f=new Promise(function(e,t){p=e,_=t}),g=r("uuidv4")(),h=!0,y=await t.runInTransaction(async function(f){await f.mailbox_task_completion_notification_context.add({notificationName:a,notificationScopeKey:g});var C=t.tables.pending_tasks.subscribe(function(t,n){var r=(e||(e=o("I64"))).to_string(t[0]);if(n.operation==="add"||n.operation==="put"){var a=n.value;if(s.some(function(e){return a.queueName.startsWith(e)})||l!=null&&a.queueName!==l)return;u.add(r)}else u.delete(r)}),b=r("emptyFunction"),v=t.tables.mailbox_task_completion_api_tasks.subscribe(function(t,n){if(n.operation==="add"||n.operation==="put"&&n.value.notificationScopeKey===g){var r=(e||(e=o("I64"))).to_string(n.value.taskId);u.delete(r);var a=n.value.success;a==null?h&&(c.push(r),d+=1):(m=a&&m,d-=1)}});b=t.subscribeToCommit(function(){d===0&&u.size===0&&(v(),C(),b(),r("promiseDone")(t.runInTransaction(async function(t){for(var n of c)await t.mailbox_task_completion_api_tasks.delete((e||(e=o("I64"))).of_string(n))},"readwrite","background",void 0,i.id+":144")),m?p(y):_(r("err")("Not all tasks for "+a+" succeeded")))});try{var S=await n(f);return await f.mailbox_task_completion_notification_context.delete(g),S}catch(e){throw b(),v(),C(),e}},"readwrite",void 0,void 0,i.id+":65");return h=!1,f}l.default=u}),98);
__d("LSVerifyContactExistsWithID",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyContactRowExistsStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){return e.runInTransaction(function(e){return c(t,n,e)},"readwrite",r!=null?r:"background",void 0,i.id+":37")}async function u(e,t,n){await r("LSPlatformWaitForTaskCompletion")(e,function(e){return c(t,n,e)},"readwrite")}function c(t,n,a){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(a),{authorityLevel:(e||(e=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:e.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:e.ofNumber(r("LSContactIdType").FBID),contactType:e.ofNumber(r("LSContactType").USER),contactViewerRelationship:e.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:e.ofNumber(r("LSContactGender").UNKNOWN),id:t,isBlocked:!1,isMemorialized:!1,isSelf:n,workForeignEntityType:e.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})}l.runInTransaction=s,l.waitForTaskFinish=u,l.callStoredProcedure=c}),98);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){var o;return[t.i64.cast([0,7]),t.i64.cast([0,8]),t.i64.cast([0,13]),t.i64.cast([0,10]),t.i64.cast([0,11]),t.i64.cast([0,16])].some(function(n){return t.i64.eq(e[1],n)})?t.resolve((o=[!1,!1,!1],r[0]=o[0],r[1]=o[1],r[2]=o[2],o)):t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(n,o){var a,i,l,s,u,c,d,m,p=n.done,_=n.value;return p?(a=[!0,!0,!1],r[3]=a[0],r[4]=a[1],r[5]=a[2],a):(o=_.item,r[12]=o.threadName,r[11]=o.authorityLevel,r[10]=o.threadType,o.folderName==="other"?(i=[!0,!1,!1],r[7]=i[0],r[8]=i[1],r[9]=i[2]):(t.i64.eq(r[10],t.i64.cast([0,0]))&&t.i64.eq(r[11],t.i64.cast([0,40]))||[t.i64.cast([0,23]),t.i64.cast([0,21]),t.i64.cast([0,18]),t.i64.cast([0,26]),t.i64.cast([0,27])].some(function(e){return t.i64.eq(r[10],e)})&&t.i64.neq(r[11],t.i64.cast([0,20]))&&((r[12]===""?void 0:r[12])===void 0||t.i64.lt(r[11],t.i64.cast([0,80])))||[t.i64.cast([0,151]),t.i64.cast([0,155]),t.i64.cast([0,153])].some(function(e){return t.i64.eq(r[10],e)})||[t.i64.cast([0,24]),t.i64.cast([0,22]),t.i64.cast([0,19]),t.i64.cast([0,25]),t.i64.cast([0,28])].some(function(e){return t.i64.eq(r[10],e)})||[t.i64.cast([0,150]),t.i64.cast([0,154]),t.i64.cast([0,152])].some(function(n){return t.i64.eq(e[1],n)})&&t.i64.lt(r[11],t.i64.cast([0,80]))||[t.i64.cast([0,150]),t.i64.cast([0,154]),t.i64.cast([0,152])].some(function(n){return t.i64.eq(e[1],n)})&&t.i64.eq(e[6],t.i64.cast([0,205]))&&t.i64.eq(o.syncGroup,void 0)?(l=[!0,!0,!1],r[13]=l[0],r[14]=l[1],r[15]=l[2]):(t.i64.ge(r[11],e[4])||t.i64.eq(r[11],t.i64.cast([0,20]))&&([t.i64.cast([0,2]),t.i64.cast([0,202]),t.i64.cast([0,206])].some(function(n){return t.i64.eq(e[1],n)})||[t.i64.cast([0,23]),t.i64.cast([0,21]),t.i64.cast([0,18]),t.i64.cast([0,26]),t.i64.cast([0,27])].some(function(n){return t.i64.eq(e[1],n)}))?(s=[!1,!1,!1],r[16]=s[0],r[17]=s[1],r[18]=s[2]):(u=[!0,!1,!0],r[16]=u[0],r[17]=u[1],r[18]=u[2]),c=[r[16],r[17],r[18]],r[13]=c[0],r[14]=c[1],r[15]=c[2]),d=[r[13],r[14],r[15]],r[7]=d[0],r[8]=d[1],r[9]=d[2]),m=[r[7],r[8],r[9]],r[3]=m[0],r[4]=m[1],r[5]=m[2])})},function(e){var t;return t=[r[3],r[4],r[5]],r[0]=t[0],r[1]=t[1],r[2]=t[2],t}])},function(o){return r[0]?(r[3]=new t.Map,r[3].set("thread_fbid",e[0]),r[3].set("force_upsert",e[5]),r[3].set("use_open_messenger_transport",!1),r[3].set("sync_group",e[6]),r[3].set("metadata_only",e[7]),r[3].set("preview_only",!1),r[4]=r[3].get("thread_fbid"),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[4]),t.i64.cast([0,209]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):t.resolve()},function(o){return r[1]?t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(n,o){var a=n.done,i=n.value;return a?t.sequence([function(n){return t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,n){var o=e.done,a=e.value;return o?r[22]=!1:(n=a.item,r[22]=!!t.i64.eq(n.contactTypeExact,t.i64.cast([0,16])))})},function(e){return r[3]=r[22]}]):(o=i.item,r[3]=!!t.i64.eq(o.threadType,t.i64.cast([0,201])))})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[5]=!1:(n=a.item,r[5]=t.i64.eq(n.threadType,t.i64.cast([0,206])))})},function(n){var o,a,i,l;return r[7]=t.i64.cast([0,1083495711]),r[8]=t.i64.cast([0,1024]),r[9]=t.i64.cast([0,0]),r[10]=t.i64.cast([0,0]),r[11]=t.i64.cast([0,134217728]),r[12]=t.i64.cast([0,1083495711]),r[13]=t.i64.cast([0,1024]),r[14]=t.i64.cast([0,0]),r[15]=t.i64.cast([0,134217728]),r[16]=t.i64.cast([0,0]),r[3]?(r[22]=t.i64.cast([0,8650752]),r[23]=t.i64.cast([0,1024]),r[24]=t.i64.cast([0,0]),r[25]=t.i64.cast([0,0]),r[26]=t.i64.cast([0,0]),o=[r[22],r[23],r[24],r[25],r[26]],r[17]=o[0],r[18]=o[1],r[19]=o[2],r[20]=o[3],r[21]=o[4]):(r[5]?(r[27]=t.i64.cast([0,8700166]),r[28]=t.i64.cast([0,1024]),r[29]=t.i64.cast([0,0]),r[30]=t.i64.cast([0,0]),r[31]=t.i64.cast([0,0]),a=[r[27],r[28],r[29],r[30],r[31]],r[22]=a[0],r[23]=a[1],r[24]=a[2],r[25]=a[3],r[26]=a[4]):(i=[r[12],r[13],r[14],r[15],r[16]],r[22]=i[0],r[23]=i[1],r[24]=i[2],r[25]=i[3],r[26]=i[4]),l=[r[22],r[23],r[24],r[25],r[26]],r[17]=l[0],r[18]=l[1],r[19]=l[2],r[20]=l[3],r[21]=l[4]),t.forEach(t.filter(t.db.table(9).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.lt(n.authorityLevel,e[4])}),function(e){return e.delete()})},function(n){return t.db.table(9).add({threadKey:e[0],mailboxType:t.i64.cast([0,0]),threadType:e[1],syncGroup:e[6],folderName:e[2],lastReadWatermarkTimestampMs:t.i64.cast([0,0]),removeWatermarkTimestampMs:t.i64.cast([-1,4294967295]),ongoingCallState:t.i64.cast([0,0]),parentThreadKey:e[3],authorityLevel:e[4],capabilities:r[17],capabilities2:r[18],capabilities3:r[19],capabilities4:r[20],capabilities5:r[21],unsendLimitMs:t.i64.cast([-1,4294967295])})},function(o){return[t.i64.cast([0,1]),t.i64.cast([0,201]),t.i64.cast([0,204])].some(function(n){return t.i64.eq(e[1],n)})?t.sequence([function(n){return t.forEach(t.filter(t.db.table(14).fetch([[[e[0],e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,e[0])&&t.i64.lt(n.authorityLevel,e[4])}),function(e){return e.delete()})},function(n){return t.db.table(14).add({threadKey:e[0],contactId:e[0],readWatermarkTimestampMs:t.i64.cast([0,0]),deliveredWatermarkTimestampMs:t.i64.cast([0,0]),authorityLevel:e[4],isModerator:!1})},function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[22]=t[0],t})},function(n){return t.forEach(t.filter(t.db.table(14).fetch([[[e[0],r[22]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,r[22])&&t.i64.lt(n.authorityLevel,e[4])}),function(e){return e.delete()})},function(n){return t.db.table(14).add({threadKey:e[0],contactId:r[22],readWatermarkTimestampMs:t.i64.cast([0,0]),deliveredWatermarkTimestampMs:t.i64.cast([0,0]),authorityLevel:e[4],isModerator:!1})}]):t.resolve()}]):t.resolve()},function(n){return r[2]?t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(t){var n=t.update,r=t.item;return n({authorityLevel:e[4]})}):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadExistsV2StoredProcedure",e.__tables__=["threads","contacts","participants"],a.exports=e}),null);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(r){return t.storedProcedure(n("LSVerifyThreadExistsV2"),e[0],e[1],e[2],e[3],e[4],!1,e[5],!1,!1)},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadExistsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(r){return t.storedProcedure(n("LSVerifyThreadExists"),e[0],e[1]==null?t.i64.cast([0,1]):e[1],"inbox",t.i64.cast([0,0]),t.i64.cast([0,40])==null?t.i64.cast([0,40]):t.i64.cast([0,40]),e[2])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadRowExistsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSVerifyThreadRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyThreadRowExists","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSVerifyThreadRowExists"),a.threadKey,a.threadType,a.syncGroup);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWSendFileMsgTypes",["WAStanzaUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e}function s(e){return o("WAStanzaUtils").toStanzaId(e)}l.toOfflineAttachmentIDFromStanzaId=e,l.toOfflineAttachmentIDFromString=s}),98);
__d("MAWUpdateSecureThreadAttributionForContact",["I64","LSContactListConversionAttributionStore","LSThreadAttributionStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){c(e,t),u(e,t)}function u(t,n){var r=o("LSContactListConversionAttributionStore").getAttribution((e||(e=o("I64"))).to_string(t));r!=null&&o("LSContactListConversionAttributionStore").setAttribution((e||(e=o("I64"))).to_string(n),r)}function c(t,n){var r=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(e||(e=o("I64"))).to_string(t));r.value!=="unknown"&&(r.type==="LSThreadAttribution"?o("LSThreadAttributionStore").setLSMessagingThreadAttribution((e||(e=o("I64"))).to_string(n),e.to_string(r.value)):o("LSThreadAttributionStore").setSource((e||(e=o("I64"))).to_string(n),r.value))}l.maybeUpdateSecureThreadAttributionForContact=s,l.maybeUpdateLSContactListConversionAttributionStoreSecureThreadAttributionForContact=u,l.maybeUpdateLSThreadAttributionStoreSecureThreadAttributionForContact=c}),98);
__d("MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9948369021930229"}),null);
__d("MAWVerifyThreadCutover_ContactCapabilities2Query.graphql",["MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],r={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MAWVerifyThreadCutover_ContactCapabilities2Query",selections:[{alias:null,args:t,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MAWVerifyThreadCutover_ContactCapabilities2Query",selections:[{alias:null,args:t,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation"),metadata:{},name:"MAWVerifyThreadCutover_ContactCapabilities2Query",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=t.take(1),i=(e||(e=r("ErrorGuard"))).guard(n),l=!1,s=null,u=a.subscribe(function(e,t){var n;if(!l)switch(t.operation){case"delete":(s==null||s.current!==void 0)&&(s={current:void 0},i(s.current));return;case"add":case"put":((n=s)==null?void 0:n.current)!==t.value&&(s={current:t.value},i(s.current))}});return r("promiseDone")(o("ReQL").firstAsync(a),function(e){!l&&s==null&&(s={current:e},i(e))}),function(){l||(l=!0,u==null||u())}}l.subscribeToFirst=s}),98);
__d("isThreadLevelCutoverEnabled",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("564")===!0}l.default=e}),98);
__d("MAWVerifyThreadCutover",["CometRelay","FBLogger","I64","LSAuthorityLevel","LSContactBitOffset","LSCutoverMappingQueryFromOpenThreadIdStoredProcedure","LSFactory","LSPlatformWaitForTaskCompletion","LSVerifyContactExistsWithID","MAWDefaultE2eeOneToOneEligibility","MAWVerifyThreadCutover_ContactCapabilities2Query.graphql","ReQL","ReQLSubscribe","ensureContactsExistAndUpdatedSync","err","getErrorSafe","gkx","isThreadLevelCutoverEnabled","justknobx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("justknobx")._("2730"),c=r("justknobx")._("2731"),d=e!==void 0?e:e=n("MAWVerifyThreadCutover_ContactCapabilities2Query.graphql");async function m(e,t){if(r("isThreadLevelCutoverEnabled")()){var n=await e,a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.mi_act_mapping_table.index("jid")).getKeyRange(t));return a}return Promise.resolve()}async function p(e,t){if(r("isThreadLevelCutoverEnabled")()){var n,a=await e,i=await Promise.all([(n=o("ReQL")).firstAsync(n.fromTableAscending(a.tables.cutover_threads).getKeyRange(t)),n.firstAsync(n.fromTableAscending(a.tables.contacts).getKeyRange(t))]),l=i[0],s=i[1],u=s!=null&&o("LSContactBitOffset").has(76,s);return l!=null||u}return!1}async function _(e,t){var n=await e,a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.mi_act_mapping_table).getKeyRange(t));if(a==null){var i=null,l=new Promise(function(e,a){var l=o("ReQLSubscribe").subscribeToFirst(o("ReQL").fromTableAscending(n.tables.mi_act_mapping_table.index("jid")).getKeyRange(t),function(t){t!=null&&(i!=null&&window.clearTimeout(i),l(),e())});i=window.setTimeout(function(){l(),a(r("err")("Timeout"))},c),r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(n,function(e){return r("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure")(r("LSFactory")(e),{openThreadId:t})},"readwrite","cutover_mapping_query_"+(s||(s=o("I64"))).to_string(t)),function(){i!=null&&window.clearTimeout(i),l(),e()})});try{await l}catch(e){r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).warn("Issue waiting for ACT thread to be ready")}await l}}async function f(e,t,n){var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(n));if(a!=null&&(s||(s=o("I64"))).ge(a.authorityLevel,(s||(s=o("I64"))).of_int32(r("LSAuthorityLevel").AUTHORITATIVE)))return a;r("promiseDone")(r("ensureContactsExistAndUpdatedSync")(e,t,n));var i=new Promise(function(t,a){var i=null,l=o("ReQLSubscribe").subscribeToFirst(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(n),function(e){e!=null&&(s||(s=o("I64"))).ge(e.authorityLevel,(s||(s=o("I64"))).of_int32(r("LSAuthorityLevel").AUTHORITATIVE))&&(r("FBLogger")("messenger_web").info("Contact retrieval was successful"),i!=null&&window.clearTimeout(i),l(),t(e))});i=window.setTimeout(function(){l(),a(r("err")("Timeout"))},u)});try{a=await i}catch(t){var l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(n));r("FBLogger")("messenger_web").catching(r("getErrorSafe")(t)).warn("Error retrieving and navigating to the most recent thread: contact exists in LSDB is %s and AuthorityLevel is %s",l!=null,(l==null?void 0:l.authorityLevel)!=null?(s||(s=o("I64"))).to_string(l==null?void 0:l.authorityLevel):"null")}return a}async function g(e,t,n,a){var l=await e;a==null||a("update_contact_capabilities2_db_ready");var u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(t));a==null||a("update_contact_capabilities2_contact_ready");var c=o("LSContactBitOffset").contactCapabilitiesHas(83,(s||(s=o("I64"))).of_string(n)),d=o("LSContactBitOffset").contactCapabilitiesHas(76,s.of_string(n));if(u==null)return r("FBLogger")("messenger_web").warn("contact is null in maybeUpdateContactCapabilities2IfOutOfSync"),(c||d)&&r("FBLogger")("messenger_web").warn("contact is null and they have hasServerCutoverCapabilities as %s and hasServerDefaultE2eeCapabilities as %s from server",d,c),null;var m=o("LSContactBitOffset").contactCapabilitiesHas(83,u.capabilities2),p=o("LSContactBitOffset").contactCapabilitiesHas(76,u.capabilities2);if(c&&!m&&!p||d&&!p){var _=c?"default_e2ee":"cutover";r("FBLogger")("messenger_web").info("sync LS contactCapabilities2 with server value where contactAuthoritativeLevel is %s and serverContactCapabilities2 is %s",(s||(s=o("I64"))).to_string(u.authorityLevel),_);var f=babelHelpers.extends({},u,{capabilities2:s.of_string(n)});return a==null||a("fetch_contact_from_lsdb_start"),await l.runInTransaction(async function(e){await e.contacts.put(f)},"readwrite",void 0,void 0,i.id+":304"),f}else r("gkx")("9396")&&r("FBLogger")("messenger_web").info("LS contactCapabilities2 isDefaultE2ee: %s and isCutover: %s is synced with server values where contactAuthoritativeLevel is %s",m,p,(s||(s=o("I64"))).to_string(u.authorityLevel));return u}async function h(e,t,n,a,l){var u=null,c=null;if(l!=null){var m=l.contactSync;if(m!=null?await m:await o("LSVerifyContactExistsWithID").runInTransaction(e,n,!1,void 0,i.id+":336"),a==null||a("verify_contact_exists_with_id_complete"),c=await l.contactFetch,u=await l.contactCapabilities,a==null||a("fetch_contact_completed_from_preload"),c!=null&&(s||(s=o("I64"))).ge(c.authorityLevel,(s||(s=o("I64"))).of_int32(r("LSAuthorityLevel").AUTHORITATIVE)))return a==null||a("contact_not_available"),c}else{var p;if(await o("LSVerifyContactExistsWithID").runInTransaction(e,n,!1,void 0,i.id+":356"),a==null||a("verify_contact_exists_with_id_complete"),c=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(n)),a==null||a("fetch_contact_from_db_complete"),c!=null&&(s||(s=o("I64"))).ge(c.authorityLevel,(s||(s=o("I64"))).of_int32(r("LSAuthorityLevel").AUTHORITATIVE)))return a==null||a("contact_not_available"),c;var _=await o("CometRelay").fetchQuery(t,d,{id:(s||(s=o("I64"))).to_string(n)},{fetchPolicy:"store-or-network"}).toPromise();a==null||a("fetch_contact_capability_from_graphql_complete"),u=_==null||(p=_.user)==null?void 0:p.message_capabilities2_str}if(u==null)return r("gkx")("9396")&&r("FBLogger")("messenger_web").warn("messageCapabilities2Str is null in makeSureContactCapabilitiesIsLoaded"),a==null||a("contact_capability_not_available"),c;var f=await g(Promise.resolve(e),n,u,a);return a==null||a("update_contact_complete"),f}async function y(e,t,n,a,i){var l,u=await e,c=await f(u,t,n);if(c==null&&r("gkx")("9396")&&r("FBLogger")("messenger_web").warn("contact is null in verifyContactCutoverOrOndemandCutover"),i!=null){var d=await g(Promise.resolve(u),n,i);d!=null&&(c=d)}var m=i!=null?(s||(s=o("I64"))).of_string(i):(l=c)==null?void 0:l.capabilities2,_=m!=null&&o("LSContactBitOffset").contactCapabilitiesHas(76,m),h=_||await p(Promise.resolve(u),n);return h?a===!0?"on_demand_cutover":"cutover":o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:c})?"default_e2ee":null}async function C(e,t,n){var a=await e,i=await f(a,t,n);i==null&&r("gkx")("9396")&&r("FBLogger")("messenger_web").warn("contact is null in verifyContactCutoverOrOndemandCutover");var l=await p(Promise.resolve(a),n);if(l){await _(Promise.resolve(a),n);var s=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(n));return s==null?"default_e2ee":"cutover"}return o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:i})?"default_e2ee":null}function b(e,t){return t==null?Promise.resolve(!1):p(e,(s||(s=o("I64"))).of_string(t))}l.getCutoverThread=m,l.verifyThreadCutover=p,l.ensureContactCapabilities2IsLoaded=h,l.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE=y,l.verifyContactCutoverOrDefaultE2EEWhenReady=C,l.verifyThreadCutoverWithStringInput=b}),98);
__d("ensureContactsExistAndUpdatedSync",["MAWVerifyThreadCutover"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,r,a){n!=null&&(r==null||r("update_target_ensure_contact_exists_with_improvements_start"),await o("MAWVerifyThreadCutover").ensureContactCapabilities2IsLoaded(e,t,n,r,a))}l.default=e}),98);
__d("MWChatLogOpenChatTab",["MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS"],(function(t,n,r,o,a,i,l){"use strict";var e,s={};function u(t,n,a){t===void 0&&(t=!1),(e||(e=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_user");var i=o("MessengerWebEntryPointsUtil").cast(a);return s[n]=i,r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:i,event_name:"open_chat_tab",is_secured:t,other_user_fbid:t?null:n}})}function c(t,n,a){t===void 0&&(t=!1),(e||(e=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_group");var i=o("MessengerWebEntryPointsUtil").cast(a);return s[n]=i,r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:i,event_name:"open_chat_tab",is_secured:t,thread_fbid:t?null:n}})}function d(t,n,a){t===void 0&&(t=!1),(e||(e=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_page");var i=o("MessengerWebEntryPointsUtil").cast(a);return s[n]=i,r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:i,event_name:"open_chat_tab",is_secured:t,other_user_fbid:t?null:n}})}l.logOpenUserTab=u,l.logOpenGroupTab=c,l.logOpenPageTab=d}),98);
__d("MWChatOpenSecureTabForUserCallback",["cr:312"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,r,o,a){if(n("cr:312")==null){a.addMarkerPoint("MAWChatOpenTabForUser_dependency_missing","AppTiming");return}return n("cr:312").openChatTab(e,t,r,o,a)}l.openChatTab=e}),98);
__d("MWChatOpenTabForGroupCallback",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","Promise","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(t){var a=(s||(s=o("I64"))).of_string(t);r("promiseDone")((c||(c=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(t){return t.runInTransaction(function(t){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.threads).getKeyRange(a)).then(function(i){return i!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType)?(r("FBLogger")("messenger_web_entrypoints").mustfix("Preloading secure thread not implemented yet"),(e||(e=n("Promise"))).resolve()):o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.messages_ranges_v2__generated).getKeyRange(a)).then(function(e){if(e!=null&&e.minMessageId===e.maxMessageId)return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),{direction:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:e.minTimestampMs,threadKey:a})}):(e||(e=n("Promise"))).resolve()})},"readwrite",void 0,void 0,i.id+":27")}))}l.call=d}),98);
__d("ReStoreDbClosedError",["ClientConsistencyEventEmitter","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";var e="ReStore DB closed",s=(function(t){function n(n){var a,i=n!=null?n:e;switch(a=t.call(this,i)||this,a.message=i,o("MAWCurrentUser").getAppID()){case 772021112871879:r("ClientConsistencyEventEmitter").emit("hardRefresh","restore_db_closed");break;default:r("ClientConsistencyEventEmitter").emit("softRefresh","restore_db_closed")}return a}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));l.default=s}),98);
__d("MWLSPreloadThreadForContact",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSVerifyThreadRowExistsStoredProcedure","MAWVerifyThreadCutover","Promise","ReQL","ReStoreDbClosedError","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(t){r("promiseDone")((s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return a.runInTransaction(function(i){var l=(c||(c=o("I64"))).of_string(t);return o("MAWVerifyThreadCutover").verifyThreadCutover((e||(e=n("Promise"))).resolve(a),l).then(function(e){if(!e)return o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.messages_ranges_v2__generated).getKeyRange(l)).then(function(e){return e!=null?e.minMessageId===e.maxMessageId&&e.minMessageId!==""?r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(i),{direction:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:e.minTimestampMs,threadKey:l}):void 0:r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(i),{syncGroup:(u||(u=o("LSIntEnum"))).ofNumber(1),threadKey:l})})})},"readwrite",void 0,void 0,i.id+":29").catch(function(e){if(e instanceof r("ReStoreDbClosedError"))r("FBLogger")("messenger_web").info("Failed to preload thread, db closed.");else throw e})}))}function m(){return d}l.verifyThreadExists=d,l.usePreloaderForUser=m}),98);
__d("isTlcSearchEnabled",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("135")===!0}l.default=e}),98);/*FB_PKG_DELIM*/
__d("CometMessagingJewelDropdownQPBannerPlaceholder.react",["CometRow.react","CometRowItem.react","MDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={actionButtonGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xc9qbxq",$$css:!0},logoGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xsdox4t",marginTop:"x1rdy4ex",width:"x1useyqa",$$css:!0},textGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1qx5ct2",marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(5),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x1qjc9v5 xlhe6ec x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xf30bs1 x1qughib x14vqqas xbmvrgn xod5an3 x1diwwjn x2lwn1j xeuugli x6ikm8r x10wlt62 x1iorvi4 x11lfxj5 x135b78x x1l90r2v x1n2onr6 x1ja2u2z"},e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("CometRowItem.react"),{verticalAlign:"top",children:s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:u.logoGlimmer})}),e[1]=n):n=e[1];var a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs(r("CometRow.react"),{verticalAlign:"center",children:[n,s.jsx(r("CometRowItem.react"),{expanding:!0,children:s.jsxs("div",{className:"x78zum5 xdt5ytf xz62fqu x16ldp7u",children:[s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:u.textGlimmer}),s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:u.textGlimmer})]})})]}),e[2]=a):a=e[2];var i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("CometRowItem.react"),{expanding:!0,children:s.jsx(r("MDSGlimmer.react"),{index:1,xstyle:u.actionButtonGlimmer})}),e[3]=i):i=e[3];var l;return e[4]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsxs("div",babelHelpers.extends({},t,{children:[a,s.jsxs(r("CometRow.react"),{align:"justify",direction:"forward",spacing:8,wrap:"none",children:[i,s.jsx(r("CometRowItem.react"),{expanding:!0,children:s.jsx(r("MDSGlimmer.react"),{index:1,xstyle:u.actionButtonGlimmer})})]})]})),e[4]=l):l=e[4],l}l.default=c}),98);
__d("FBIconArrowLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{fillRule:"nonzero",children:[s.jsx(o("XPlatReactSVG").Path,{d:"M100.655 923.405a.75.75 0 0 0-1.06-1.06l-3.125 3.125a.75.75 0 0 0 0 1.06l3.125 3.125a.75.75 0 0 0 1.06-1.06L98.061 926l2.594-2.595z",transform:"translate(355 153.5)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M105 925.25h-7.688a.75.75 0 1 0 0 1.5H105a.75.75 0 1 0 0-1.5z",transform:"translate(355 153.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconArrowRightFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{fillRule:"nonzero",children:[s.jsx(o("XPlatReactSVG").Path,{d:"M101.345 928.595a.75.75 0 0 0 1.06 1.06l3.125-3.125a.75.75 0 0 0 0-1.06l-3.125-3.125a.75.75 0 0 0-1.06 1.06l2.594 2.595-2.594 2.595z",transform:"translate(355 153.5)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M97 926.75h7.688a.75.75 0 1 0 0-1.5H97a.75.75 0 1 0 0 1.5z",transform:"translate(355 153.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconBellNullCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"m459.33 1076.878 2.524-2.525a.5.5 0 0 0-.707-.707l-2.323 2.323a3.606 3.606 0 0 0-1.838-1.322c.006-.048.014-.096.014-.147a1 1 0 0 0-2 0c0 .05.008.099.015.148-1.432.435-2.509 1.801-2.646 3.526l-.04.906c0 .273-.243.607-.502.96-.372.508-.834 1.14-.827 1.963.003.385.175.887.589 1.201l-1.442 1.442a.5.5 0 1 0 .707.707l1.853-1.853h.024l6.605-6.606-.007-.016m.141 6.622c1.115 0 1.526-.895 1.53-1.495.007-.824-.455-1.457-.827-1.965-.258-.353-.502-.686-.503-.981l-.04-.903c-.003-.043-.01-.083-.015-.126l-5.47 5.47h5.325zm-1.92 1h-3.1a.203.203 0 0 0-.138.352c.435.4 1.031.648 1.688.648s1.253-.247 1.687-.648a.204.204 0 0 0-.137-.352"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconCautionTriangleFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:s.jsx(o("XPlatReactSVG").Path,{d:"m104.999 920.516-.25 2.833c-.033.368-.358.65-.748.65s-.715-.282-.748-.65l-.25-2.833a.969.969 0 0 1 .998-1.016.969.969 0 0 1 .998 1.016zM104 926.5a1.001 1.001 0 0 1 0-2c.551 0 1 .449 1 1 0 .551-.449 1-1 1zm1.114-8.877a1.26 1.26 0 0 0-1.094-.623h-.002a1.26 1.26 0 0 0-1.096.62l-4.746 7.996c-.23.388-.235.853-.012 1.245.228.4.641.639 1.106.639h9.46c.464 0 .877-.238 1.105-.637.223-.39.22-.856-.009-1.244l-4.712-7.996z",transform:"translate(-450 -1073) translate(352 157)"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconCheckmarkFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M451.78 1079.098a.75.75 0 0 0-1.06 1.06l3.08 3.082a.75.75 0 0 0 1.061 0l6.42-6.42a.75.75 0 0 0-1.061-1.06l-5.889 5.889-2.55-2.55z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconGroupFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M452.25 1079c-.69 0-1.25-.673-1.25-1.5 0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5m6.25-1.5c0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5s-1.25-.673-1.25-1.5m-2.5 1c-.827 0-1.5-.785-1.5-1.75 0-1.079.575-1.75 1.5-1.75s1.5.671 1.5 1.75c0 .965-.673 1.75-1.5 1.75m-4 3.478c0-.814.281-1.562.75-2.154a.2.2 0 0 0-.156-.324h-.64a1.957 1.957 0 0 0-1.953 1.9c-.016.603.474 1.1 1.076 1.1h.723a.2.2 0 0 0 .2-.2v-.322zm8 0c0-.814-.281-1.562-.75-2.154a.2.2 0 0 1 .156-.324h.64c1.059 0 1.925.848 1.954 1.9.015.603-.475 1.1-1.077 1.1h-.723a.2.2 0 0 1-.2-.2v-.322zm-1 .416c0 .61-.496 1.106-1.106 1.106h-3.788c-.61 0-1.106-.496-1.106-1.106v-.416a2.48 2.48 0 0 1 2.478-2.478h1.044a2.48 2.48 0 0 1 2.478 2.478v.416z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconMagnifyingGlassFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{fillRule:"nonzero",children:[s.jsx(o("XPlatReactSVG").Path,{d:"m104.609 929.891.103.106a4.75 4.75 0 1 1-.103-.106zm-1.155.97a3.25 3.25 0 1 0 .185.185l-.09-.094-.095-.09z",transform:"translate(353.5 145)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M104.1 934.827c-.048.085-.11.211-.17.372a2.285 2.285 0 0 0-.147 1.107c.049.366.205.702.478.974a.75.75 0 0 0 1.112-1.003l-.052-.057a.173.173 0 0 1-.051-.112.87.87 0 0 1 .066-.385l.031-.078.032-.066a.75.75 0 1 0-1.298-.752z",transform:"translate(353.5 145)"}),s.jsx(o("XPlatReactSVG").Path,{d:"m103.617 937.38.066-.029.042-.016a.869.869 0 0 1 .385-.067.181.181 0 0 1 .087.03l.023.02a.75.75 0 0 0 1.06-1.06 1.664 1.664 0 0 0-.975-.477c-.379-.05-.75.015-1.107.149a2.52 2.52 0 0 0-.372.172.75.75 0 0 0 .624 1.356l.066-.026.1-.052z",transform:"translate(353.5 145)"}),s.jsx(o("XPlatReactSVG").Path,{d:"m106.608 940.169-.04-.044-2.889-3.388c-.599-.703.355-1.657 1.058-1.058l3.388 2.889.044.04c.055.055.114.128.17.222.23.394.23.895-.142 1.31l-.057.057a1.077 1.077 0 0 1-1.31.141 1.097 1.097 0 0 1-.222-.169zm1.03-1.03-.24.283-.318-.284c-.11.122-.11.326-.036.451a.387.387 0 0 0 .064.08l.561-.56a.387.387 0 0 0-.08-.065c-.125-.073-.33-.073-.451.036l.284.317-.283.242.5-.5z",transform:"translate(353.5 145)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconMarketplaceFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108 922v5.27a.23.23 0 0 1-.23.23h-7.54a.23.23 0 0 1-.23-.23V922h-1v5.27c0 .68.55 1.23 1.23 1.23h7.54c.68 0 1.23-.55 1.23-1.23V922h-1z",transform:"translate(352 157)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M109.291 919c.18 0 .3-.183.23-.348l-.686-1.609a.863.863 0 0 0-.802-.543h-8.066a.86.86 0 0 0-.799.534l-.69 1.618a.25.25 0 0 0 .23.348h10.583zm-11.041 1a.25.25 0 0 0-.25.25v1c0 .69.553 1.25 1.234 1.25h.083c.287 0 .567-.102.788-.288l.206-.194.097.082c.308.259.695.4 1.096.4h.088a1.71 1.71 0 0 0 1.106-.409l.063-.072.11.091c.305.252.688.39 1.084.39h.067c.401 0 .792-.144 1.1-.404l.068-.076.09.076c.31.261.702.404 1.107.404h.103c.404 0 .797-.145 1.11-.41l.056-.067.195.166c.236.2.534.311.843.311.72 0 1.306-.594 1.306-1.325v-.925a.25.25 0 0 0-.25-.25h-11.5zm6.75 8h-2v-3.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25V928z",transform:"translate(352 157)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 928.5h-3v-3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v3.75zm-1-1V925h-1v2.5h1z",transform:"translate(352 157)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPauseCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M459 1081.875c0 .344-.28.625-.625.625h-.75a.626.626 0 0 1-.625-.625v-4.75c0-.344.28-.625.625-.625h.75c.344 0 .625.28.625.625v4.75zm-4 0c0 .344-.28.625-.625.625h-.75a.626.626 0 0 1-.625-.625v-4.75c0-.344.28-.625.625-.625h.75c.344 0 .625.28.625.625v4.75zm1-8.375c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPushpinFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"m6.657 1-2.64 2.639A3.191 3.191 0 0 0 1 4.481L5.52 9a3.191 3.191 0 0 0 .84-3.018L9 3.344",transform:"translate(354 143.5) translate(96.5 931.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M3.854 3.096A3.687 3.687 0 0 0 .647 4.127a.5.5 0 0 0 0 .707l4.52 4.52a.5.5 0 0 0 .706 0 3.687 3.687 0 0 0 1.03-3.207l2.45-2.45-.706-.707-2.64 2.639a.5.5 0 0 0-.132.472c.182.748.04 1.53-.388 2.159L1.74 4.513a2.697 2.697 0 0 1 2.16-.388.5.5 0 0 0 .471-.132l2.64-2.64-.708-.707-2.45 2.45z",transform:"translate(354 143.5) translate(96.5 931.5)"}),s.jsx(o("XPlatReactSVG").Path,{d:"m105.392 935.194-2.586-2.586a1.045 1.045 0 0 1 0-1.478l.555-.553a.26.26 0 0 1 .369 0l3.693 3.693a.26.26 0 0 1 0 .37l-.553.554a1.045 1.045 0 0 1-1.478 0",transform:"translate(354 143.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m105.038 935.547-2.585-2.585a1.545 1.545 0 0 1 0-2.186l.553-.552a.76.76 0 0 1 1.077 0l3.693 3.692a.76.76 0 0 1 0 1.077l-.553.554a1.545 1.545 0 0 1-2.185 0zm-1.878-4.063a.545.545 0 0 0 0 .77l2.585 2.586a.545.545 0 0 0 .77 0l.386-.385-3.356-3.356-.385.385z",transform:"translate(354 143.5)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M96.147 941.854a.5.5 0 0 1 0-.708l2.276-2.276a.25.25 0 0 1 .353 0l.354.353a.25.25 0 0 1 0 .354l-2.276 2.277a.5.5 0 0 1-.707 0",transform:"translate(354 143.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconStoriesArchiveFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{fillRule:"nonzero",children:[s.jsx(o("XPlatReactSVG").Path,{d:"M103 920.75a.5.5 0 0 0-1 0v2.75a.5.5 0 0 0 .146.354l1.1 1.1a.5.5 0 1 0 .708-.708l-.954-.953v-2.543zm-1.823-3.103c-.146.033-.29.07-.432.114a.5.5 0 1 0 .29.957c.12-.036.24-.068.363-.096a.5.5 0 0 0-.221-.975zm7.015 7.755a5.999 5.999 0 0 0-2.965-7.248.5.5 0 1 0-.455.89 5 5 0 0 1 2.471 6.042.5.5 0 1 0 .949.316zm-10.075 2.195a5.983 5.983 0 0 0 4.383 1.903c1.687 0 3.263-.7 4.39-1.91a.5.5 0 0 0-.731-.682 4.983 4.983 0 0 1-3.66 1.592 4.984 4.984 0 0 1-3.651-1.586.5.5 0 0 0-.73.683zm-1.202-6.292a6.017 6.017 0 0 0-.122 4.051.5.5 0 1 0 .95-.308 5.018 5.018 0 0 1 .102-3.377.5.5 0 1 0-.93-.366zm1.657-2.34a5.8 5.8 0 0 0-.318.296.5.5 0 0 0 .711.703c.08-.08.167-.161.264-.245a.5.5 0 0 0-.657-.755z",transform:"translate(353.5 156)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M105.709 918.41a.5.5 0 1 0-.574-.82l-.922.646a.5.5 0 0 0-.123.696l.646.923a.5.5 0 0 0 .819-.574l-.359-.513.513-.358z",transform:"translate(353.5 156)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSComposeFilled16Icon",["cr:14785"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14785")}),98);
__d("FDSComposeFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("507170"),16),u=e;l.default=u}),98);
__d("FDSMessagesFilled24Icon",["cr:13843"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13843")}),98);
__d("FDSMessagesFilled24PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("542884"),24),u=e;l.default=u}),98);
__d("FDSResizeFreeFilled20Icon",["cr:15603"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15603")}),98);
__d("MWInboxContextSwitcherUtils",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MWPIsThreadUnread"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return function(e){return o("MWPIsThreadUnread").isThreadUnread(e)};case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return function(e){return o("LSMessagingThreadTypeUtil").isFnFGroupThread(e)};case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").DRAFTS):return function(e){return o("LSMessagingThreadTypeUtil").isDraftThread(e)};case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):default:return}}function d(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return(e||(e=o("LSIntEnum"))).ofNumber(-14);case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):default:return(e||(e=o("LSIntEnum"))).ofNumber(0)}}function m(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"Inbox";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"Communities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"Unread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"Groups";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").DRAFTS):return"Drafts";default:return"Other"}}function p(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return s._(/*BTDS*/"No community chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return s._(/*BTDS*/"No unread chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return s._(/*BTDS*/"No group chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):default:return s._(/*BTDS*/"No chats")}}function _(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return s._(/*BTDS*/"When you have community chats, you\u2019ll see them here.");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return s._(/*BTDS*/"When you have unread chats, you\u2019ll see them here.");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return s._(/*BTDS*/"When you have group chats, you\u2019ll see them here.");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):default:return s._(/*BTDS*/"When you have chats, you\u2019ll see them here.")}}function f(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"jewel_communities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"jewel_unread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"jewel_groups";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"jewel_all";default:return"jewel"}}function g(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"inbox_communities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"inbox_unread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"inbox_groups";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"inbox_all";default:return"inbox"}}function h(t){var n;switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"inbox";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"communities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"unread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"groups";default:return((n=Object.keys(r("LSThreadRangeFilter")).find(function(n){return(u||(u=o("I64"))).equal((e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter")[n]),t)}))!=null?n:"other").toLowerCase()}}function y(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"jewelCommunities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"jewelUnread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"jewelGroups";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"jewelAll"}}function C(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return!0;case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function b(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return!0;case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function v(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return!0;case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):default:return!1}}l.getCustomThreadFilter=c,l.getParentThreadKeyFromFilter=d,l.getInteractionDescFromFilter=m,l.getNullStateHeadline=p,l.getNullStateMessage=_,l.getJewelEntryPointFromFilter=f,l.getInboxEntryPointFromFilter=g,l.getTracePolicyFromFilter=h,l.getJewelLsSubEntryPointFromFilter=y,l.shouldShowEBUpsellFromFilter=C,l.shouldShowNewMessageForInboxFromFilter=b,l.shouldShowMessageRequestsFromFilter=v}),226);
__d("MWJewelDropdownHeaderSeeAllButton.react",["fbt","FDSCircleButton.react","FDSResizeFreeFilled20Icon","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(12),n=e.onClose,a=e.testid,i=e.url,l=o("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=s._(/*BTDS*/"\u10e7\u10d5\u10d4\u10da\u10d0\u10e1 \u10dc\u10d0\u10ee\u10d5\u10d0 Messenger-\u10e8\u10d8"),t[0]=c):c=t[0];var d=c,m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"\u10e7\u10d5\u10d4\u10da\u10d0 \u10e8\u10d4\u10e2\u10e7\u10dd\u10d1\u10d8\u10dc\u10d4\u10d1\u10d8\u10e1 \u10dc\u10d0\u10ee\u10d5\u10d0"),t[1]=m):m=t[1];var p=m,_=l?p:d,f;t[2]!==i?(f={url:i},t[2]=i,t[3]=f):f=t[3];var g;t[4]!==_||t[5]!==n||t[6]!==f||t[7]!==a?(g=u.jsx(r("FDSCircleButton.react"),{"aria-label":_,color_DEPRECATED:"secondary",icon:r("FDSResizeFreeFilled20Icon"),linkProps:f,onPress:n,size:32,testid:void 0,type_DEPRECATED:"deemphasized"}),t[4]=_,t[5]=n,t[6]=f,t[7]=a,t[8]=g):g=t[8];var h;return t[9]!==_||t[10]!==g?(h=u.jsx(r("FDSTooltip.react"),{align:"end",tooltip:_,children:g}),t[9]=_,t[10]=g,t[11]=h):h=t[11],h}l.default=c}),226);
__d("MWJewelMessengerLink.react",["fbt","MWFacebookUserWithoutMessengerAccess","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.onClick,a=e.url,i=o("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"\u10e7\u10d5\u10d4\u10da\u10d0\u10e1 \u10dc\u10d0\u10ee\u10d5\u10d0 Messenger-\u10e8\u10d8"),t[0]=l):l=t[0];var c=l,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"\u10e7\u10d5\u10d4\u10da\u10d0 \u10e8\u10d4\u10e2\u10e7\u10dd\u10d1\u10d8\u10dc\u10d4\u10d1\u10d8\u10e1 \u10dc\u10d0\u10ee\u10d5\u10d0"),t[1]=d):d=t[1];var m=d,p=i?m:c,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xlsxne2 x1l90r2v x1i80of2"},t[2]=_):_=t[2];var f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f={inboxEntrypoint:"jewelLink"},t[3]=f):f=t[3];var g;return t[4]!==p||t[5]!==n||t[6]!==a?(g=u.jsx("div",babelHelpers.extends({},_,{"data-testid":void 0,children:u.jsx(r("MWXText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:u.jsx(r("MWXLink.react"),{href:a,onClick:n,traceParams:f,children:p})})})),t[4]=p,t[5]=n,t[6]=a,t[7]=g):g=t[7],g}l.default=c}),226);
__d("ReQLPaginatedList.shared",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{ascending:e,descending:t}}i.fromIterables=e}),66);
__d("MWPBaseThreadListHooks",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MAWIsIDBOperational","MWThreadListSupportedThreadTypes","MWXacGating","MetaConfig","ReQL","ReQLPaginatedList.shared","ReQLSuspense","isMWXacGroupThread","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwIsThreadDisabled","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,l){var u=o("react-compiler-runtime").c(16),c;u[0]!==a?(c=a===void 0?(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):a,u[0]=a,u[1]=c):c=u[1];var d=c,m;u[2]!==d?(m=(s||(s=o("I64"))).equal(d,(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE)),u[2]=d,u[3]=m):m=u[3];var p=m,_,f;u[4]!==t||u[5]!==p||u[6]!==n?(_=function(){return p?o("ReQL").fromTableDescending(t.tables.threads_ranges_v2__generated).getKeyRange(n):o("ReQL").empty()},f=[t,n,p],u[4]=t,u[5]=p,u[6]=n,u[7]=_,u[8]=f):(_=u[7],f=u[8]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":58"),h,y;u[9]!==t||u[10]!==d||u[11]!==p||u[12]!==n||u[13]!==l?(h=function(){return p?o("ReQL").empty():o("ReQL").fromTableDescending(t.tables.filtered_threads_ranges_v3__generated).getKeyRange(n).filter(function(e){return(s||(s=o("I64"))).equal(e.threadRangeFilter,d)&&(l==null||(s||(s=o("I64"))).equal(e.secondaryThreadRangeFilter,l))})},y=[t,d,n,l,p],u[9]=t,u[10]=d,u[11]=p,u[12]=n,u[13]=l,u[14]=h,u[15]=y):(h=u[14],y=u[15]);var C=o("ReQLSuspense").useFirst(h,y,i.id+":65");return p?g:C}function c(e){var t=o("react-compiler-runtime").c(4),n=r("MetaConfig")._("44"),a=e!=null?(s||(s=o("I64"))).equal(e.minLastActivityTimestampMs,(s||(s=o("I64"))).zero)||(s||(s=o("I64"))).equal(e.minLastActivityTimestampMs,(s||(s=o("I64"))).one)||n&&(s||(s=o("I64"))).equal(e.minLastActivityTimestampMs,(s||(s=o("I64"))).max_int)?null:e.minLastActivityTimestampMs:null,i=e!=null?(s||(s=o("I64"))).equal(e.maxLastActivityTimestampMs,(s||(s=o("I64"))).zero)||(s||(s=o("I64"))).equal(e.maxLastActivityTimestampMs,(s||(s=o("I64"))).one)?null:e.maxLastActivityTimestampMs:null,l,u;t[0]!==i||t[1]!==a?(l=function(){return{gte:o("ReQL").key(a!=null?a:(s||(s=o("I64"))).min_int),lte:o("ReQL").key(i!=null?i:(s||(s=o("I64"))).max_int)}},u=[i,a],t[0]=i,t[1]=a,t[2]=l,t[3]=u):(l=t[2],u=t[3]);var c=o("Int64Hooks").useMemoInt64(l,u);return c}function d(t){var n=o("react-compiler-runtime").c(11),a=t.customThreadFilter,l=t.db,u=t.parentThreadKey,c=o("MAWIsIDBOperational").useIsIDBOperational(),d;n[0]!==a||n[1]!==l.tables.community_folders||n[2]!==l.tables.threads||n[3]!==c||n[4]!==u?(d=function(){var t,n=(t=o("ReQL")).fromTableDescending(l.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(u),d=t.fromTableDescending(l.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(u),p=t.union(n,d).map(function(t){if(!r("mwCMIsThreadBumped")(t))return{hideFromThreadlist:!1,thread:t};if((s||(s=o("I64"))).equal(t.threadType,(e||(e=o("LSIntEnum"))).ofNumber(17)))return{hideFromThreadlist:!0,thread:t};var n=o("ReQLSuspense").first(o("ReQL").fromTableAscending(l.tables.community_folders,["isHidden","takedownState"]).getKeyRange((s||(s=o("I64"))).equal(t.threadType,(e||(e=o("LSIntEnum"))).ofNumber(17))?t.threadKey:t.parentThreadKey),i.id+":162"),a=(n==null?void 0:n.takedownState)!=null?(s||(s=o("I64"))).equal(n.takedownState,(e||(e=o("LSIntEnum"))).ofNumber(1)):!1,u=(n==null?void 0:n.isHidden)===!0,c=u||a;return{hideFromThreadlist:c,thread:t}}).filter(function(t){var n=t.hideFromThreadlist,i=t.thread;if(n)return!1;var l=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType);return(!l||c)&&(r("mwCMIsAnyCMThread")(i.threadType)?!r("mwIsThreadDisabled")(i.takedownState):!0)&&r("MWThreadListSupportedThreadTypes").findIndex(function(e){return(s||(s=o("I64"))).equal(i.threadType,e)})!==-1&&(e||(e=o("LSIntEnum"))).toNumber(i.authorityLevel)>r("LSAuthorityLevel").CLIENT_PARTIAL&&(o("MWXacGating").isGroupsEnabled()||!r("isMWXacGroupThread")(i))&&(!a||a(i))}).map(m);return o("ReQLPaginatedList.shared").fromIterables(t.empty(),p)},n[0]=a,n[1]=l.tables.community_folders,n[2]=l.tables.threads,n[3]=c,n[4]=u,n[5]=d):d=n[5];var p;n[6]!==a||n[7]!==l||n[8]!==c||n[9]!==u?(p=[l,c,u,a],n[6]=a,n[7]=l,n[8]=c,n[9]=u,n[10]=p):p=n[10];var _=o("Int64Hooks").useMemoInt64(d,p);return _}function m(e){var t=e.thread;return t}l.useMWPBaseThreadListDefaultThreadsRange=u,l.useMWPBaseThreadListBounds=c,l.useMWPBaseThreadListFilteredData=d}),98);
__d("MWQuickPromotionThreadlistBannerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24396280803327230"}),null);
__d("MWThreadListEmptyContainer.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","useEnsureViewerContactExistAndUpdated"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWThreadListNullState.react").__setRef("MWThreadListEmptyContainer.react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.filter,a=e.parentThreadKey;r("useEnsureViewerContactExistAndUpdated")();var i;return t[0]!==n||t[1]!==a?(i=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWThreadListEmptyContainer",children:s.jsx(u,{filter:n,parentThreadKey:a})}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}l.default=c}),98);/*FB_PKG_DELIM*/
__d("CometSearchBaseTypeaheadTitleSnippetViewItem.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.isBadged,a=e.level,i=e.snippet,l=e.title,u=n===void 0?!1:n,c=i===void 0?null:i,d=!0,m=a;a===1?m=2:a===2?m=3:a===3&&(m=4),u&&(d=!1);var p;return t[0]!==m||t[1]!==d||t[2]!==c||t[3]!==l?(p=s.jsx(r("FDSTextPairing.react"),{body:c,bodyColor:"secondary",bodyLineLimit:1,headline:l,headlineLineLimit:2,level:m,reduceEmphasis:d}),t[0]=m,t[1]=d,t[2]=c,t[3]=l,t[4]=p):p=t[4],p}l.default=u}),98);
__d("WorkplaceSearchTypeaheadEventEmitterContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=s.createContext();l.default=u}),98);
__d("CometSearchScopedTypeaheadInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","FBLogger","SearchCometTypeaheadEventEmitterContext","WorkplaceSearchTypeaheadEventEmitterContext","react","useCometTypeaheadInputRefsWebOnly"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","inputExtraProps","onChange"],s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useEffect;function p(t){var n,o=t.ref,a=t.inputExtraProps,i=t.onChange,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s=d(r("SearchCometTypeaheadEventEmitterContext")),c=d(r("WorkplaceSearchTypeaheadEventEmitterContext")),p=(n=s!=null?s:c)!=null?n:{},_=p.subscribeToScopedSearchTypeaheadFocus;_==null&&r("FBLogger")("search").mustfix("Both event emitter contexts missing");var f=r("useCometTypeaheadInputRefsWebOnly")(o),g=f.composedRef,h=f.inputRef,y=h.current;return m(function(){var e=_==null?void 0:_(function(){y!=null&&(y.focus(),y.value="",i(""))});return function(){e==null||e()}},[y,i,_]),u.jsx(r("CometTypeaheadInputRoundedStrategy.react"),babelHelpers.extends({},l,{inputExtraProps:babelHelpers.extends({},a,{size:"medium"}),onChange:i,ref:g}))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("withSearchCometTypeaheadBaseNavigationDecorator",["react","react-compiler-runtime","useCometTypeaheadInputRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["inputRef","onPressEntry","onSelectFreeformQuery"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){function n(n){var a=o("react-compiler-runtime").c(16),i,l,s,c;a[0]!==n?(i=n.inputRef,l=n.onPressEntry,s=n.onSelectFreeformQuery,c=babelHelpers.objectWithoutPropertiesLoose(n,e),a[0]=n,a[1]=i,a[2]=l,a[3]=s,a[4]=c):(i=a[1],l=a[2],s=a[3],c=a[4]);var d=r("useCometTypeaheadInputRefs")(i),m=d.composedRef,p=d.inputRef,_;a[5]!==p||a[6]!==l?(_=function(t,n){n!==!0&&p.current&&p.current.blur(),l==null||l(t,n)},a[5]=p,a[6]=l,a[7]=_):_=a[7];var f=_,g;a[8]!==p||a[9]!==s?(g=function(t){p.current&&p.current.blur(),s&&s(t)},a[8]=p,a[9]=s,a[10]=g):g=a[10];var h=g,y;return a[11]!==m||a[12]!==f||a[13]!==h||a[14]!==c?(y=u.jsx(t,babelHelpers.extends({},c,{inputRef:m,onPressEntry:f,onSelectFreeformQuery:h})),a[11]=m,a[12]=f,a[13]=h,a[14]=c,a[15]=y):y=a[15],y}return n}l.default=d}),98);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24307341962185897"}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql",["withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"InitiateWarmSearchResponse",kind:"LinkedField",name:"initiate_warm_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:e},params:{id:n("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"),metadata:{},name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecorator",["CometRelay","CometRelayErrorHandling","react","react-compiler-runtime","withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e=["onFocus"],s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){function r(r){var i=o("react-compiler-runtime").c(9),l,u;i[0]!==r?(l=r.onFocus,u=babelHelpers.objectWithoutPropertiesLoose(r,e),i[0]=r,i[1]=l,i[2]=u):(l=i[1],u=i[2]);var d=o("CometRelay").useRelayEnvironment(),m;i[3]!==l||i[4]!==d?(m=function(){o("CometRelay").fetchQuery(d,s!==void 0?s:s=n("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"),{},{fetchPolicy:"store-or-network"}).subscribe({error:a}),l&&l()},i[3]=l,i[4]=d,i[5]=m):m=i[5];var p=m,_;return i[6]!==p||i[7]!==u?(_=c.jsx(t,babelHelpers.extends({},u,{onFocus:p})),i[6]=p,i[7]=u,i[8]=_):_=i[8],_}function a(e){o("CometRelayErrorHandling").markErrorAsHandled(e)}return r}l.default=m}),98);
__d("CometSearchScopedTypeahead.react",["BaseTypeahead.react","CometSearchScopedTypeaheadInputStrategy.react","CometTypeaheadLayoutContextualStrategy.react","emptyFunction","react","react-compiler-runtime","useStable","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadSERPWarmCallDecorator"],(function(t,n,r,o,a,i,l){"use strict";var e=["paddingHorizontal"],s,u=s||(s=o("react")),c=s.useMemo,d={typeaheadInput:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},typeaheadView:{borderBottomWidth:"xso031l",borderTopColor:"x5q5vme",borderInlineEndColor:"x14w69le",borderBottomColor:"xia5s5o",borderInlineStartColor:"x18kqih2",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderInlineEndWidth:"x1lun4ml",borderInlineStartWidth:"xpilrb4",borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",boxShadow:"x1wcvc8b",maxHeight:"x133jd2w",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},m={12:{paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0},16:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(9),a,i;n[0]!==t?(a=t.paddingHorizontal,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a===void 0?16:a,s=m[l],c;n[3]!==s?(c={inputXStyle:[d.typeaheadInput,s],viewXStyle_DO_NOT_USE:d.typeaheadView},n[3]=s,n[4]=c):c=n[4];var p=c,f=r("useStable")(_),g;return n[5]!==f||n[6]!==i||n[7]!==p?(g=u.jsx(f,babelHelpers.extends({},i,{inputStrategyRenderer:r("CometSearchScopedTypeaheadInputStrategy.react"),layoutStrategyRenderer:r("CometTypeaheadLayoutContextualStrategy.react"),xstyles:p})),n[5]=f,n[6]=i,n[7]=p,n[8]=g):g=n[8],g}function _(){return(r("withSearchCometTypeaheadSERPWarmCallDecorator")!=null?r("withSearchCometTypeaheadSERPWarmCallDecorator"):r("emptyFunction").thatReturnsArgument)(r("withSearchCometTypeaheadBaseNavigationDecorator")(r("BaseTypeahead.react")))}l.default=p}),98);
__d("CometSearchTypeaheadBaseViewRecentEmptyState.react",["fbt","CometTypeaheadViewEmptyState.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("CometTypeaheadViewEmptyState.react"),{children:s._(/*BTDS*/"\u10d1\u10dd\u10da\u10dd\u10d3\u10e0\u10dd\u10d8\u10dc\u10d3\u10d4\u10da\u10d8 \u10eb\u10d8\u10d4\u10d1\u10d4\u10d1\u10d8 \u10d0\u10e0 \u10d0\u10e0\u10d8\u10e1")}),e[0]=t):t=e[0],t}l.default=c}),226);
__d("CometTypeaheadFocusLockRegion.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.xstyle,a=d,i;return t[0]!==n||t[1]!==r?(i=s.jsx(o("react-strict-dom").html.div,{onMouseDown:a,style:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}function d(e){e.preventDefault()}l.default=c}),98);
__d("CometTypeaheadHightlightBoldTransform.react",["FDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.segment,a=n.content,i;return t[0]!==a?(i=s.jsx(r("FDSText.react"),{type:"bodyLink3",children:a}),t[0]=a,t[1]=i):i=t[1],i}l.default=u}),98);
__d("CometTypeaheadHightlightNormalTransform.react",["FDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.segment,a=n.content,i;return t[0]!==a?(i=s.jsx(r("FDSText.react"),{type:"body3",children:a}),t[0]=a,t[1]=i):i=t[1],i}l.default=u}),98);
__d("mayHaveConnectedCharacters",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750\u077F\u08A0\u08FF\uFB50\uFDFF\uFE70\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}i.default=e}),66);
__d("cometTypeaheadHighlightUtils",["escapeRegex","mayHaveConnectedCharacters"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o){if(r("mayHaveConnectedCharacters")(t))return[{content:t,isMatched:!1}];for(var a=r("escapeRegex")(o==="prefix"?e:e.trim()),i=o==="prefix"?new RegExp("( "+a.split(/\s+/).join("| ")+")","gi"):new RegExp("("+a.split(/\s+/).join("|")+")","gi"),l=" "+t,s=[],u=0,c=null;c=i.exec(l),c!=null;){var d=l.substring(u,c.index);u===0&&(d=d.trimLeft()),s.push({content:d,isMatched:!n});var m=c[0];c.index===0&&(m=m.trimLeft()),u=c.index+c[0].length,s.push({content:m,isMatched:n})}var p=l.substring(u,l.length);return s.push({content:p,isMatched:!n}),s}function s(t,n,r){return r===void 0&&(r="prefix"),e(t,n,!0,r)}function u(t,n,r){return r===void 0&&(r="prefix"),e(t,n,!1,r)}l.highlightMatch=s,l.highlightNonMatch=u}),98);
__d("CometTypeaheadHighlight.react",["CometTypeaheadHightlightBoldTransform.react","CometTypeaheadHightlightNormalTransform.react","cometTypeaheadHighlightUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(14),n=e.children,a=e.content,i=e.query,l=e.strategy;if(i==null||a==null)return null;var u=null;e:switch(l){case"match":{u=o("cometTypeaheadHighlightUtils").highlightMatch;break e}case"non-match":{u=o("cometTypeaheadHighlightUtils").highlightNonMatch;break e}default:}if(u&&i.length!==0){var d;t[0]!==a||t[1]!==u||t[2]!==i?(d=u(i,a).map(c),t[0]=a,t[1]=u,t[2]=i,t[3]=d):d=t[3];var m;t[4]!==d?(m=s.jsx(s.Fragment,{children:d}),t[4]=d,t[5]=m):m=t[5];var p;return t[6]!==n||t[7]!==m?(p=n(m),t[6]=n,t[7]=m,t[8]=p):p=t[8],p}var _;t[9]!==a?(_=s.jsx(r("CometTypeaheadHightlightNormalTransform.react"),{segment:{content:a,isMatched:!1}}),t[9]=a,t[10]=_):_=t[10];var f;return t[11]!==n||t[12]!==_?(f=n(_),t[11]=n,t[12]=_,t[13]=f):f=t[13],f}function c(e,t){return e.isMatched?s.jsx(r("CometTypeaheadHightlightBoldTransform.react"),{segment:e},String(t)):s.jsx(r("CometTypeaheadHightlightNormalTransform.react"),{segment:e},String(t))}l.default=u}),98);
__d("FBNucleusClockOutline20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M10.75 5.75a.75.75 0 0 0-1.5 0V10c0 .199.079.39.22.53l2.5 2.5a.75.75 0 1 0 1.06-1.06l-2.28-2.28V5.75z"}),s.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBNucleusHashtagOutline20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M9.036 1.897a.75.75 0 0 0-1.471-.294L6.685 6H2.75a.75.75 0 0 0 0 1.5h3.635l-1 5H1.75a.75.75 0 0 0 0 1.5h3.335l-.82 4.103a.75.75 0 0 0 1.47.294L6.616 14h5.22l-.82 4.103a.75.75 0 0 0 1.47.294l.88-4.397h3.885a.75.75 0 0 0 0-1.5h-3.585l1-5h3.585a.75.75 0 0 0 0-1.5h-3.285l.82-4.103a.75.75 0 0 0-1.47-.294L13.435 6h-5.22l.82-4.103zm3.1 10.603H6.914l1-5h5.22l-1 5z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBNucleusMagnifyingGlassFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M7.5 1a6.5 6.5 0 1 0 3.835 11.749l1.958 1.958a1 1 0 0 0 1.414-1.414l-1.958-1.958A6.5 6.5 0 0 0 7.5 1zM3 7.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("SearchCometInterestsDeepDiveUtil",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.trim(),n=t.match(/^#(\S+)$/),r=t.split("#").length>2;return!r&&n!=null?n[1]:null}i.getHashtagTag=e}),66);
__d("CometTypeaheadViewItemIcon.react",["ix","FBNucleusClockOutline20Icon.react","FBNucleusHashtagOutline20Icon.react","FBNucleusMagnifyingGlassFilled16Icon.react","FDSBookmarkFilled16Icon","FDSIcon.react","SearchCometInterestsDeepDiveUtil","XPlatReactEnvironment","fbicon","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={icon:{alignItems:"x6s0dn4",backgroundColor:"x443n21",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",width:"x14qfxbe",$$css:!0},iconActive:{backgroundColor:"x1jx94hy",$$css:!0},iconFBVR:{backgroundColor:"x1qhmfi1",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=e.isActive,a=r&&c.iconActive,i;t[0]!==a?(i=[c.icon,o("XPlatReactEnvironment").isWeb()?null:c.iconFBVR,a],t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=u.jsx(o("react-strict-dom").html.div,{style:i,children:n}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}function m(e){var t=o("react-compiler-runtime").c(5),n=e.label,r=e.isActive,a;t[0]!==n?(a=u.jsx(g,{isRecent:!0,label:n}),t[0]=n,t[1]=a):a=t[1];var i;return t[2]!==r||t[3]!==a?(i=u.jsx(d,{isActive:r,children:a}),t[2]=r,t[3]=a,t[4]=i):i=t[4],i}function p(e){var t=o("react-compiler-runtime").c(3),n=e.isActive,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("FDSIcon.react"),{color:"secondary",icon:o("fbicon")._(s("688945"),16),size:16}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(d,{isActive:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}function _(e){var t=o("react-compiler-runtime").c(5),n=e.label,r=e.isActive,a;t[0]!==n?(a=u.jsx(g,{isRecent:!1,label:n}),t[0]=n,t[1]=a):a=t[1];var i;return t[2]!==r||t[3]!==a?(i=u.jsx(d,{isActive:r,children:a}),t[2]=r,t[3]=a,t[4]=i):i=t[4],i}function f(e){var t=o("react-compiler-runtime").c(3),n=e.isActive,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("FDSIcon.react"),{color:"secondary",icon:r("FDSBookmarkFilled16Icon"),size:16}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(d,{isActive:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}function g(e){var t=o("react-compiler-runtime").c(3),n=e.isRecent,a=e.label;if(o("SearchCometInterestsDeepDiveUtil").getHashtagTag(a)!=null){var i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("FDSIcon.react"),{color:o("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:r("FBNucleusHashtagOutline20Icon.react"),size:16}),t[0]=i):i=t[0],i}else if(n){var l;return t[1]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("FDSIcon.react"),{color:o("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:r("FBNucleusClockOutline20Icon.react"),size:20}),t[1]=l):l=t[1],l}else{var s;return t[2]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(r("FDSIcon.react"),{color:o("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:r("FBNucleusMagnifyingGlassFilled16Icon.react"),size:16}),t[2]=s):s=t[2],s}}l.CometTypeaheadViewRecentIcon=m,l.CometTypeaheadViewTrophyIcon=p,l.CometTypeaheadViewTypedIcon=_,l.CometTypeaheadViewSavedContentIcon=f}),98);
__d("CometTypeaheadKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry","isActive","queryString"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(17),a,i,l,s;n[0]!==t?(a=t.entry,i=t.isActive,s=t.queryString,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s):(a=n[1],i=n[2],l=n[3],s=n[4]);var c;n[5]!==a.label||n[6]!==i?(c=u.jsx(o("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:i,label:a.label}),n[5]=a.label,n[6]=i,n[7]=c):c=n[7];var m;n[8]!==a.label||n[9]!==s?(m=u.jsx(r("CometTypeaheadHighlight.react"),{content:a.label,query:s,strategy:"non-match",children:d}),n[8]=a.label,n[9]=s,n[10]=m):m=n[10];var p;return n[11]!==a||n[12]!==i||n[13]!==l||n[14]!==c||n[15]!==m?(p=u.jsx(r("CometTypeaheadViewItem.react"),babelHelpers.extends({},l,{entry:a,isActive:i,itemStartContent:c,testid:void 0,children:m})),n[11]=a,n[12]=i,n[13]=l,n[14]=c,n[15]=m,n[16]=p):p=n[16],p}function d(e){return u.jsx(r("FDSText.react"),{numberOfLines:2,type:"body3",children:e})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometTypeaheadRecentViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry","isActive","queryString","testid"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(17),a,i,l,s;if(n[0]!==t){var c=t.entry,d=t.isActive,m=t.queryString,p=t.testid,_=babelHelpers.objectWithoutPropertiesLoose(t,e);a=c,i=d,s=p,l=_,n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s}else a=n[1],i=n[2],l=n[3],s=n[4];var f=a,g=f.label,h;n[5]!==i||n[6]!==g?(h=u.jsx(o("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:i,label:g}),n[5]=i,n[6]=g,n[7]=h):h=n[7];var y=g!=null?g:"",C;n[8]!==y?(C=u.jsx(r("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:null,title:y}),n[8]=y,n[9]=C):C=n[9];var b;return n[10]!==a||n[11]!==i||n[12]!==l||n[13]!==h||n[14]!==C||n[15]!==s?(b=u.jsx(r("CometTypeaheadViewItem.react"),babelHelpers.extends({},l,{entry:a,isActive:i,itemStartContent:h,testid:void 0,children:C})),n[10]=a,n[11]=i,n[12]=l,n[13]=h,n[14]=C,n[15]=s,n[16]=b):b=n[16],b}l.default=c}),98);
__d("FDSBinocularsFilled20Icon",["cr:14530"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14530")}),98);
__d("FDSBinocularsFilled20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("717879"),20),u=e;l.default=u}),98);
__d("SearchGeminiGlobalResultPageTracePolicy",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT_TAB:"gemini.search_results.default",HASHTAG:"gemini.search_results.hashtag"});i.default=e}),66);
__d("XCometSearchResultsControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/search/{?searchtype}/{?*bqf}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("isSearchGeminiGlobalResultPageTracePolicy",["SearchGeminiGlobalResultPageTracePolicy"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return Object.values(r("SearchGeminiGlobalResultPageTracePolicy")).includes(e)}l.default=e}),98);
__d("useCometSearchRoutingQueryString",["CometRouteParams","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(2),t=o("CometRouteParams").useRouteParams(),n;return e[0]!==t.q?(n=typeof t.q=="string"?t.q.trim():"",e[0]=t.q,e[1]=n):n=e[1],n}l.default=e}),98);
__d("useCometSearchScopedTypeaheadPressEntryHandler",["react","react-compiler-runtime","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useCometTypeaheadNavigate"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(5),n=e.callback,a=e.loggingProvider,i=e.urlBuilder,l=r("useCometTypeaheadNavigate")(),s;return t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==i?(s=function(t){var e,o=t.rawData,s=t.subtype==="your_group_activity"?o.url:i({entryPointAction:"SEARCH_BOX",highConfidenceResult:r("searchCometTypeaheadGetHighConfidenceResult")(t),query:t.label,stsDisambiguation:(e=r("searchCometTypeaheadGetStsDisambiguation")(t))!=null?e:void 0,typeaheadSessionID:a.getSessionID()});l(s),n&&n()},t[0]=n,t[1]=a,t[2]=l,t[3]=i,t[4]=s):s=t[4],s}l.default=u}),98);
__d("useCometSearchScopedTypeaheadSelectFreeformQueryHandler",["react","react-compiler-runtime","useCometTypeaheadNavigate"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(5),n=e.callback,a=e.loggingProvider,i=e.urlBuilder,l=r("useCometTypeaheadNavigate")(),s;return t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==i?(s=function(t){var e=i({entryPointAction:"SEARCH_BOX",query:t,typeaheadSessionID:a.getSessionID()});l(e),n&&n()},t[0]=n,t[1]=a,t[2]=l,t[3]=i,t[4]=s):s=t[4],s}l.default=u}),98);
__d("useSearchCometResultsEntryPointSurface",["isSearchCometGlobalResultPageTracePolicy","isSearchCometScopedResultPageTracePolicy","isSearchGeminiGlobalResultPageTracePolicy","react-compiler-runtime","useCometRouterState"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map([["apps","SERP_APPS_TAB"],["events","SERP_EVENTS_TAB"],["groups","SERP_GROUPS_TAB"],["links","SERP_NEWS_LINK_TAB"],["pages","SERP_PAGES_TAB"],["people","SERP_PEOPLE_TAB"],["photos","SERP_PHOTOS_TAB"],["places","SERP_PLACES_TAB"],["posts","SERP_POSTS_TAB"],["top","SERP_TOP_TAB"],["videos","SERP_VIDEOS_TAB"]]),s=new Map([["groups_home","GROUPS_HOME_SERP_ALL_TAB"],["groups","GROUPS_HOME_SERP_GROUPS_TAB"],["posts","GROUPS_HOME_SERP_GROUP_POSTS_TAB"]]);function u(t){var n,a,i=o("react-compiler-runtime").c(10),l;i[0]!==t?(l=t!=null?t:{},i[0]=t,i[1]=l):l=i[1];var u=l,c=u.currentSearchType,d=u.entryPointSurface,m=r("useCometRouterState")();if(d!=null)return d;var p;i[2]!==(m==null?void 0:m.pushViewStack)?(p=(m==null?void 0:m.pushViewStack)||[],i[2]=m==null?void 0:m.pushViewStack,i[3]=p):p=i[3];var _=p,f;if(_.length>0){var g;f=(g=_[_.length-1])==null?void 0:g.route}else f=m==null?void 0:m.main.route;var h=(n=f)==null?void 0:n.tracePolicy,y=(a=f)==null||(a=a.params)==null?void 0:a.searchtype,C=typeof y=="string"?y:null,b=c!=null?c:C;if(b!=null&&h!=null&&(r("isSearchCometGlobalResultPageTracePolicy")(h)||r("isSearchGeminiGlobalResultPageTracePolicy")(h)||h==="comet.groups.search")){var v=h==="comet.groups.search"?s:e,S;return i[4]!==b||i[5]!==v?(S=v.get(b),i[4]=b,i[5]=v,i[6]=S):S=i[6],S}var R;if(h!=null&&!r("isSearchCometScopedResultPageTracePolicy")(h)&&!r("isSearchCometGlobalResultPageTracePolicy")(h)&&!r("isSearchGeminiGlobalResultPageTracePolicy")(h)){var L;if(i[7]!==h){var E;i[9]===Symbol.for("react.memo_cache_sentinel")?(E=/^((comet|gemini)\.[a-zA-Z_]+).*$/,i[9]=E):E=i[9],L=h.match(E),i[7]=h,i[8]=L}else L=i[8];var k=L;k!=null&&(R=k[1])}return R!=null?R:h}l.default=u}),98);
__d("useSearchCometResultsCommonRouteParamBuilder",["Base64","CometRouteParams","react","react-compiler-runtime","useSearchCometResultsEntryPointSurface"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=o("react-compiler-runtime").c(8),n;t[0]!==e?(n=e!=null?e:{},t[0]=e,t[1]=n):n=t[1];var a=n,i=a.currentSearchType,l=a.entryPointSurface,s=o("CometRouteParams").useRouteParams(),u=s.__tsid__,c;t[2]!==i||t[3]!==l?(c={currentSearchType:i,entryPointSurface:l},t[2]=i,t[3]=l,t[4]=c):c=t[4];var d=r("useSearchCometResultsEntryPointSurface")(c),m;return t[5]!==u||t[6]!==d?(m={build:function(t){var e=t.disableAutocorrect,n=t.encryptedQueryFunction,o=t.encryptedServerDefinedExperience,a=t.entryPointAction,i=t.filters,l=t.highConfidenceResult,s=t.query,c=t.stsDisambiguation,m=t.typeaheadSessionID,p={q:s};if(n!=null&&(p.f=n),o!=null&&(p.sde=o),m!=null?p.__tsid__=m:typeof u=="string"&&(p.__tsid__=u),a!=null&&(p.__epa__=a),d!=null&&(p.__eps__=d),e===!0&&(p.spell="1"),i!=null&&(p.filters=r("Base64").encode(JSON.stringify(i))),c!=null&&(p.__stsd__=r("Base64").encode(JSON.stringify(c))),l!=null){var _=l.id,f=l.source;p.__hcr__=r("Base64").encode(JSON.stringify({id:_,source:f}))}return p}},t[5]=u,t[6]=d,t[7]=m):m=t[7],m}l.default=u}),98);
__d("useSearchCometResultsURLBuilder",["react","react-compiler-runtime","useSearchCometResultsCommonRouteParamBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=["routeBuilder"],s,u=(s||(s=o("react"))).useCallback;function c(t){var n=o("react-compiler-runtime").c(7),a,i;n[0]!==t?(i=t.routeBuilder,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,s=l.currentSearchType,u=r("useSearchCometResultsCommonRouteParamBuilder")(a),c;return n[3]!==u||n[4]!==s||n[5]!==i?(c=function(t){var e,n=t.searchType;return i.buildURL(babelHelpers.extends({},u.build(babelHelpers.extends({},t)),{searchtype:(e=n!=null?n:s)!=null?e:"top"}))},n[3]=u,n[4]=s,n[5]=i,n[6]=c):c=n[6],c}l.default=c}),98);/*FB_PKG_DELIM*/
__d("BugOutline20.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:s.jsxs("g",{fillRule:"nonzero",children:[s.jsx("path",{d:"M110 203.75c0 4.793-2.968 8.75-6.75 8.75s-6.75-3.957-6.75-8.75 2.968-8.75 6.75-8.75 6.75 3.957 6.75 8.75zm-1.5 0c0-4.043-2.405-7.25-5.25-7.25S98 199.707 98 203.75s2.405 7.25 5.25 7.25 5.25-3.207 5.25-7.25z",transform:"translate(352.5 205)"}),s.jsx("path",{d:"m105.388 196.401.053-.059a3.615 3.615 0 0 1 .726-.578c.777-.475 1.784-.764 3.059-.764a.75.75 0 1 0 0-1.5c-1.554 0-2.832.367-3.842.985-.629.385-1.035.784-1.245 1.08a.75.75 0 0 0 1.129.978l.049-.052.071-.09zM109 202.25c.387 0 .916-.088 1.46-.36.95-.475 1.54-1.361 1.54-2.64a.75.75 0 1 0-1.5 0c0 .69-.253 1.07-.71 1.298a1.998 1.998 0 0 1-.79.202.75.75 0 1 0 0 1.5zm.319 2.753.101.01a2.991 2.991 0 0 1 1.1.34c.348.19.632.447.84.788a.75.75 0 0 0 1.28-.782 3.681 3.681 0 0 0-1.401-1.323c-.74-.404-1.467-.536-1.989-.536a.75.75 0 0 0-.143 1.486l.07.01.142.007zm-.891 3.494.072.003c.076 0 .258.043.44.173.34.243.56.716.56 1.577a.75.75 0 1 0 1.5 0c0-1.326-.436-2.26-1.19-2.798-.474-.339-.949-.452-1.31-.452a.75.75 0 0 0-.072 1.497zm-6.067-12.931c-.21-.297-.616-.696-1.245-1.08-1.01-.619-2.287-.986-3.841-.986a.75.75 0 1 0 0 1.5c1.274 0 2.281.29 3.058.765.263.16.477.33.647.497l.079.08.053.059.027.033a.75.75 0 0 0 1.222-.868zm-4.92 5.188-.076-.008a1.968 1.968 0 0 1-.658-.192c-.455-.229-.707-.61-.707-1.304a.75.75 0 1 0-1.5 0c0 1.28.587 2.168 1.531 2.644.544.274 1.07.362 1.457.362a.75.75 0 0 0 .143-1.486l-.07-.01-.12-.006zm-.19 2.746c-.521 0-1.248.132-1.989.536-.57.31-1.05.747-1.402 1.323a.75.75 0 0 0 1.24.842l.04-.06a2.19 2.19 0 0 1 .84-.788c.28-.153.588-.254.896-.31l.143-.023c.066-.009.12-.014.164-.017l.068-.003a.75.75 0 1 0 0-1.5zM98 207c-.361 0-.836.113-1.31.452-.754.538-1.19 1.472-1.19 2.798a.75.75 0 1 0 1.5 0c0-.861.22-1.334.56-1.577a.928.928 0 0 1 .41-.171l.03-.002a.75.75 0 1 0 0-1.5z",transform:"translate(352.5 205)"}),s.jsx("path",{d:"m98.403 201.102.024-.046.02-.048a.275.275 0 0 1-.061.105l.017-.011zm.212-.1c.26-.099.64-.19 1.116-.267.947-.153 2.209-.236 3.519-.235 1.312.001 2.573.087 3.518.242.475.078.855.17 1.114.271.096.037.168.072.212.1a.75.75 0 0 0 1.357-.63c-.397-1.042-2.63-1.447-5.8-1.48l-.4-.003c-3.374-.003-5.784.386-6.2 1.462a.75.75 0 0 0 1.313.701l.04-.061c.044-.029.116-.063.211-.1z",transform:"translate(352.5 205)"}),s.jsx("path",{d:"M102.5 199.75v12a.75.75 0 1 0 1.5 0v-12a.75.75 0 1 0-1.5 0z",transform:"translate(352.5 205)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("DirectMessagingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2051"),s=o("FalcoLoggerInternal").create("direct_messaging",e),u=s;l.default=u}),98);
__d("Keys",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({BACKSPACE:8,TAB:9,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRAKET:221,SINGLE_QUOTE:222});i.default=e}),66);
__d("MWChatSearchSurfaces",["LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s={broadcast:(e||(e=o("LSIntEnum"))).ofNumber(6),cmCommunityInviteAllMembers:e.ofNumber(21),cmCommunityInviteFbFriends:e.ofNumber(22),cmInviteAllMembers:e.ofNumber(14),cmInviteFbFriends:e.ofNumber(20),cmMemberList:e.ofNumber(16),cmThreadParticipantSearch:e.ofNumber(17),instagramAll:e.ofNumber(15),omnipicker:e.ofNumber(5),omnipickerArmadillo:e.ofNumber(11),universal:e.ofNumber(1)},u=s;l.default=u}),98);
__d("MWChatSearchFilteringUtils",["I64","LSMessagingThreadTypeUtil","MAWVerifyThreadCutover","MWChatSearchResultType","MWChatSearchSurfaces","MessengerMSplitFlag","hasDefaultThreadOneToOneCapability"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){var n=e.map(function(e){return e.searchSource==="server"?!1:!!(d(e,t)||c(e))}),r=e.filter(function(e,t){return n[t]===!1});return r}async function u(e,t,n,r,o){n===void 0&&(n=!1),r===void 0&&(r=!0),o===void 0&&(o=!1);var a=e;if(n&&(a=e.filter(function(e){var t=e.key,n=e.rawData;return n.isE2EE})),t==null)return a;var i=await Promise.all(a.map(async function(e){return!(await g(e,t)||await h(e,t,n,r)||o&&e.rawData.isAiBot===!0||p(e)||m(e)||C(e))})),l=e.filter(function(e,t){return i[t]});return l}function c(e){return e.isContact===!0&&e.isViewerUnconnected===!0}function d(e,t){return t===r("MWChatSearchSurfaces").instagramAll?!1:e.isInstagramAccount===!0}function m(e){var t=e.rawData,n=t.canViewerMessage,r=t.isRestrictedByViewer;return r!==!0&&n===!1}function p(e){var t=e.rawData,n=t.isAiBot,o=t.isViewerUnconnected;return n!==!0?!1:r("MessengerMSplitFlag").is_msplit_account||o!==!1}function _(e){var t=[],n=new Set;return e.forEach(function(e){n.has(e.key)||(t.push(e),n.add(e.key))}),t}function f(e,t){return t!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType):e!=null?e.isE2EE===!0:!1}async function g(t,n){var a=t.rawData,i=a.defaultE2eeThreadOneToOne,l=a.id,s=a.isE2EE,u=a.otherUserId,c=a.threadType;return!s||c==null||!o("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(c)?!1:i===!0?!0:await r("hasDefaultThreadOneToOneCapability")((e||(e=o("I64"))).of_string_opt(u!=null?u:l),n)}function h(e,t,n,r){return r===void 0&&(r=!0),n?Promise.resolve(!1):r?y(e,t):Promise.resolve(!1)}async function y(t,n){var a=t.rawData;if(a.resultType!==r("MWChatSearchResultType").GROUP||n==null)return!1;var i=a.hasCutoverThread,l=a.isE2EE,s=a.otherUserId;if(!l)return!1;if(s!=null){if(i===!0)return!0;var u=await o("MAWVerifyThreadCutover").verifyThreadCutover(Promise.resolve(n),(e||(e=o("I64"))).of_string(s));return u}return!1}function C(e){var t=e.rawData.isRestrictedByViewer;return t===!0}l.filterLocalSearchResults=s,l.filterSearchResults=u,l.dedupeByThreadKey=_,l.getIsE2ee=f}),98);
__d("MWThreadCreationUtil",["FBLogger","I64","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MAWVerifyThreadCutover","MWChatSearchFilteringUtils","MWChatSearchResultType","ReQL","ReQLSuspense","gkx","isTlcSearchEnabled","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useCallback,m=c.useMemo,p=10;function _(e,t){var n=v(e),r=o("ReQLSuspense").toArray(o("ReQL").fromTableAscending(t.tables.participants,["contactId","threadKey"]).filter(function(e){return n.has((s||(s=o("I64"))).to_string(e.contactId))}).map(function(e){return[(s||(s=o("I64"))).to_string(e.threadKey),s.to_string(e.contactId)]}),i.id+":51"),a=[],l=new Map;return r!=null&&r.forEach(function(t){var n=l.get(t[0]),r=n!=null?n+1:1;l.set(t[0],r),r===e.length&&a.push(t[0])}),a}function f(e,t,n){var a=!1;return r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.tables.threads.index("lastActivityTimestampMs")).filter(function(t){return e.includes((s||(s=o("I64"))).to_string(t.threadKey))&&t.threadName==null})).then(function(e){e!=null&&(a=!0,n(o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)))}).catch(function(e){r("FBLogger")("messenger_web_creation").mustfix("Issue getting and navigating to the most recent thread",e)})),a}function g(e,t){var n=o("react-compiler-runtime").c(14),r;n[0]!==e||n[1]!==t.tables.contacts?(r=function(){return o("ReQL").fromTableAscending(t.tables.contacts).filter(function(t){return e.has((s||(s=o("I64"))).to_string(t.id))})},n[0]=e,n[1]=t.tables.contacts,n[2]=r):r=n[2];var a;n[3]!==e||n[4]!==t?(a=[e,t],n[3]=e,n[4]=t,n[5]=a):a=n[5];var l=o("ReQLSuspense").useArray(r,a,i.id+":118"),u;n[6]!==l?(u=l.map(h),n[6]=l,n[7]=u):u=n[7];var c=u,d;n[8]!==c||n[9]!==e?(d=new Set(Array.from(e).filter(function(e){return!c.includes(e)})),n[8]=c,n[9]=e,n[10]=d):d=n[10];for(var m=d,p=!0,_=0;_<l.length;_++)if(l[_]!=null){var f=o("LSContactBitOffset").has(80,l[_]);if(!f){p=!1;break}}var g;return n[11]!==p||n[12]!==m?(g=[p,m],n[11]=p,n[12]=m,n[13]=g):g=n[13],g}function h(e){return(s||(s=o("I64"))).to_string(e.id)}function y(e,t){var n=o("react-compiler-runtime").c(14),r;n[0]!==e||n[1]!==t.tables.server_search_results?(r=function(){return o("ReQL").fromTableAscending(t.tables.server_search_results).filter(function(t){return e.has(t.resultId.toString())})},n[0]=e,n[1]=t.tables.server_search_results,n[2]=r):r=n[2];var a;n[3]!==e||n[4]!==t?(a=[e,t],n[3]=e,n[4]=t,n[5]=a):a=n[5];var l=o("ReQLSuspense").useArray(r,a,i.id+":164"),s;n[6]!==l?(s=l.map(C),n[6]=l,n[7]=s):s=n[7];var u=s,c;n[8]!==e||n[9]!==u?(c=new Set(Array.from(e).filter(function(e){return!u.includes(e)})),n[8]=e,n[9]=u,n[10]=c):c=n[10];for(var d=c,m=!0,p=0;p<l.length;p++)if(l[p]!=null&&(l[p].defaultE2eeThreads===null||l[p].defaultE2eeThreads===!1)){m=!1;break}var _;return n[11]!==m||n[12]!==d?(_=[m,d],n[11]=m,n[12]=d,n[13]=_):_=n[13],_}function C(e){return e.resultId.toString()}function b(e,t){var n=o("react-compiler-runtime").c(7),a;n[0]!==e?(a=v(e),n[0]=e,n[1]=a):a=n[1];var i=a,l=g(i,t),s=l[0],u=l[1],c=y(u,t),d=c[0],m=c[1],p;return n[2]!==s||n[3]!==d||n[4]!==m||n[5]!==u?(p=function(){return r("gkx")("5338")?u.size===0||!s?s:m.size===0?d:(r("FBLogger")("messenger_web_creation").warn("Tokens not in the Contacts table or Server Search Results table"),!1):!1},n[2]=s,n[3]=d,n[4]=m,n[5]=u,n[6]=p):p=n[6],p}function v(e){var t=new Set;return e.forEach(function(e){var n=e.rawData.otherUserId!=null?e.rawData.otherUserId:e.key;t.add(n)}),t}function S(e){return e.rawData.hasCutoverThread===!0||R()&&e.rawData.defaultE2eeThreadOneToOne===!0}function R(){return r("isTlcSearchEnabled")()}async function L(e,t,n){var a=o("MWChatSearchFilteringUtils").getIsE2ee(e.rawData);if(a)return{isSecureThread:!0,reason:"e2ee"};var i=e.rawData.id,l=e.rawData.hasCutoverThread===!0||e.rawData.defaultE2eeThreadOneToOne===!0,u="not_touched";e.rawData.isContact||e.rawData.resultType===r("MWChatSearchResultType").USER?u=await o("MAWVerifyThreadCutover").verifyContactCutoverOrDefaultE2EEWhenReady(Promise.resolve(n),t,(s||(s=o("I64"))).of_string(i)):await o("MAWVerifyThreadCutover").verifyThreadCutover(Promise.resolve(n),(s||(s=o("I64"))).of_string(i))&&(u="cutover");var c=u!=null;if(u!=="not_touched"&&l!==c&&r("FBLogger")("messenger_web").warn("Inconsistency for cutover or default e2ee status found and covered by the fix: cutoverOrDefaultE2eeType after the fix is %s",u),u==="cutover"||u==="on_demand_cutover")return{isSecureThread:!0,reason:u};var d=S(e)||u==="default_e2ee";if(d){var m=await o("MAWVerifyThreadCutover").getCutoverThread(Promise.resolve(n),(s||(s=o("I64"))).of_string(e.rawData.id));return m!=null&&r("FBLogger")("messenger_web").warn("Cutover thread inconsistency: default e2ee thread created but still would have been treated as new thread"),{defaultE2eeThreadCreated:m!=null,isSecureThread:!0,reason:"default_e2ee"}}return{isSecureThread:!1}}async function E(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange((s||(s=o("I64"))).of_string(e.key)));return n}function k(e,t){return e!==r("MWChatSearchResultType").GROUP?t?(u||(u=o("LSIntEnum"))).ofNumber(15):(u||(u=o("LSIntEnum"))).ofNumber(1):t?(u||(u=o("LSIntEnum"))).ofNumber(16):(u||(u=o("LSIntEnum"))).ofNumber(2)}function I(e,t,n,r,o,a){e.openTabOrInbox({clientThreadKey:t,threadKey:n,threadType:k(r,o)},"search",void 0,a)}l.E2EE_GROUP_SIZE_LIMIT=p,l.getExistingThreadsWithTheTokens=_,l.maybeUpdateIsSecureBasedOnUnnamedRecentThread=f,l.useCheckE2EEligibilityForEachContact=b,l.passesWebSearchDefaultE2eeThreadCreationGating=R,l.getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2=L,l.checkIfThreadExistsInThreadTable=E,l.navigateToThread=I}),98);
__d("getMAWCanThreadBeCutoverOnDemand",["I64","LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","MWPreloadableQueries","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n){if(t.isTargetE2E===!0||t.targetType!=="USER")return!1;var r=(e||(e=o("I64"))).of_string(t.targetID),a=await Promise.resolve(o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(r))),i=a!=null&&o("LSContactBitOffset").has(76,a);if(!i)return!1;var l=await Promise.resolve(o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.threads).getKeyRange(r))),s=l?o("LSMessagingThreadTypeUtil").isOpenOneToOne(l.threadType):!1;if(!s)return!1;var u=await Promise.resolve(o("ReQL").firstAsync(o("MWPreloadableQueries").getCutoverThreadByThreadKey(n,r)));if(u)return!1;var c=await o("MAWThreadCutover").isCutoverThreadKey(r);return!c}l.default=s}),98);
__d("MaybeTriggerOnDemandCutover",["FBLogger","I64","MAWCreateAndWaitForAuthoritativeOneToOneThread","MAWOnDemandCutoverQPLLogger","MAWOnDemandCutoverTrigger","getErrorSafe","getMAWCanThreadBeCutoverOnDemand"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,a){var i=await r("getMAWCanThreadBeCutoverOnDemand")(t,n);if(i){var l=(e||(e=o("I64"))).of_string(t.targetID);o("MAWOnDemandCutoverTrigger").triggerOnDemandCutover(n,l,a);var s=babelHelpers.extends({},t);try{s.targetID=(e||(e=o("I64"))).to_string(await new Promise(function(e){r("MAWCreateAndWaitForAuthoritativeOneToOneThread")(n,l,"maybeTriggerOnDemandCutover",function(t){o("MAWOnDemandCutoverQPLLogger").addPoint(l,"secure_thread_created"),e(t)})})),s.isTargetE2E=!0}catch(e){var u=r("getErrorSafe")(e);r("FBLogger")("messenger_web").mustfix("Failed to get cutover thread for forward/sharing: %s",u.message)}return Promise.resolve(s)}}l.default=s}),98);
__d("MaybeUpdateTargetBasedOnDefaultE2eeEligibility",["FBLogger","I64","MAWCreateAndWaitForAuthoritativeOneToOneThread","MWThreadCreationUtil","ensureContactsExistAndUpdatedSync","hasDefaultThreadOneToOneCapability"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,a){if(t.isTargetE2E===!0||t.targetType!=="USER")return Promise.resolve(t);var i=(e||(e=o("I64"))).of_string(t.targetID);await r("ensureContactsExistAndUpdatedSync")(n,a,i);var l=await r("hasDefaultThreadOneToOneCapability")(i,n),s=babelHelpers.extends({},t);if(o("MWThreadCreationUtil").passesWebSearchDefaultE2eeThreadCreationGating()&&l)try{s.targetID=(e||(e=o("I64"))).to_string(await new Promise(function(e){r("MAWCreateAndWaitForAuthoritativeOneToOneThread")(n,i,"maybeUpdateTargetBasedOnDefaultE2eeEligibility",function(t){return e(t)})})),s.isTargetE2E=!0}catch(e){r("FBLogger")("messenger_web").mustfix("Failed to create e2ee thread for forward/sharing",e)}return Promise.resolve(s)}l.maybeUpdateTargetBasedOnDefaultE2eeEligibility=s}),98);
__d("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EE",["I64","MaybeTriggerOnDemandCutover","MaybeUpdateTargetBasedOnDefaultE2eeEligibility","ensureContactsExistAndUpdatedSync","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,a,i,l,s){var u,c=await n;o("sendToSentQPLLogger").markSendToSentPoint(l,"update_target_ensure_contact_exists_start");var d=function(t){o("sendToSentQPLLogger").markSendToSentPoint(l,t)};await r("ensureContactsExistAndUpdatedSync")(c,a,(e||(e=o("I64"))).of_string(t.targetID),d,s),o("sendToSentQPLLogger").markSendToSentPoint(l,"update_target_ensure_contact_exists_end"),o("sendToSentQPLLogger").markSendToSentPoint(l,"update_target_maybe_trigger_on_demand_cutover_start");var m=(u=await r("MaybeTriggerOnDemandCutover")(t,c,i))!=null?u:t;return o("sendToSentQPLLogger").markSendToSentPoint(l,"update_target_maybe_trigger_on_demand_cutover_end"),m.targetID===t.targetID&&(o("sendToSentQPLLogger").markSendToSentPoint(l,"update_target_maybe_update_target_based_on_eligibility_start"),m=await o("MaybeUpdateTargetBasedOnDefaultE2eeEligibility").maybeUpdateTargetBasedOnDefaultE2eeEligibility(t,c,a),o("sendToSentQPLLogger").markSendToSentPoint(l,"update_target_maybe_update_target_based_on_eligibility_end")),m}l.default=s}),98);
__d("ReportOutline20.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:s.jsxs("g",{children:[s.jsx("path",{d:"M104 197.75a.749.749 0 0 0-.747.815l.45 4.937c.013.14.132.248.273.248h.048c.141 0 .26-.107.272-.248l.451-4.937a.749.749 0 0 0-.747-.815",transform:"translate(352 205.5)"}),s.jsx("path",{fillRule:"nonzero",d:"M104 197c-.881 0-1.573.755-1.494 1.632l.45 4.938c.05.528.491.93 1.02.93h.048c.529 0 .97-.402 1.02-.929l.45-4.938A1.499 1.499 0 0 0 104 197z",transform:"translate(352 205.5)"}),s.jsx("path",{fillRule:"nonzero",d:"M98.083 211h11.833a4.093 4.093 0 0 0 4.084-4.083v-8.834a4.093 4.093 0 0 0-4.084-4.083H98.083A4.093 4.093 0 0 0 94 198.083v8.834A4.093 4.093 0 0 0 98.083 211zm11.833-1.5H98.083a2.593 2.593 0 0 1-2.583-2.583v-8.834a2.593 2.593 0 0 1 2.583-2.583h11.833a2.593 2.593 0 0 1 2.584 2.583v8.834a2.593 2.593 0 0 1-2.584 2.583z",transform:"translate(352 205.5)"}),s.jsx("path",{d:"M104 205.5a1.251 1.251 0 0 0 0 2.5 1.251 1.251 0 0 0 0-2.5",transform:"translate(352 205.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("StoriesArchiveCardStoreForBlue",[],(function(t,n,r,o,a,i){"use strict";var e={DeletedStoryList:new Set,SeenStoryList:new Set,StoriesArchiveDataMap:new Map};i.default=e}),66);
__d("StoriesBugOutline20IconSVG.react",["BugOutline20.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("SVGIcon").svgIcon(r("BugOutline20.svg.react"));l.default=e}),98);
__d("StoriesReportOutline20IconSVG.react",["ReportOutline20.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("SVGIcon").svgIcon(r("ReportOutline20.svg.react"));l.default=e}),98);
__d("StoriesTranscriptMenuItem_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTranscriptMenuItem_video",selections:[{args:null,kind:"FragmentSpread",name:"CometVideoTranscriptMenuItem_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("StoriesTranscriptMenuItem.react",["CometRelay","CometVideoTranscriptMenuItem.react","StoriesPauseReasons","StoriesTranscriptMenuItem_video.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(5),i=t.setPause,l=t.video,s=o("CometRelay").useFragment(e!==void 0?e:e=n("StoriesTranscriptMenuItem_video.graphql"),l),c;a[0]!==i?(c=function(t){return i(t,o("StoriesPauseReasons").TEXT_TRANSCRIPT_DIALOG)},a[0]=i,a[1]=c):c=a[1];var d;return a[2]!==c||a[3]!==s?(d=u.jsx(r("CometVideoTranscriptMenuItem.react"),{setPause:c,video:s}),a[2]=c,a[3]=s,a[4]=d):d=a[4],d}l.default=c}),98);
__d("UnfollowOutline20.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:s.jsxs("g",{fillRule:"nonzero",children:[s.jsx("path",{d:"M109.731 197.787a4.039 4.039 0 0 0-4.03-3.787H98.3a4.04 4.04 0 0 0-4.031 3.787.75.75 0 1 0 1.497.092A2.54 2.54 0 0 1 98.3 195.5h7.4a2.539 2.539 0 0 1 2.534 2.38.75.75 0 1 0 1.497-.093z",transform:"translate(352 155.5) translate(2 48.5)"}),s.jsx("path",{d:"M110.972 200.54a4.039 4.039 0 0 0-4.038-4.04h-9.868a4.039 4.039 0 0 0-4.038 4.04.75.75 0 1 0 1.5 0 2.539 2.539 0 0 1 2.538-2.54h9.868a2.539 2.539 0 0 1 2.538 2.54.75.75 0 1 0 1.5 0z",transform:"translate(352 155.5) translate(2 48.5)"}),s.jsx("path",{d:"M96.039 214h11.922a4.039 4.039 0 0 0 4.039-4.039v-6.922a4.039 4.039 0 0 0-4.04-4.039H96.04a4.04 4.04 0 0 0-4.04 4.039v6.922A4.04 4.04 0 0 0 96.04 214zm11.922-1.5H96.039a2.54 2.54 0 0 1-2.54-2.539v-6.922a2.54 2.54 0 0 1 2.54-2.539h11.922a2.539 2.539 0 0 1 2.539 2.539v6.922a2.539 2.539 0 0 1-2.54 2.539z",transform:"translate(352 155.5) translate(2 48.5)"}),s.jsx("path",{d:"m100.345 252.405 6.25 6.25a.75.75 0 0 0 1.06-1.06l-6.25-6.25a.75.75 0 0 0-1.06 1.06z",transform:"translate(352 155.5)"}),s.jsx("path",{d:"m106.595 251.345-6.25 6.25a.75.75 0 0 0 1.06 1.06l6.25-6.25a.75.75 0 0 0-1.06-1.06z",transform:"translate(352 155.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("StoriesUnfollowOutline20IconSVG.react",["SVGIcon","UnfollowOutline20.svg.react"],(function(t,n,r,o,a,i,l){"use strict";var e=o("SVGIcon").svgIcon(r("UnfollowOutline20.svg.react"));l.default=e}),98);
__d("fbjs/lib/CSSCore",["CSSCore"],(function(t,n,r,o,a,i){"use strict";a.exports=n("CSSCore")}),null);
__d("isSoftNewlineEvent",["Keys"],(function(t,n,r,o,a,i){"use strict";function e(e){return e.which===n("Keys").RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}a.exports=e}),null);
__d("useStoriesBucketDelete",["react","react-compiler-runtime","relay-runtime","useStoriesBucketsConnectionArguments"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(7),a=r("useStoriesBucketsConnectionArguments")(),i=a.connectionArguments,l=a.connectionName,s;n[0]!==e||n[1]!==t||n[2]!==i||n[3]!==l?(s=function(r){if(t!=null){if(e!=null){var n=r.get(e);if(n!=null){var a=o("relay-runtime").ConnectionHandler.getConnection(n,l,i);a!=null&&o("relay-runtime").ConnectionHandler.deleteNode(a,t)}}r.delete(t)}},n[0]=e,n[1]=t,n[2]=i,n[3]=l,n[4]=s):s=n[4];var u=s,c;return n[5]!==u?(c=function(t){u(t)},n[5]=u,n[6]=c):c=n[6],c}l.default=u}),98);
__d("useStoriesReportBug",["StoriesPauseReasons","react","react-compiler-runtime","useCometReportBug"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(8),n=e.setPause,a=r("useCometReportBug")(),i=a[0],l=a[1],s;t[0]!==n||t[1]!==i?(s=function(){n(!0,o("StoriesPauseReasons").BUG_DIALOG),i({initialProduct:"stories"},function(){n(!1,o("StoriesPauseReasons").BUG_DIALOG)})},t[0]=n,t[1]=i,t[2]=s):s=t[2];var u=s,c;t[3]!==u?(c=function(){u()},t[3]=u,t[4]=c):c=t[4];var d=c,m;return t[5]!==d||t[6]!==l?(m=[d,l],t[5]=d,t[6]=l,t[7]=m):m=t[7],m}l.default=u}),98);/*FB_PKG_DELIM*/
__d("BaseFixedGrid.react",["Locale","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(15),n=e.children,r=e.columns,a=e.gap,i,l,u,c;if(t[0]!==n||t[1]!==r||t[2]!==a){c=Symbol.for("react.early_return_sentinel");e:{var d=s.Children.toArray(n).filter(Boolean),m=s.Children.count(d);if(m===0){c=null;break e}var p=o("Locale").isRTL()?"marginRight":"marginLeft";t[7]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x78zum5 x1q0g3np x1a02dak xh8yej3"},t[7]=i):i=t[7],l="list";var _;t[8]!==r||t[9]!==a?(_=function(t,n){var e,o=n%r,i=n<r,l=o===0,u=(e={},e[p]=l?0:a,e.marginTop=i?0:a,e.width="calc( (100% - "+(r-1)*a+"px) / "+r+")",e);return s.jsx("div",{role:"listitem",style:u,children:t})},t[8]=r,t[9]=a,t[10]=_):_=t[10],u=s.Children.map(d,_)}t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=l,t[5]=u,t[6]=c}else i=t[3],l=t[4],u=t[5],c=t[6];if(c!==Symbol.for("react.early_return_sentinel"))return c;var f;return t[11]!==i||t[12]!==l||t[13]!==u?(f=s.jsx("div",babelHelpers.extends({},i,{role:l,children:u})),t[11]=i,t[12]=l,t[13]=u,t[14]=f):f=t[14],f}l.default=u}),98);
__d("CometDirectionalDockingView.react",["cr:1619204"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1619204")}),98);
__d("CometDirectionalDockingView.sticky.react",["$InternalEnum","BaseScrollableAreaContext","BaseViewportMarginsContext","ReactDOM","react","stylex","useMergeRefs","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=c.useEffect,_=c.useRef,f=c.useState,g={main:{position:"x7wzq59",$$css:!0}},h=n("$InternalEnum")({Down:0,Up:1}),y=Object.freeze({});function C(t){var n=t.bottom,a=n===void 0?S:n,i=t.bottomStickyAdjustment_DO_NOT_USE,l=i===void 0?0:i,s=t.children,c=t.mode,C=t.tagName,b=C===void 0?"div":C,v=t.top,S=v===void 0?16:v,R=t.xstyle,L=m(r("BaseScrollableAreaContext")),E=m(r("BaseViewportMarginsContext")),k=S+E.top,I=a+E.bottom,T=f(0),D=T[0],x=T[1],$=f(y),P=$[0],N=$[1],M=d(function(){return L.length>0?L[L.length-1].getDOMNode():window},[L]),w=d(function(){var e=M();if(e==null)return null;if(window.HTMLElement!=null){var t;return e instanceof HTMLElement?e.getBoundingClientRect().height:(t=e.innerHeight)!=null?t:null}return null},[M]),A=_(null),F=_(w()),O=d(function(e){var t,n=e.height;A.current={currHeight:n,prevHeight:(t=A.current)==null?void 0:t.currHeight}},[]),B=r("useResizeObserver")(O),W=_(0),q=_(null),U=_(null),V=_(null),H=r("useMergeRefs")(B,U),G=d(function(e){var t,n=e.top,r=W.current,a=q.current,i=n>r?h.Down:h.Up,s=U.current,u=V.current;if(!(s==null||u==null)){W.current=n,q.current=i;var c=A.current;if(!(i===a&&(c==null?void 0:c.currHeight)===(c==null?void 0:c.prevHeight))){var d=(t=F.current)!=null?t:w();if(d!=null){var m=s.getBoundingClientRect(),p=u.getBoundingClientRect(),_=m.height,f=m.top-p.top,g;if(_<d-k-I)f=0,g={top:k};else switch(i){case h.Down:{var C=Math.round(Math.min(k,d-I-_));g={top:C};break}case h.Up:{var b=Math.round(Math.min(I,d-k-_));g={bottom:b+l}}}o("ReactDOM").flushSync(function(){N(function(e){return g.top!=null&&e.top!=null&&g.top===e.top||g.bottom!=null&&e.bottom!=null&&g.bottom===e.bottom?e:g!=null?g:y}),x(f)})}}}},[I,k,w]),z=d(function(){var e=M();return e==null?{left:0,top:0}:e instanceof HTMLElement?{left:e.scrollLeft,top:e.scrollTop}:{left:e.scrollY,top:e.scrollY}},[M]);return p(function(){var e=M();if(e!=null){var t=function(){G(z())};return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}},[M,z,G]),p(function(){var e=function(){F.current=w();var e=q.current;q.current=null;var t=z();G({left:t.left,top:t.top+(e===h.Up?-1:1)})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[z,G,w]),u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:V,style:{height:D}}),u.jsx(b,{className:(e||(e=r("stylex")))(R,g.main),ref:H,style:P,children:s})]})}C.displayName=C.name+" [from "+i.id+"]",l.default=C}),98);
__d("CometFeedUnitDebugInfoState",[],(function(t,n,r,o,a,i){"use strict";var e={};function l(t,n,r){e[t]==null&&(e[t]=[]),e[t][n]=r}function s(t){e[t]=[]}function u(){var t={};return Object.keys(e).forEach(function(n){var r=e[n].map(function(e,t){return e.visible?babelHelpers.extends({},e,{position:t}):null}).filter(Boolean);t[n]={visibleUnits:r,allUnits:e[n]}}),t}i.addFeedUnitDebugInfo=l,i.clearFeedUnitInfo=s,i.getStateSnapshot=u}),66);
__d("CometFeedUnitSetDebugInfoContextProvider.react",["CometFeedUnitDebugInfoState","CometFeedUnitSetDebugInfoContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.location,i;t[0]!==a?(i=function(t,n){return o("CometFeedUnitDebugInfoState").addFeedUnitDebugInfo(a,t,n)},t[0]=a,t[1]=i):i=t[1];var l=i,u;return t[2]!==n||t[3]!==l?(u=s.jsx(r("CometFeedUnitSetDebugInfoContext").Provider,{value:l,children:n}),t[2]=n,t[3]=l,t[4]=u):u=t[4],u}l.default=c}),98);
__d("CometNewsFeedEofFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743385"),s=o("FalcoLoggerInternal").create("comet_news_feed_eof",e),u=s;l.default=u}),98);
__d("FDSAppInstagramFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("680443"),16),u=e;l.default=u}),98);
__d("FDSAppWhatsappFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("686157"),16),u=e;l.default=u}),98);
__d("FDSFixedGrid_DEPRECATED.react",["BaseFixedGrid.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["gap"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a,i;n[0]!==t?(a=t.gap,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l;return n[3]!==a||n[4]!==i?(l=u.jsx(r("BaseFixedGrid.react"),babelHelpers.extends({},i,{gap:a})),n[3]=a,n[4]=i,n[5]=l):l=n[5],l}l.default=c}),98);
__d("FDSSettingsFilled16Icon",["cr:14082"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14082")}),98);
__d("FDSSettingsFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("497566"),16),u=e;l.default=u}),98);
__d("PagesCometComposerDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24628841153443264"}),null);
__d("PagesCometComposerDialogQuery$Parameters",["PagesCometComposerDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PagesCometComposerDialogQuery_facebookRelayOperation"),metadata:{},name:"PagesCometComposerDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PagesCometComposerDialog.entrypoint",["JSResourceForInteraction","PagesCometComposerDialogQuery$Parameters","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.id;return{queries:{dialogQueryReference:{parameters:n("PagesCometComposerDialogQuery$Parameters"),variables:{id:e,privacySelectorRenderLocation:"COMET_COMPOSER",scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("PagesCometComposerDialog.react").__setRef("PagesCometComposerDialog.entrypoint")};l.default=e}),98);
__d("PagesCometComposerPrivacySelectorConstants",[],(function(t,n,r,o,a,i){"use strict";var e=13,l={},s=["CITY","COUNTRY","REGION"],u={allow:[],base_state:"EVERYONE",deny:[],tag_expansion_state:"UNSPECIFIED"},c=Object.freeze({DEFAULT_AGE:e,DEFAULT_LOCATION_API_SPEC:l,DEFAULT_PRIVACY_ROW_INPUT:u,LOCATION_TYPES:s});i.default=c}),66);
__d("ProfileCometEntityConvergenceHeaderGlimmer.react",["CometFeedWidthStyles","FDSAspectRatioContainer.react","FDSEntityHeaderBottomRow.react","FDSEntityHeaderCoverPhotoRow.react","FDSEntityPageHeader.react","FDSGlimmer.react","ProfileCometEntityConvergenceHeaderTopRow.react","ProfileCometProfilePictureGlimmer.react","ProfileCometTabsGlimmer.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={coverPhoto:{borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",marginTop:"xdj266r",marginInlineEnd:"x11t971q",marginBottom:"xat24cr",marginInlineStart:"xvc5jky",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},coverPhotoGlimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},name:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xxk0z11",marginBottom:"x1yztbdb",width:"xfp4ol3",$$css:!0}},d=o("CometFeedWidthStyles").getEntityHeaderWidthStyles();function m(){var t=o("react-compiler-runtime").c(5),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx(r("FDSGlimmer.react"),{index:3,xstyle:c.name}),t[0]=n):n=t[0];var a=n,i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("ProfileCometEntityConvergenceHeaderTopRow.react"),{actor:u.jsx(r("ProfileCometProfilePictureGlimmer.react"),{size:168}),actorPicSize:"large",titleBlock:a}),t[1]=i):i=t[1];var l=i,s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(r("FDSEntityHeaderBottomRow.react"),{buttonGroup:null,tabs:u.jsx(r("ProfileCometTabsGlimmer.react"),{})}),t[2]=s):s=t[2];var m=s,p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=(e||(e=r("stylex"))).props(c.coverPhoto,d.coverMediaContainer),t[3]=p):p=t[3];var _;return t[4]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(r("FDSEntityPageHeader.react"),{bottomRow:m,coverPhotoRow:u.jsx(r("FDSEntityHeaderCoverPhotoRow.react"),{coverPhoto:u.jsx("div",babelHelpers.extends({},p,{children:u.jsx(r("FDSAspectRatioContainer.react"),{aspectRatio:2.7011494252873565,children:u.jsx(r("FDSGlimmer.react"),{index:1,xstyle:c.coverPhotoGlimmer})})}))}),testid:void 0,topRow:l}),t[4]=_):_=t[4],_}l.default=m}),98);
__d("ProfileCometProfilePlusFollowChainingContainerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24425992050356428"}),null);
__d("ProfileCometTile.react",["FDSCard.react","FDSUnitHeader.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(12),n=e.action,a=e.body,i=e.children,l=e.headline,u=e.isDirectoryProtile,c=e.meta,d=e.ref,m=u===void 0?!1:u;if(m)return i;var p;t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==c?(p=l!=null?s.jsx(r("FDSUnitHeader.react"),{action:n,body:a,hasTopDivider:!1,headline:l,level:2,meta:c}):null,t[0]=n,t[1]=a,t[2]=l,t[3]=c,t[4]=p):p=t[4];var _;t[5]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xieb3on"},t[5]=_):_=t[5];var f;t[6]!==i?(f=s.jsx("div",babelHelpers.extends({},_,{children:i})),t[6]=i,t[7]=f):f=t[7];var g;return t[8]!==d||t[9]!==p||t[10]!==f?(g=s.jsxs(r("FDSCard.react"),{background:"default",dropShadow:1,ref:d,children:[p,f]}),t[8]=d,t[9]=p,t[10]=f,t[11]=g):g=t[11],g}l.default=u}),98);
__d("ProfileCometTileSectionGlimmer.react",["BaseLoadingStateElement.react","FDSAspectRatioContainer.react","FDSCard.react","FDSFixedGrid_DEPRECATED.react","FDSGlimmer.react","getRoundedCorners","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={borderBottomEndRadius:{borderEndEndRadius:"xde0f50",$$css:!0},borderBottomStartRadius:{borderEndStartRadius:"x15x8krk",$$css:!0},borderTopEndRadius:{borderStartEndRadius:"x5a5i1n",$$css:!0},borderTopStartRadius:{borderStartStartRadius:"x1obq294",$$css:!0},item:{height:"x5yr21d",$$css:!0},title:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",height:"xmix8c7",marginBottom:"x1yztbdb",width:"x2pejg6",$$css:!0}},c=9,d=3;function m(e){var t=o("react-compiler-runtime").c(41),n=e.ref,a,i,l,m,p,_,f,g,h,y,C,b,v;if(t[0]!==n){var S=r("getRoundedCorners")(c,d);l=r("BaseLoadingStateElement.react"),p=n,v="ProfileCometTileSectionGlimmer",i=r("FDSCard.react"),C="default",b=1,t[14]===Symbol.for("react.memo_cache_sentinel")?(h={className:"xyamay9 xv54qhq x1l90r2v xf7dkkf"},y=s.jsx(r("FDSGlimmer.react"),{index:0,xstyle:u.title}),g={className:"x1ccui7m x18pi947"},t[14]=g,t[15]=h,t[16]=y):(g=t[14],h=t[15],y=t[16]),a=r("FDSFixedGrid_DEPRECATED.react"),m=3,_=4,f=Array.from(new Array(c),function(e,t){var n,o,a,i;return s.jsx(r("FDSAspectRatioContainer.react"),{aspectRatio:1,children:s.jsx(r("FDSGlimmer.react"),{index:t%d,xstyle:[u.item,r("getRoundedCorners").hasCorner((n=S[t])!=null?n:0,r("getRoundedCorners").CORNERS.TOP_START)&&u.borderTopStartRadius,r("getRoundedCorners").hasCorner((o=S[t])!=null?o:0,r("getRoundedCorners").CORNERS.TOP_END)&&u.borderTopEndRadius,r("getRoundedCorners").hasCorner((a=S[t])!=null?a:0,r("getRoundedCorners").CORNERS.BOTTOM_START)&&u.borderBottomStartRadius,r("getRoundedCorners").hasCorner((i=S[t])!=null?i:0,r("getRoundedCorners").CORNERS.BOTTOM_END)&&u.borderBottomEndRadius]},t)},t)}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=m,t[5]=p,t[6]=_,t[7]=f,t[8]=g,t[9]=h,t[10]=y,t[11]=C,t[12]=b,t[13]=v}else a=t[1],i=t[2],l=t[3],m=t[4],p=t[5],_=t[6],f=t[7],g=t[8],h=t[9],y=t[10],C=t[11],b=t[12],v=t[13];var R;t[17]!==a||t[18]!==m||t[19]!==_||t[20]!==f?(R=s.jsx(a,{columns:m,gap:_,children:f}),t[17]=a,t[18]=m,t[19]=_,t[20]=f,t[21]=R):R=t[21];var L;t[22]!==R||t[23]!==g?(L=s.jsx("div",babelHelpers.extends({},g,{children:R})),t[22]=R,t[23]=g,t[24]=L):L=t[24];var E;t[25]!==L||t[26]!==h||t[27]!==y?(E=s.jsxs("div",babelHelpers.extends({},h,{children:[y,L]})),t[25]=L,t[26]=h,t[27]=y,t[28]=E):E=t[28];var k;t[29]!==i||t[30]!==E||t[31]!==C||t[32]!==b?(k=s.jsx(i,{background:C,dropShadow:b,children:E}),t[29]=i,t[30]=E,t[31]=C,t[32]=b,t[33]=k):k=t[33];var I;t[34]!==k||t[35]!==v?(I=s.jsx("div",{"data-testid":void 0,children:k}),t[34]=k,t[35]=v,t[36]=I):I=t[36];var T;return t[37]!==l||t[38]!==p||t[39]!==I?(T=s.jsx(l,{ref:p,children:I}),t[37]=l,t[38]=p,t[39]=I,t[40]=T):T=t[40],T}l.default=m}),98);
__d("ProfileCometTimelineError.react",["fbt","FDSButton.react","FDSNullState.react","NullStateGeneral","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("FDSNullState.react"),{action:u.jsx(r("FDSButton.react"),{label:s._(/*BTDS*/"\u10d2\u10d5\u10d4\u10e0\u10d3\u10d8\u10e1 \u10ee\u10d4\u10da\u10d0\u10ee\u10da\u10d0 \u10e9\u10d0\u10e2\u10d5\u10d8\u10e0\u10d7\u10d5\u10d0"),onPress:d,padding:"wide",size:"large"}),body:s._(/*BTDS*/"\u10e8\u10d4\u10e1\u10d0\u10eb\u10da\u10dd\u10d0, \u10d4\u10e1 \u10d8\u10e7\u10dd\u10e1 \u10d3\u10d0\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d4\u10d1\u10e3\u10da\u10d8 \u10e2\u10d4\u10e5\u10dc\u10d8\u10d9\u10e3\u10e0 \u10de\u10e0\u10dd\u10d1\u10da\u10d4\u10db\u10d0\u10e1\u10d7\u10d0\u10dc, \u10e0\u10dd\u10db\u10da\u10d8\u10e1 \u10db\u10dd\u10d2\u10d5\u10d0\u10e0\u10d4\u10d1\u10d0\u10e1\u10d0\u10ea \u10d5\u10ea\u10d3\u10d8\u10da\u10dd\u10d1\u10d7. \u10e1\u10ea\u10d0\u10d3\u10d4\u10d7 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8\u10e1 \u10d2\u10d0\u10d3\u10d0\u10e2\u10d5\u10d8\u10e0\u10d7\u10d5\u10d0."),headline:s._(/*BTDS*/"Error Loading Posts"),icon:r("NullStateGeneral")}),e[0]=t):t=e[0],t}function d(){return window.location.reload(!0)}l.default=c}),226);
__d("ProfileCometTimelineTwoColumnLayout.react",["FDSResponsiveColumns.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={overflowAnchor:{overflowAnchor:"x1xzczws",$$css:!0},timelineContainer:{marginTop:"xw7yly9",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(12),n=e.aboveContent,r=e.auxColumn,a=e.contentColumn,i=e.reversed,l=i===void 0?!1:i,c;t[0]!==r?(c=s.jsx(o("FDSResponsiveColumns.react").Column,{columnType:"SECONDARY",xstyle:u.overflowAnchor,children:r}),t[0]=r,t[1]=c):c=t[1];var d=c,m;t[2]!==a?(m=s.jsx(o("FDSResponsiveColumns.react").Column,{columnType:"FEED",children:a}),t[2]=a,t[3]=m):m=t[3];var p=m,_;t[4]!==n?(_=s.jsx(o("FDSResponsiveColumns.react").Container,{containerWidth:"DEFAULT",children:s.jsx(o("FDSResponsiveColumns.react").Column,{columnType:"FULL",children:n})}),t[4]=n,t[5]=_):_=t[5];var f=l?p:d,g=l?d:p,h;t[6]!==f||t[7]!==g?(h=s.jsxs(o("FDSResponsiveColumns.react").Container,{containerWidth:"DEFAULT",xstyle:u.timelineContainer,children:[f,g]}),t[6]=f,t[7]=g,t[8]=h):h=t[8];var y;return t[9]!==_||t[10]!==h?(y=s.jsxs(s.Fragment,{children:[_,h]}),t[9]=_,t[10]=h,t[11]=y):y=t[11],y}l.default=c}),98);
__d("cometFeedUnitID",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"CometFeedUnit_"+e}i.default=e}),66);
__d("useCometFeedKeyCommands",["CometFeedUnitDebugInfoState","FocusRegion.react","GHLAriaLabelTracker","cometFeedUnitID","cometGetKeyCommandConfig","emptyFunction","gkx","react","react-compiler-runtime","scrollTo","useLayerKeyCommands"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useMemo,d=s.useState,m=76,p=function(t,n){return n.role==="article"},_=function(t,n){return n["data-focus"]==="feed_story"};function f(e,t,n,a){r("GHLAriaLabelTracker").set();var i=r("gkx")("23000")&&r("gkx")("1048")?_:p,l=o("FocusRegion.react").focusRegionById(r("cometFeedUnitID")(e),i,!0),s=document.documentElement;if(l!=null&&s!=null){var u=l.getBoundingClientRect(),c=u.top+window.pageYOffset-m-(t!=null?t:0);return r("scrollTo")({behavior:"smooth",onScrollComplete:a,onScrollStart:n,top:c}),!0}return!1}function g(e,t,n,r){var o=document.activeElement;o!=null&&(o.blur(),window.requestAnimationFrame(function(){f(e,t,n,r)}))}function h(e,t,n,a,i){var l=o("react-compiler-runtime").c(21),s=a===void 0?r("emptyFunction"):a,u=i===void 0?r("emptyFunction"):i,c=d(-1),m=c[0],p=c[1],_;l[0]!==m||l[1]!==t?(_=function(n){if(t==null)return m;var e=o("CometFeedUnitDebugInfoState").getStateSnapshot(),r=e[t];if(r==null)return m;var a=r.visibleUnits;if(a.some(function(e){return e.visible&&e.position===m}))return m;var i=n==="forward"?a[0]:a[a.length-1],l=i==null?void 0:i.position;return l===0?-1:l!=null?l:-1},l[0]=m,l[1]=t,l[2]=_):_=l[2];var h=_,y;l[3]!==h||l[4]!==u||l[5]!==s||l[6]!==e||l[7]!==n?(y=function(){var t=h("forward");if(t<e-1){var r=t+1;f(r,n,s,u)&&p(r)}else g(t,n,s,u)},l[3]=h,l[4]=u,l[5]=s,l[6]=e,l[7]=n,l[8]=y):y=l[8];var C=y,b;l[9]!==h||l[10]!==u||l[11]!==s||l[12]!==n?(b=function(){var e=h("backward");if(e>0){var t=e-1;f(t,n,s,u)&&p(t)}else g(e,n,s,u)},l[9]=h,l[10]=u,l[11]=s,l[12]=n,l[13]=b):b=l[13];var v=b,S;l[14]!==C?(S=o("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","scrollNext",C),l[14]=C,l[15]=S):S=l[15];var R;l[16]!==v?(R=o("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","scrollPrevious",v),l[16]=v,l[17]=R):R=l[17];var L;l[18]!==S||l[19]!==R?(L=[S,R],l[18]=S,l[19]=R,l[20]=L):L=l[20];var E=L;return r("useLayerKeyCommands")(E),m}l.default=h}),98);
__d("useCometPageComposerDialog",["fbt","FDSCardedDialogLegacy.react","FeedComposerCometGlimmer.react","PagesCometComposerDialog.entrypoint","emptyFunction","react","react-compiler-runtime","useCometEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useRef,p={withCloseButton:!0};function _(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx(r("FeedComposerCometGlimmer.react"),{}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=u.jsx("div",{children:u.jsx(r("FDSCardedDialogLegacy.react"),babelHelpers.extends({size:"content",title:e.title},e,{children:n}))}),t[1]=e,t[2]=a):a=t[2],a}function f(e){var t,n=o("react-compiler-runtime").c(19),a=e.actorID,i=e.composerEntryPointRef,l=e.composerType,c=e.onBeforeClose,d=e.onSave,f=e.pageID,g=e.title,h;n[0]!==g?(h=g===void 0?s._(/*BTDS*/"\u10de\u10dd\u10e1\u10e2\u10d8\u10e1 \u10e8\u10d4\u10e5\u10db\u10dc\u10d0"):g,n[0]=g,n[1]=h):h=n[1];var y=h,C=(t=e.onClose)!=null?t:r("emptyFunction"),b=m(null),v;n[2]!==f?(v={id:f},n[2]=f,n[3]=v):v=n[3];var S;n[4]!==y?(S=function(){return u.jsx(_,babelHelpers.extends({title:y},p))},n[4]=y,n[5]=S):S=n[5];var R=r("useCometEntryPointDialog")(r("PagesCometComposerDialog.entrypoint"),v,void 0,S),L=R[0],E=R[1],k;n[6]!==a||n[7]!==i||n[8]!==l||n[9]!==c||n[10]!==C||n[11]!==d||n[12]!==f||n[13]!==L||n[14]!==y?(k=function(t){var e=t||{},n=e.beginningViewState,r=e.pushedPageOnLoad;L(babelHelpers.extends({actorID:a,beginningViewState:n,composerEntryPointRef:i,composerType:l,onBeforeClose:c,onClose:C,onSave:d,pageID:f,pushedPageOnLoad:r,title:y},p),C)},n[6]=a,n[7]=i,n[8]=l,n[9]=c,n[10]=C,n[11]=d,n[12]=f,n[13]=L,n[14]=y,n[15]=k):k=n[15];var I=k,T;return n[16]!==E||n[17]!==I?(T=[I,b,E],n[16]=E,n[17]=I,n[18]=T):T=n[18],T}l.default=f}),226);
__d("useResumableComposerViewState",["Actor","createEmptyCometComposerViewState","emptyObject","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useRef;function u(e){var t=o("react-compiler-runtime").c(11),n=e||r("emptyObject"),a=n.actorID_OVERRIDE_I_KNOW_WHAT_IM_DOING,i=n.defaultViewState,l=o("Actor").useActor(),u=l[0],d=a!=null?a:u,m=s(d),p=s(null),_;t[0]!==d?(_=function(t){m.current=d,p.current=t!=null?c(t):null},t[0]=d,t[1]=_):_=t[1];var f=_,g;t[2]!==d?(g=function(){m.current=d,p.current=null},t[2]=d,t[3]=g):g=t[3];var h=g,y;t[4]!==d||t[5]!==i?(y=function(t,n){var e=i!=null?i:r("createEmptyCometComposerViewState")(null,n),o,a=p.current;if(a!=null&&m.current===d?o=a:o=e,t!=null){var l;return babelHelpers.extends({},o,{attachmentArea:{activeAttachmentType:"MEDIA"},mediaAttachments:(((l=o)==null?void 0:l.mediaAttachments)||[]).concat(t)})}return o},t[4]=d,t[5]=i,t[6]=y):y=t[6];var C=y,b;return t[7]!==h||t[8]!==C||t[9]!==f?(b={clearResumableViewState:h,getResumableViewState:C,saveResumableViewState:f},t[7]=h,t[8]=C,t[9]=f,t[10]=b):b=t[10],b}function c(e){var t=e.mediaAttachments!=null?e.mediaAttachments.map(function(e){if(e.state==="UPLOADING"||e.state==="QUEUED")switch(e.fileType){case"PHOTO":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"PHOTO",state:"NEW"};case"VIDEO":return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"VIDEO",state:"NEW"};default:return{data:e.data,file:e.file,fileObjectURL:e.fileObjectURL,fileType:"FILE",state:"NEW"}}return e}):void 0;return babelHelpers.extends({},e,{mediaAttachments:t})}l.default=u}),98);/*FB_PKG_DELIM*/
__d("CometHeroFailTrigger.react",["react","react-compiler-runtime","useHeroFailTrigger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(6),n=e.description,a=e.error,i=e.fail,l=r("useHeroFailTrigger")(),u,c;t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(u=function(){i&&l({description:n,error:a})},c=[n,a,i,l],t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u,t[5]=c):(u=t[4],c=t[5]),s(u,c)}l.default=u}),98);
__d("MAWIssueNewUserVisibleErrors",["fbt","$InternalEnum","LSDatabaseSingleton","LSFactory","LSIssueNewErrorStoredProcedure","LSRemoveErrorStoredProcedure","ReQL","gkx","promiseDone"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t,n,a,l){r("promiseDone")((e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return e.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:t!=null?t.toString():void 0,errorExtraData:l,errorTitleText:n.toString(),presentationStyle:String(a)})},"readwrite",void 0,void 0,i.id+":37")}))}function c(e,t){return e.runInTransaction(function(e){return r("LSRemoveErrorStoredProcedure")(r("LSFactory")(e),{errorId:t})},"readwrite",void 0,void 0,i.id+":56")}function d(){r("promiseDone")((async function(){var t=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.user_visible_errors));await Promise.all(n.map(async function(e){await c(t,e.errorId)}))})())}function m(t){r("promiseDone")((async function(){var n=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.user_visible_errors));await Promise.all(r.map(async function(e){e.errorExtraData===t&&await c(n,e.errorId)}))})())}var p=n("$InternalEnum")({TOAST:"toast",BANNER:"banner"}),_=s._(/*BTDS*/"\u10d6\u10dd\u10d2\u10d8\u10d4\u10e0\u10d7\u10d8 \u10d2\u10d0\u10db\u10ed\u10dd\u10da\u10d0\u10d3 \u10d3\u10d0\u10e8\u10d8\u10e4\u10e0\u10e3\u10da\u10d8 \u10e1\u10d0\u10e3\u10d1\u10d0\u10e0\u10d8 \u10d5\u10d4\u10e0 \u10e9\u10d0\u10d8\u10e2\u10d5\u10d8\u10e0\u10d7\u10d0"),f=s._(/*BTDS*/"\u10e1\u10ea\u10d0\u10d3\u10d4\u10d7 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8\u10e1 \u10d2\u10d0\u10dc\u10d0\u10ee\u10da\u10d4\u10d1\u10d0 \u10db\u10d0\u10d7 \u10e1\u10d0\u10dc\u10d0\u10ee\u10d0\u10d5\u10d0\u10d3."),g=s._(/*BTDS*/"\u10d7\u10e5\u10d5\u10d4\u10dc \u10e8\u10d4\u10d8\u10eb\u10da\u10d4\u10d1\u10d0 \u10db\u10dd\u10d2\u10d8\u10ec\u10d8\u10dd\u10d7 \u10d0\u10db \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8\u10e1 \u10d2\u10d0\u10dc\u10d0\u10ee\u10da\u10d4\u10d1\u10d0"),h=s._(/*BTDS*/"\u10d0\u10db \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8\u10d7 \u10e8\u10d4\u10e2\u10e7\u10dd\u10d1\u10d8\u10dc\u10d4\u10d1\u10d8\u10e1 \u10d2\u10d0\u10d2\u10d6\u10d0\u10d5\u10dc\u10d0\u10e1\u10d7\u10d0\u10dc \u10d0\u10dc \u10db\u10d8\u10e6\u10d4\u10d1\u10d0\u10e1\u10d7\u10d0\u10dc \u10d3\u10d0\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d4\u10d1\u10d8\u10d7 \u10e8\u10d4\u10d8\u10eb\u10da\u10d4\u10d1\u10d0 \u10e8\u10d4\u10e5\u10db\u10dc\u10d8\u10da\u10d8\u10e7\u10dd \u10de\u10e0\u10dd\u10d1\u10da\u10d4\u10db\u10d4\u10d1\u10d8. \u10d2\u10d0\u10dc\u10d0\u10d0\u10ee\u10da\u10d4\u10d7 \u10d8\u10e1 \u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10e1\u10d0\u10e3\u10d1\u10e0\u10d4\u10d1\u10d8\u10e1 \u10ee\u10d4\u10da\u10d0\u10ee\u10da\u10d0 \u10e9\u10d0\u10e1\u10d0\u10e2\u10d5\u10d8\u10e0\u10d7\u10d0\u10d3."),y=r("gkx")("4424")?s._(/*BTDS*/"This browser is not supported"):s._(/*BTDS*/"\u10d7\u10e5\u10d5\u10d4\u10dc \u10e8\u10d4\u10d8\u10eb\u10da\u10d4\u10d1\u10d0 \u10d2\u10ed\u10d8\u10e0\u10d3\u10d4\u10d1\u10dd\u10d3\u10d4\u10d7 \u10d1\u10e0\u10d0\u10e3\u10d6\u10d4\u10e0\u10d8\u10e1 \u10d2\u10d0\u10dc\u10d0\u10ee\u10da\u10d4\u10d1\u10d0"),C=r("gkx")("4424")?s._(/*BTDS*/"Some messages are missing and certain messaging features are not available. Try using another browser or mobile device."):s._(/*BTDS*/"\u10d2\u10d0\u10db\u10ed\u10dd\u10da\u10d8 \u10d3\u10d0\u10e8\u10d8\u10e4\u10d5\u10e0\u10d8\u10d7 \u10d3\u10d0\u10ea\u10e3\u10da\u10d8 \u10e1\u10d0\u10e3\u10d1\u10e0\u10d4\u10d1\u10d8 \u10d0\u10e0 \u10d2\u10d0\u10db\u10dd\u10e9\u10dc\u10d3\u10d4\u10d1\u10d0 \u10d0\u10db \u10d1\u10e0\u10d0\u10e3\u10d6\u10d4\u10e0\u10e8\u10d8. \u10e1\u10ea\u10d0\u10d3\u10d4\u10d7 \u10db\u10d8\u10e1\u10d8 \u10d2\u10d0\u10dc\u10d0\u10ee\u10da\u10d4\u10d1\u10d0, \u10d0\u10dc \u10d2\u10d0\u10db\u10dd\u10d8\u10e7\u10d4\u10dc\u10d4\u10d7 \u10e1\u10ee\u10d5\u10d0 \u10d1\u10e0\u10d0\u10e3\u10d6\u10d4\u10e0\u10d8."),b=new Map([[_.toString(),_],[g.toString(),g]]),v=new Map([[f.toString(),f],[h.toString(),h]]);l.issueError=u,l.deleteUserVisibleError=c,l.deleteAllErrors=d,l.deleteUserVisibleErrorByJSErrorMessage=m,l.MAWUserVisibleErrorPresentationType=p,l.MAWGeneralErrorMsgTitle=_,l.MAWGeneralErrorMsgBody=f,l.MAWLegacyUserErrorMsgTitle=g,l.MAWLegacyUserErrorMsgBody=h,l.MAWUnsupportedIndexedDBErrorMsgTitle=y,l.MAWUnsupportedIndexedDBErrorMsg=C,l.errorMsgTitleToFbtMap=b,l.errorMsgBodyToFbtMap=v}),226);
__d("MWPIsUserContact",["I64","LSContactViewerRelationship","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return t==null?!1:(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").FACEBOOK_FRIEND))||(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").SOFT_CONTACT))}l.isUserContact=u}),98);
__d("MWChatSearchTypeaheadDataEntry",["I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSRestrictionType","MWChatSearchResultType","MWPIsUserContact","MWSearchStandardResultTypeMappings"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n;return{key:(e||(e=o("I64"))).to_string(t.id),label:t.name,rawData:{displayName:t.name,id:e.to_string(t.id),imageUrl:t.profilePictureUrl,isAiBot:e.equal(t.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:o("MWPIsUserContact").isUserContact(t),isDisappearingModeSettingOn:!1,isE2EE:!0,isEPD:e.equal(t.restrictionType,s.ofNumber(r("LSRestrictionType").DATA_PRIVACY)),isInstamadilloCutover:o("LSContactBitOffset").has(95,t),isRestrictedByViewer:o("LSContactBitOffset").has(66,t),isTTLCClipEnabled:o("LSContactBitOffset").has(96,t),isTTLCGenericXMAShareEnabled:o("LSContactBitOffset").has(97,t),isTTLCMediaShareEnabled:o("LSContactBitOffset").has(98,t),isTTLCStoryShareEnabled:o("LSContactBitOffset").has(99,t),isViewerUnconnected:o("LSContactBitOffset").hasWithDefault(64,t,!0),reachabilityStatus:t.contactReachabilityStatusType,resultType:r("MWChatSearchResultType").USER,searchResultType:o("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(t),secondaryImageUrl:(n=t.profilePictureFallbackUrl)!=null?n:t.profilePictureUrl,subtext:"",subtextAdditional:"",threadType:s.ofNumber(1)},type:"entry"}}l.convertContactToSearchTypeaheadDataEntry=u}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0),s=e;l.default=s}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e={buildURL:function(t){return r("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(t)},buildURLWithoutThread:function(t){return r("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",t)}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("MWInboxFollowUps",["$InternalEnum","DateConsts","I64","LSMessagingThreadTypeUtil","MAWCurrentUser","MWPIsThreadUnread","ReQL","ReStoreTabNotifier","WebAsyncStorage","promiseDone","react","react-compiler-runtime","useDebouncedComet"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useState,m=15,p="inbox_follow_ups_"+o("MAWCurrentUser").getID(),_=(s||(s=o("I64"))).of_string(o("MAWCurrentUser").getID()),f="cached_reminders",g=[],h=null,y=function(){g=[],h=null},C=r("ReStoreTabNotifier")("tabs_"+p),b=function(t){if(t==null)g=[],h=null;else{var e,n;h=t,g=(e=t==null||(n=t._priv)==null?void 0:n[f])!=null?e:[]}},v=function(t){r("promiseDone")(S({action:1,metadata:{lastAccessedThread:(s||(s=o("I64"))).of_float(Date.now())},threadKey:t}))},S=function(t){return new Promise(function(e,n){return r("WebAsyncStorage").upsertAndSaveAtomic(p,function(e){if(t.action===1){var n=(s||(s=o("I64"))).to_string(t.threadKey),r=babelHelpers.extends({},e,{_priv:babelHelpers.extends({},e==null?void 0:e._priv)});return r[n]=t.metadata,r}else if(t.action===2){var a;return babelHelpers.extends({},e,{_priv:(a={},a[f]=t.threadKeys,a)})}},function(t,r){if(t!=null)return n(t);C.postMessage("invalidateReminderMetadata"),b(r),e()})})},R=function(){return new Promise(function(e,t){if(h!=null)return e(h);r("WebAsyncStorage").getItem(p,function(n,r){if(n!=null)return t(n);b(r),e(r)})})},L=n("$InternalEnum").Mirrored(["None","Sender","Receiver"]),E=function(t,n){if(!o("LSMessagingThreadTypeUtil").isOneToOne(n.threadType)||o("MWPIsThreadUnread").isThreadUnread(n))return Promise.resolve(L.None);var e=n.snippetSenderContactId;return e==null||n.lastMessageCtaType!=="messenger_reply_reminder"?Promise.resolve(L.None):o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(n.threadKey)).then(function(t){if(t.length===1&&(s||(s=o("I64"))).equal(t[0].contactId,_))return L.None;var r=Date.now()-(s||(s=o("I64"))).to_float(n.lastActivityTimestampMs);if(r>=o("DateConsts").MS_PER_DAY*7)return L.None;if((s||(s=o("I64"))).equal(e,_)){if(r>=o("DateConsts").MS_PER_DAY)return L.Sender}else if(r>=o("DateConsts").MS_PER_HOUR*6)return L.Receiver;return L.None})},k=function(t){return g.find(function(e){return(s||(s=o("I64"))).equal(e,t.threadKey)})!=null},I=function(){r("promiseDone")(R()),C.onEventReceive("invalidateReminderMetadata",function(){b(null),r("promiseDone")(R())})};function T(e){var t=o("react-compiler-runtime").c(9),n=d(g),a=n[0],i=n[1],l;t[0]!==e?(l=async function(n){var t=null,a=null;return R().then(async function(l){for(var u=0;u<n.length&&u<m;u++){var c=n[u],d=c[1],p=await E(e,d);if(p!==L.None){var _=l==null?void 0:l[(s||(s=o("I64"))).to_string(d.threadKey)];if(!(_!=null&&(s||(s=o("I64"))).gt(_.lastAccessedThread,d.lastActivityTimestampMs))){if(p===L.Sender){if(a!=null)continue;a=d.threadKey}else{if(t!=null)continue;t=d.threadKey}if(a!=null&&t!=null)break}}}var f=[t,a].filter(Boolean);g=f,i(f),r("promiseDone")(S({action:2,threadKeys:f}))})},t[0]=e,t[1]=l):l=t[1];var u=l,c;t[2]!==u?(c=function(t){r("promiseDone")(u(t))},t[2]=u,t[3]=c):c=t[3];var p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={leading:!1,wait:200},t[4]=p):p=t[4];var _=r("useDebouncedComet")(c,p),f;return t[5]!==_||t[6]!==u||t[7]!==a?(f={computeInboxFollowUps:_,computeInboxFollowUpsAsync:u,reminders:a},t[5]=_,t[6]=u,t[7]=a,t[8]=f):f=t[8],f}l.clearCache_FOR_TESTING_ONLY=y,l.touchThreadMetadata=v,l.setMetadata=S,l.getMetadata=R,l.EligibilityCheck=L,l.isFollowUpTagDisplayed=k,l.setupTabsListener=I,l.useInboxFollowUps=T}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0),s=e;l.default=s}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(t){return r("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",t)}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(t){return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",t)}},s=e.buildE2EEThreadURL,u=e.buildURL,c=e.buildURLWithoutThread;l.buildE2EEThreadURL=s,l.buildURL=u,l.buildURLWithoutThread=c}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}},s=e.buildE2EEThreadURL,u=e.buildURL,c=e.buildURLWithoutThread;l.buildE2EEThreadURL=s,l.buildURL=u,l.buildURLWithoutThread=c}),98);
__d("MWNavigationContext",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.createContext,c=u();function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.value,a=c.Provider,i;return t[0]!==n||t[1]!==r?(i=s.jsx(a,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}var m=d;l.context=c,l.Provider=m}),98);
__d("useBroadcastChannelImpressionLogger",["MWLogBroadcastChannelFalcoEvent","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(10),n=e.action,a=e.clientExtras,i=e.event,l=e.parentSurface,s=e.source,u=e.surface,c=e.threadFbid,d;t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==s||t[5]!==u||t[6]!==c?(d=function(){o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:n!=null?n:2,clientExtras:a,event:i,parentSurface:l,source:s,surface:u,threadFbid:c})},t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s,t[5]=u,t[6]=c,t[7]=d):d=t[7];var m=d,p;return t[8]!==m?(p={onImpressionStart:m},t[8]=m,t[9]=p):p=t[9],r("useSinglePartialViewImpression")(p)}l.default=u}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","react","react-compiler-runtime","shouldShowMessagingEntrypoint","useShouldRenderFullTopNav"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext;function d(e){var t=o("react-compiler-runtime").c(4),n=r("useShouldRenderFullTopNav")(),a=c(r("CometPassiveGetRouterStateContext")),i;return t[0]!==e||t[1]!==a||t[2]!==n?(i=function(){var t=a==null?void 0:a(),o=t==null?void 0:t.main,i=t==null?void 0:t.pushViewStack,l=i&&i.length>0?i[i.length-1]:o;return r("shouldShowMessagingEntrypoint")(e,{currentRoute:l==null?void 0:l.route,shouldRenderFullTopNav:n})},t[0]=e,t[1]=a,t[2]=n,t[3]=i):i=t[3],i}l.default=d}),98);
__d("useMAWComposeSecureThreadThenNavigate",["MWChatSearchTypeaheadDataEntry","MWInboxRouteBuilder","MWLSThreadDisplayContext","MWThreadListNewMessageState.react","react","react-compiler-runtime","useCometRouterDispatcher","useMWChatOpenNewTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(5),t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),n=t==="Inbox"?"inboxNewMessage":"jewelNewMessage",a=r("useMWChatOpenNewTab")(n),i=o("MWThreadListNewMessageState.react").useDispatchIfStateExists(),l=r("useCometRouterDispatcher")(),s;return e[0]!==l||e[1]!==i||e[2]!==n||e[3]!==a?(s=function(t,r,s){if(n==="jewelNewMessage")a(!0,t);else if(l!=null){var e=r.length>0?r:t.map(o("MWChatSearchTypeaheadDataEntry").convertContactToSearchTypeaheadDataEntry);i==null||i({entries:e,initialOpenChatSearchTypeahead:s,type:o("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries});var u=o("MWInboxRouteBuilder").buildNewThreadURL({initial_e2ee_toggle_position:!0});l.go(u,{})}},e[0]=l,e[1]=i,e[2]=n,e[3]=a,e[4]=s):s=e[4],s}l.default=u}),98);
__d("useMAWGetUserVisibleErrors",["MAWIssueNewUserVisibleErrors","Promise","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(){var t=o("react-compiler-runtime").c(10),a=(s||(s=r("useReStore")))(),l;t[0]!==a.tables.user_visible_errors?(l=function(){return o("ReQL").fromTableDescending(a.tables.user_visible_errors).filter(m)},t[0]=a.tables.user_visible_errors,t[1]=l):l=t[1];var u;t[2]!==a?(u=[a],t[2]=a,t[3]=u):u=t[3];var c=o("ReQLSuspense").useFirst(l,u,i.id+":37"),d;t[4]!==a||t[5]!==c?(d=function(){return c!=null&&c.errorId!=null?o("MAWIssueNewUserVisibleErrors").deleteUserVisibleError(a,c.errorId):(e||(e=n("Promise"))).resolve()},t[4]=a,t[5]=c,t[6]=d):d=t[6];var p=d,_;return t[7]!==p||t[8]!==c?(_=[c,p],t[7]=p,t[8]=c,t[9]=_):_=t[9],_}function m(e){var t=e.presentationStyle;return t==="banner"}l.default=d}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","CometRelay","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MAWUpdateSecureThreadAttributionForContact","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWInboxTrayGating","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","ReQL","XCometGroupDiscussionControllerRouteBuilder","cr:9780","dispatchOpenChatTabTraceLogging","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","loadChatTabEntryPoint","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRelayEntrypointContextualEnvironmentProvider","useCometRouterDispatcher","useIntegrityBlockInterstitial","useLazyShouldShowMessagingEntrypointInCometRoot","useMAWComposeSecureThreadThenNavigate","useMWChatOpenTabTraceProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=e||(e=o("react")),m=d.useCallback,p=d.useContext,_=d.useMemo,f=r("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWNavigation");function g(){var e=o("react-compiler-runtime").c(5),t=o("MWChatStateV2.react").useDispatch(),n=r("useCometFeedNoRoutingNavigationEventLogger")(),a=r("useMWChatOpenTabTraceProvider")(),i=r("useCometRelayEntrypointContextualEnvironmentProvider")(),l;return e[0]!==t||e[1]!==i||e[2]!==n||e[3]!==a?(l=function(l,u,c,d){return n(Date.now(),"","messenger"),a({entrypoint:u,isUnread:l.isUnread,threadKey:l.threadKey,threadType:(s||(s=o("I64"))).to_int32(l.threadType)},function(e,n){o("MWChatInteraction").set((s||(s=o("I64"))).to_string(l.threadKey),e),r("dispatchOpenChatTabTraceLogging")(n,l,"useMWNavigation"),(d==null?void 0:d.subEntrypoint)!=null&&n.addAnnotation("sub_entrypoint",d.subEntrypoint);var a=r("loadChatTabEntryPoint")(i);return t(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:c!==!0},{threadKeyDescriptor:l,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab},a))})},e[0]=t,e[1]=i,e[2]=n,e[3]=a,e[4]=l):l=e[4],l}function h(e,t,a,i,l,u){return function(c){var d=(s||(s=o("I64"))).to_string(c);if(n("cr:9780")!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e))switch(t){case"message_requests":return o("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({focus_target:u,thread_key:d});case"restricted":return o("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({focus_target:u,thread_key:d});case"archived":return r("justknobx")._("2103")?o("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d}):o("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:u,search:l,thread_key:d});default:return o("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:u,search:l,thread_key:d})}if(a!=null)return r("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[a.threadKey,d],idorvanity:a.groupId});if(t==null)return o("MWInboxRouteBuilder").buildURL({focus_target:u,link_hash:i,search:l,thread_key:d});switch(t){case"archived":return o("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"business_support":return o("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"marketplace":return o("MWInboxMarketplaceThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"message_requests":return o("MWInboxMessageRequestsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"restricted":return o("MWInboxRestrictedAccountsRouteBuilder").buildURL({focus_target:u,thread_key:d});default:return o("MWInboxRouteBuilder").buildURL({focus_target:u,link_hash:i,search:l,thread_key:d})}}}function y(e,t){var n=e.threadKey;return o("LSThreadAttributionStore").setSource((s||(s=o("I64"))).to_string(n),t)}function C(){var e=r("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),t=r("useCometRouterDispatcher")(),n=p(o("MWNavigationContext").context),a=p(r("CometPassiveGetRouterStateContext")),i=g(),l=o("CometRelay").useRelayEnvironment(),d=r("useIntegrityBlockInterstitial")(),m=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),C=m.setVisibleMessage,b=r("useMAWComposeSecureThreadThenNavigate")(),v=r("useAsyncReStore")();return _(function(){var m=function(t,o,i,l,s){var e=r("getTopMostRouteCometEntityKey")(a==null?void 0:a()),u=e==null?void 0:e.entity_type,c=r("getGroupThreadViewParams")(e,a==null?void 0:a()),d=n!=null?n:h(o,u,c,i,l,s);return d(t)},p=function(n,a,i){var e=n.isUnread,l=n.searchQuery,u=n.threadKey,c=n.threadLinkHash,d=n.threadType;if(t!=null){var p=o("MessengerWebEntryPointsUtil").cast(a),_=o("LSMessagingThreadTypeUtil").isArmadilloSecure(d),f=m(u,d,c,l,i);_&&!f.includes("e2ee")&&r("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct"),a!=="messengerUniversalSearch"&&C(void 0),t.go(f,{traceParams:{TLTV:"true",entrypoint:p,hasBadge:e!=null?e.toString():"",inboxEntrypoint:a,isSecure:_?"true":"false",thread_id:(s||(s=o("I64"))).to_string(u),thread_type:s.to_string(d)}})}},_=function(n,a){var e=n.isUnread,i=n.searchQuery,c=n.threadKey,d=n.threadLinkHash,p=n.threadType;if(t!=null){var _=o("MessengerWebEntryPointsUtil").cast(a),g=o("LSMessagingThreadTypeUtil").isArmadilloSecure(p),h=m(c,p,d,i);g&&!h.includes("e2ee")&&r("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct"),a!=="messengerUniversalSearch"&&C(void 0),f.onReady(function(n){r("promiseDone")(n.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE((u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,l,c,void 0,null).then(function(l){switch(l){case"cutover":r("promiseDone")(n.getCutoverThread((u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,c).then(async function(n){var l=n?n.serverThreadKey:c;if(n==null&&o("MWInboxTrayGating").isInboxTrayEnabled()){var u=await v,f=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(u.tables.contacts).getKeyRange(c));if(f!=null){b([f],[],o("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0);return}else r("FBLogger")("Contact was null when navigating to cutover e2ee")}var g=m(l,p,d,i);o("MAWUpdateSecureThreadAttributionForContact").maybeUpdateSecureThreadAttributionForContact(c,l),t.go(g,{traceParams:{TLTV:"true",entrypoint:_,hasBadge:e!=null?e.toString():"",inboxEntrypoint:a,isSecure:"true",thread_id:(s||(s=o("I64"))).to_string(l),thread_type:s.to_string(p)}})}));break;case"default_e2ee":r("promiseDone")(v,function(e){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(c)).then(function(e){e!=null?b([e],[],o("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0):r("FBLogger")("Contact was null when navigating to default e2ee")})});break;case"on_demand_cutover":default:t.go(h,{traceParams:{TLTV:"true",entrypoint:_,hasBadge:e!=null?e.toString():"",inboxEntrypoint:a,isSecure:g?"true":"false",thread_id:(s||(s=o("I64"))).to_string(c),thread_type:(s||(s=o("I64"))).to_string(p)}});break}}))})}};return{getUrlFromThreadKey:m,openInbox:function(t,n,r,a,i){return r===void 0&&(r=(c||(c=o("LSIntEnum"))).ofNumber(54)),y(t,n),d({damagingActionsEntryPoint:r,onProceed:function(){n==="contactShareMessage"||n==="inboxTrayActiveNow"||n==="noteReplyMsg"?_(t,n):p(t,n,i),a==null||a()},threadKey:t.threadKey})},openTabOrInbox:function(n,r,a,l,s,u){return l===void 0&&(l=(c||(c=o("LSIntEnum"))).ofNumber(54)),y(n,r),e()?d({damagingActionsEntryPoint:l,onProceed:function(){i(n,r,a,s),u==null||u()},threadKey:n.threadKey}):d({damagingActionsEntryPoint:l,onProceed:function(){p(n,r),u==null||u()},threadKey:n.threadKey})}}},[a,n,t,C,v,b,d,e,i])}l.default=C}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(t,n){typeof e=="object"&&typeof l!="undefined"?l.exports=n():(t=typeof globalThis!="undefined"?globalThis:t||self,t.MiniSearch=n())})(this,(function(){var e=function(){return e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},e.apply(this,arguments)};function t(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e}var o="ENTRIES",a="KEYS",i="VALUES",l="",s=(function(){function e(e,t){var n=e._tree,r=Object.keys(n);this.set=e,this._type=t,this._path=r.length>0?[{node:n,keys:r}]:[]}return e.prototype.next=function(){var e=this.dive();return this.backtrack(),e},e.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=u(this._path),t=e.node,n=e.keys;return u(n)===l?{done:!1,value:this.result()}:(this._path.push({node:t[u(n)],keys:Object.keys(t[u(n)])}),this.dive())},e.prototype.backtrack=function(){this._path.length!==0&&(u(this._path).keys.pop(),!(u(this._path).keys.length>0)&&(this._path.pop(),this.backtrack()))},e.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var t=e.keys;return u(t)}).filter(function(e){return e!==l}).join("")},e.prototype.value=function(){return u(this._path).node[l]},e.prototype.result=function(){return this._type===i?this.value():this._type===a?this.key():[this.key(),this.value()]},e.prototype[Symbol.iterator]=function(){return this},e})(),u=function(e){return e[e.length-1]},c=0,d=1,m=2,p=3,_=function(e,t,r){for(var o=[{distance:0,i:0,key:"",node:e}],a={},i=[],s=function(){var e=o.pop(),s=e.node,u=e.distance,c=e.key,d=e.i,m=e.edit;Object.keys(s).forEach(function(e){if(e===l){var p=u+(t.length-d),_=n(a[c]||[null,1/0],2),g=_[1];p<=r&&p<g&&(a[c]=[s[e],p])}else f(t,e,r-u,d,m,i).forEach(function(t){var n=t.distance,r=t.i,a=t.edit;o.push({node:s[e],distance:u+n,key:c+e,i:r,edit:a})})})};o.length>0;)s();return a},f=function(e,t,n,r,o,a){a.push({distance:0,ia:r,ib:0,edit:o});for(var i=[];a.length>0;){var l=a.pop(),s=l.distance,u=l.ia,_=l.ib,f=l.edit;if(_===t.length){i.push({distance:s,i:u,edit:f});continue}if(e[u]===t[_])a.push({distance:s,ia:u+1,ib:_+1,edit:c});else{if(s>=n)continue;f!==m&&a.push({distance:s+1,ia:u,ib:_+1,edit:p}),u<e.length&&(f!==p&&a.push({distance:s+1,ia:u+1,ib:_,edit:m}),f!==p&&f!==m&&a.push({distance:s+1,ia:u+1,ib:_+1,edit:d}))}}return i},g=(function(){function e(e,t){e===void 0&&(e={}),t===void 0&&(t=""),this._tree=e,this._prefix=t}return e.prototype.atPrefix=function(t){var r;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var o=n(h(this._tree,t.slice(this._prefix.length)),2),a=o[0],i=o[1];if(a===void 0){var s=n(L(i),2),u=s[0],c=s[1],d=Object.keys(u).find(function(e){return e!==l&&e.startsWith(c)});if(d!==void 0)return new e((r={},r[d.slice(c.length)]=u[d],r),t)}return new e(a||{},t)},e.prototype.clear=function(){delete this._size,this._tree={}},e.prototype.delete=function(e){return delete this._size,v(this._tree,e)},e.prototype.entries=function(){return new s(this,o)},e.prototype.forEach=function(e){var r,o;try{for(var a=t(this),i=a.next();!i.done;i=a.next()){var l=n(i.value,2),s=l[0],u=l[1];e(s,u,this)}}catch(e){r={error:e}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},e.prototype.fuzzyGet=function(e,t){return _(this._tree,e,t)},e.prototype.get=function(e){var t=y(this._tree,e);return t!==void 0?t[l]:void 0},e.prototype.has=function(e){var t=y(this._tree,e);return t!==void 0&&t.hasOwnProperty(l)},e.prototype.keys=function(){return new s(this,a)},e.prototype.set=function(e,t){if(typeof e!="string")throw new Error("key must be a string");delete this._size;var n=C(this._tree,e);return n[l]=t,this},Object.defineProperty(e.prototype,"size",{get:function(){var e=this;return this._size?this._size:(this._size=0,this.forEach(function(){e._size+=1}),this._size)},enumerable:!1,configurable:!0}),e.prototype.update=function(e,t){if(typeof e!="string")throw new Error("key must be a string");delete this._size;var n=C(this._tree,e);return n[l]=t(n[l]),this},e.prototype.values=function(){return new s(this,i)},e.prototype[Symbol.iterator]=function(){return this.entries()},e.from=function(r){var o,a,i=new e;try{for(var l=t(r),s=l.next();!s.done;s=l.next()){var u=n(s.value,2),c=u[0],d=u[1];i.set(c,d)}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return i},e.fromObject=function(t){return e.from(Object.entries(t))},e})(),h=function(e,t,n){if(n===void 0&&(n=[]),t.length===0||e==null)return[e,n];var r=Object.keys(e).find(function(e){return e!==l&&t.startsWith(e)});return r===void 0?(n.push([e,t]),h(void 0,"",n)):(n.push([e,r]),h(e[r],t.slice(r.length),n))},y=function(e,t){if(t.length===0||e==null)return e;var n=Object.keys(e).find(function(e){return e!==l&&t.startsWith(e)});if(n!==void 0)return y(e[n],t.slice(n.length))},C=function(e,t){var n;if(t.length===0||e==null)return e;var r=Object.keys(e).find(function(e){return e!==l&&t.startsWith(e)});if(r===void 0){var o=Object.keys(e).find(function(e){return e!==l&&e.startsWith(t[0])});if(o===void 0)e[t]={};else{var a=b(t,o);return e[a]=(n={},n[o.slice(a.length)]=e[o],n),delete e[o],C(e[a],t.slice(a.length))}return e[t]}return C(e[r],t.slice(r.length))},b=function(e,t,n,r,o){return n===void 0&&(n=0),r===void 0&&(r=Math.min(e.length,t.length)),o===void 0&&(o=""),n>=r||e[n]!==t[n]?o:b(e,t,n+1,r,o+e[n])},v=function(e,t){var r=n(h(e,t),2),o=r[0],a=r[1];if(o!==void 0){delete o[l];var i=Object.keys(o);i.length===0&&S(a),i.length===1&&R(a,i[0],o[i[0]])}},S=function(e){if(e.length!==0){var t=n(L(e),2),r=t[0],o=t[1];delete r[o],Object.keys(r).length===0&&S(e.slice(0,-1))}},R=function(e,t,r){if(e.length!==0){var o=n(L(e),2),a=o[0],i=o[1];a[i+t]=r,delete a[i]}},L=function(e){return e[e.length-1]},E,k="or",I="and",T=(function(){function t(t){if((t==null?void 0:t.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=e(e(e({},w),t),{searchOptions:e(e({},A),t.searchOptions||{})}),this._index=new g,this._documentCount=0,this._documentIds={},this._fieldIds={},this._fieldLength={},this._averageFieldLength={},this._nextId=0,this._storedFields={},this.addFields(this._options.fields)}return t.prototype.add=function(e){var t=this,n=this._options,r=n.extractField,o=n.tokenize,a=n.processTerm,i=n.fields,l=n.idField,s=r(e,l);if(s==null)throw new Error('MiniSearch: document does not have ID field "'+l+'"');var u=this.addDocumentId(s);this.saveStoredFields(u,e),i.forEach(function(n){var i=r(e,n);if(i!=null){var l=o(i.toString(),n);t.addFieldLength(u,t._fieldIds[n],t.documentCount-1,l.length),l.forEach(function(e){var r=a(e,n);r&&t.addTerm(t._fieldIds[n],u,r)})}})},t.prototype.addAll=function(e){var t=this;e.forEach(function(e){return t.add(e)})},t.prototype.addAllAsync=function(e,t){var n=this;t===void 0&&(t={});var r=t.chunkSize,o=r===void 0?10:r,a={chunk:[],promise:Promise.resolve()},i=e.reduce(function(e,t,r){var a=e.chunk,i=e.promise;return a.push(t),(r+1)%o===0?{chunk:[],promise:i.then(function(){return new Promise(function(e){return setTimeout(e,0)})}).then(function(){return n.addAll(a)})}:{chunk:a,promise:i}},a),l=i.chunk,s=i.promise;return s.then(function(){return n.addAll(l)})},t.prototype.remove=function(e){var t=this,r=this._options,o=r.tokenize,a=r.processTerm,i=r.extractField,l=r.fields,s=r.idField,u=i(e,s);if(u==null)throw new Error('MiniSearch: document does not have ID field "'+s+'"');var c=n(Object.entries(this._documentIds).find(function(e){var t=n(e,2);t[0];var r=t[1];return u===r})||[],1),d=c[0];if(d==null)throw new Error("MiniSearch: cannot remove document with ID "+u+": it is not in the index");l.forEach(function(n){var r=i(e,n);if(r!=null){var l=o(r.toString(),n);l.forEach(function(e){var r=a(e,n);r&&t.removeTerm(t._fieldIds[n],d,r)})}}),delete this._storedFields[d],delete this._documentIds[d],this._documentCount-=1},t.prototype.removeAll=function(e){var t=this;if(e)e.forEach(function(e){return t.remove(e)});else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new g,this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0}},t.prototype.search=function(t,r){var o=this;r===void 0&&(r={});var a=this._options,i=a.tokenize,l=a.processTerm,s=a.searchOptions,u=e(e({tokenize:i,processTerm:l},s),r),c=u.tokenize,d=u.processTerm,m=c(t).map(function(e){return d(e)}).filter(function(e){return!!e}),p=m.map(N(u)),_=p.map(function(e){return o.executeQuery(e,u)}),f=this.combineResults(_,u.combineWith);return Object.entries(f).reduce(function(e,t){var r=n(t,2),a=r[0],i=r[1],l=i.score,s=i.match,c=i.terms,d={id:o._documentIds[a],terms:M(c),score:l,match:s};return Object.assign(d,o._storedFields[a]),(u.filter==null||u.filter(d))&&e.push(d),e},[]).sort(function(e,t){var n=e.score,r=t.score;return n<r?1:-1})},t.prototype.autoSuggest=function(t,r){r===void 0&&(r={}),r=e(e({},F),r);var o=this.search(t,r).reduce(function(e,t){var n=t.score,r=t.terms,o=r.join(" ");return e[o]==null?e[o]={score:n,terms:r,count:1}:(e[o].score+=n,e[o].count+=1),e},{});return Object.entries(o).map(function(e){var t=n(e,2),r=t[0],o=t[1],a=o.score,i=o.terms,l=o.count;return{suggestion:r,terms:i,score:a/l}}).sort(function(e,t){var n=e.score,r=t.score;return n<r?1:-1})},Object.defineProperty(t.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),t.loadJSON=function(e,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return t.loadJS(JSON.parse(e),n)},t.getDefault=function(e){if(w.hasOwnProperty(e))return D(w,e);throw new Error('MiniSearch: unknown option "'+e+'"')},t.loadJS=function(e,n){var r=e.index,o=e.documentCount,a=e.nextId,i=e.documentIds,l=e.fieldIds,s=e.fieldLength,u=e.averageFieldLength,c=e.storedFields,d=new t(n);return d._index=new g(r._tree,r._prefix),d._documentCount=o,d._nextId=a,d._documentIds=i,d._fieldIds=l,d._fieldLength=s,d._averageFieldLength=u,d._fieldIds=l,d._storedFields=c||{},d},t.prototype.executeQuery=function(t,r){var o=this,a=e(e({},this._options.searchOptions),r),i=(a.fields||this._options.fields).reduce(function(t,n){var r;return e(e({},t),(r={},r[n]=D(t,n)||1,r))},a.boost||{}),l=a.boostDocument,s=a.weights,u=e(e({},A.weights),s),c=u.fuzzy,d=u.prefix,m=this.termResults(t.term,i,l,this._index.get(t.term));if(!t.fuzzy&&!t.prefix)return m;var p=[m];if(t.prefix&&this._index.atPrefix(t.term).forEach(function(e,n){var r=.3*(e.length-t.term.length)/e.length;p.push(o.termResults(e,i,l,n,d,r))}),t.fuzzy){var _=t.fuzzy===!0?.2:t.fuzzy,f=_<1?Math.round(t.term.length*_):_;Object.entries(this._index.fuzzyGet(t.term,f)).forEach(function(e){var t=n(e,2),r=t[0],a=n(t[1],2),s=a[0],u=a[1],d=u/r.length;p.push(o.termResults(r,i,l,s,c,d))})}return p.reduce(x[k],{})},t.prototype.combineResults=function(e,t){if(t===void 0&&(t=k),e.length===0)return{};var n=t.toLowerCase();return e.reduce(x[n],null)||{}},t.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}},t.prototype.termResults=function(e,t,r,o,a,i){var l=this;return i===void 0&&(i=0),o==null?{}:Object.entries(t).reduce(function(t,a){var s=n(a,2),u=s[0],c=s[1],d=l._fieldIds[u],m=o[d]||{ds:{}},p=m.df,_=m.ds;return Object.entries(_).forEach(function(o){var a=n(o,2),s=a[0],m=a[1],_=r?r(l._documentIds[s],e):1;if(_){var f=l._fieldLength[s][d]/l._averageFieldLength[d];t[s]=t[s]||{score:0,match:{},terms:[]},t[s].terms.push(e),t[s].match[e]=D(t[s].match,e)||[],t[s].score+=_*P(m,p,l._documentCount,f,c,i),t[s].match[e].push(u)}}),t},{})},t.prototype.addTerm=function(t,n,r){this._index.update(r,function(r){var o;r=r||{};var a=r[t]||{df:0,ds:{}};return a.ds[n]==null&&(a.df+=1),a.ds[n]=(a.ds[n]||0)+1,e(e({},r),(o={},o[t]=a,o))})},t.prototype.removeTerm=function(t,n,r){var o=this;if(!this._index.has(r)){this.warnDocumentChanged(n,t,r);return}this._index.update(r,function(a){var i,l=a[t];if(l==null||l.ds[n]==null)return o.warnDocumentChanged(n,t,r),a;if(l.ds[n]<=1){if(l.df<=1)return delete a[t],a;l.df-=1}return l.ds[n]<=1?(delete l.ds[n],a):(l.ds[n]-=1,e(e({},a),(i={},i[t]=l,i)))}),Object.keys(this._index.get(r)).length===0&&this._index.delete(r)},t.prototype.warnDocumentChanged=function(e,t,r){if(!(console==null||console.warn==null)){var o=Object.entries(this._fieldIds).find(function(e){var r=n(e,2);r[0];var o=r[1];return o===t})[0];""+this._documentIds[e]+r+o}},t.prototype.addDocumentId=function(e){var t=this._nextId.toString(36);return this._documentIds[t]=e,this._documentCount+=1,this._nextId+=1,t},t.prototype.addFields=function(e){var t=this;e.forEach(function(e,n){t._fieldIds[e]=n})},t.prototype.addFieldLength=function(e,t,n,r){this._averageFieldLength[t]=this._averageFieldLength[t]||0;var o=this._averageFieldLength[t]*n+r;this._fieldLength[e]=this._fieldLength[e]||{},this._fieldLength[e][t]=r,this._averageFieldLength[t]=o/(n+1)},t.prototype.saveStoredFields=function(e,t){var n=this,r=this._options,o=r.storeFields,a=r.extractField;o==null||o.length===0||(this._storedFields[e]=this._storedFields[e]||{},o.forEach(function(r){var o=a(t,r);o!==void 0&&(n._storedFields[e][r]=o)}))},t})(),D=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},x=(E={},E[k]=function(e,t){return Object.entries(t).reduce(function(e,t){var o,a=n(t,2),i=a[0],l=a[1],s=l.score,u=l.match,c=l.terms;return e[i]==null?e[i]={score:s,match:u,terms:c}:(e[i].score+=s,e[i].score*=1.5,(o=e[i].terms).push.apply(o,r(c)),Object.assign(e[i].match,u)),e},e||{})},E[I]=function(t,o){return t==null?o:Object.entries(o).reduce(function(o,a){var i=n(a,2),l=i[0],s=i[1],u=s.score,c=s.match,d=s.terms;return t[l]===void 0||(o[l]=o[l]||{},o[l].score=t[l].score+u,o[l].match=e(e({},t[l].match),c),o[l].terms=r(t[l].terms,d)),o},{})},E),$=function(e,t,n){return e*Math.log(n/t)},P=function(e,t,n,r,o,a){var i=o/(1+.333*o*a);return i*$(e,t,n)/r},N=function(e){return function(t,n,r){var o=typeof e.fuzzy=="function"?e.fuzzy(t,n,r):e.fuzzy||!1,a=typeof e.prefix=="function"?e.prefix(t,n,r):e.prefix===!0;return{term:t,fuzzy:o,prefix:a}}},M=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})},w={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e,t){return e.split(O)},processTerm:function(e,t){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},A={combineWith:k,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},F={prefix:function(e,t,n){return t===n.length-1}},O=new RegExp("[\\n\\r -#%-*,-/:;?@[-\\]_{}\\u00A0\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u1680\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2000-\\u200A\\u2010-\\u2029\\u202F-\\u2043\\u2045-\\u2051\\u2053-\\u205F\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u3000-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]+","u");return T}))}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("minisearch",["minisearch-3.0.2"],(function(t,n,r,o,a,i){a.exports=n("minisearch-3.0.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("object-assign-4.1.1",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(e){return!1}}l.exports=o()?Object.assign:function(o,a){for(var i,l=r(o),s,u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var c in i)t.call(i,c)&&(l[c]=i[c]);if(e){s=e(i);for(var d=0;d<s.length;d++)n.call(i,s[d])&&(l[s[d]]=i[s[d]])}}return l}}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);/*FB_PKG_DELIM*/
__d("fbs",["fbt","invariant","FbtHooks","FbtPureStringResult"],(function(t,n,r,o,a,i,l,s){var e,u={},c=babelHelpers.extends({},l,{_param:function(t,r,o){return typeof r=="string"||r instanceof n("FbtPureStringResult")||s(0,11709,r,typeof r),l._param(t,r,o)},_plural:function(t,r,o){return o==null||typeof o=="string"||o instanceof n("FbtPureStringResult")||s(0,47119,o,typeof o),l._plural(t,r,o)},_wrapContent:function(r,o,a,i){var t=typeof r=="string"?[r]:r,l=(e||(e=n("FbtHooks"))).getErrorListener({hash:a,translation:o});return e.getFbsResult({contents:t,errorListener:l,extraOptions:i,patternHash:a,patternString:o})},cachedResults:u}),d=c;a.exports=d}),null);
__d("formatNumber",["fbs","intlNumUtils"],(function(t,n,r,o,a,i){"use strict";function e(e,t){return n("intlNumUtils").formatNumber(e,t)}function l(e,t){return n("fbs")._(/*BTDS*/"_j{\"*\":\"{number}+\"}",[n("fbs")._param("number",n("intlNumUtils").formatNumberWithThousandDelimiters(e,t),[0,e])])}function s(e,t){return n("fbs")._(/*BTDS*/"_j{\"*\":\"\\u003C{number}\"}",[n("fbs")._param("number",n("intlNumUtils").formatNumberWithThousandDelimiters(e,t),[0,e])])}function u(e,t,r){return e>t?l(t,r):n("intlNumUtils").formatNumberWithThousandDelimiters(e,r)}function c(e,t,r){return e<t?s(t,r):n("intlNumUtils").formatNumberWithThousandDelimiters(e,r)}e.withThousandDelimiters=n("intlNumUtils").formatNumberWithThousandDelimiters,e.withMaxLimit=u,e.withMinLimit=c,a.exports=e}),130);
__d("BaseNumber.react",["formatNumber","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.decimals,a=e.number,i;return t[0]!==n||t[1]!==a?(i=r("formatNumber").withThousandDelimiters(a,n),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}var c=s.memo(u);l.default=c}),98);
__d("useBaseProgressRingSvg.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useMemo,d=u.useRef,m=2;function p(e){var t=o("react-compiler-runtime").c(48),n=e.backgroundColor,r=e.foregroundColor,a=e.isHidden,i=e.size,l=d(null),u=d(null),c=d(null),p=(i-m)*Math.PI,_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy"},t[0]=_):_=t[0];var f="0 0 "+i+" "+i,g=i/2,h=i/2,y=(i-m)/2,C;t[1]!==n||t[2]!==g||t[3]!==h||t[4]!==y?(C=s.jsx("circle",{cx:g,cy:h,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:y,stroke:n,strokeLinecap:"round",strokeWidth:m}),t[1]=n,t[2]=g,t[3]=h,t[4]=y,t[5]=C):C=t[5];var b;t[6]!==i||t[7]!==f||t[8]!==C?(b=s.jsx("svg",babelHelpers.extends({},_,{height:i,ref:l,viewBox:f,width:i,children:C})),t[6]=i,t[7]=f,t[8]=C,t[9]=b):b=t[9];var v,S;t[10]===Symbol.for("react.memo_cache_sentinel")?(v={className:"x1ey2m1c xtijo5x xbudbmw x6ikm8r x10wlt62 x10l6tqk x13vifvy"},S={className:"x1ey2m1c x9f619 xtijo5x xyj9dbu x10l6tqk x13vifvy x1jpgh95"},t[10]=v,t[11]=S):(v=t[10],S=t[11]);var R="0 0 "+i+" "+i,L=i/2,E=i/2,k=(i-m)/2,I=p/2,T=3*p/4,D=a?"hidden":void 0,x;t[12]!==D?(x={visibility:D},t[12]=D,t[13]=x):x=t[13];var $;t[14]!==r||t[15]!==L||t[16]!==E||t[17]!==k||t[18]!==I||t[19]!==T||t[20]!==x?($=s.jsx("circle",{cx:L,cy:E,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:k,stroke:r,strokeDasharray:I,strokeDashoffset:T,strokeWidth:m,style:x}),t[14]=r,t[15]=L,t[16]=E,t[17]=k,t[18]=I,t[19]=T,t[20]=x,t[21]=$):$=t[21];var P;t[22]!==i||t[23]!==R||t[24]!==$?(P=s.jsx("div",babelHelpers.extends({},v,{children:s.jsx("svg",babelHelpers.extends({},S,{height:i,ref:u,viewBox:R,width:i,children:$}))})),t[22]=i,t[23]=R,t[24]=$,t[25]=P):P=t[25];var N,M;t[26]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x1ey2m1c x1dkd41z x1o0tod x6ikm8r x10wlt62 x10l6tqk x13vifvy"},M={className:"x1ey2m1c x9f619 x1h4o2ik x1o0tod x10l6tqk x13vifvy x1jpgh95"},t[26]=N,t[27]=M):(N=t[26],M=t[27]);var w="0 0 "+i+" "+i,A=i/2,F=i/2,O=(i-m)/2,B=p/2,W=p/4,q=a?"hidden":void 0,U;t[28]!==q?(U={visibility:q},t[28]=q,t[29]=U):U=t[29];var V;t[30]!==r||t[31]!==A||t[32]!==F||t[33]!==O||t[34]!==B||t[35]!==W||t[36]!==U?(V=s.jsx("circle",{cx:A,cy:F,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:O,stroke:r,strokeDasharray:B,strokeDashoffset:W,strokeWidth:m,style:U}),t[30]=r,t[31]=A,t[32]=F,t[33]=O,t[34]=B,t[35]=W,t[36]=U,t[37]=V):V=t[37];var H;t[38]!==i||t[39]!==w||t[40]!==V?(H=s.jsx("div",babelHelpers.extends({},N,{children:s.jsx("svg",babelHelpers.extends({},M,{height:i,ref:c,viewBox:w,width:i,children:V}))})),t[38]=i,t[39]=w,t[40]=V,t[41]=H):H=t[41];var G;t[42]!==P||t[43]!==H||t[44]!==b?(G=s.jsxs(s.Fragment,{children:[b,P,H]}),t[42]=P,t[43]=H,t[44]=b,t[45]=G):G=t[45];var z=G,j;return t[46]!==z?(j={backgroundRef:l,leftCircleRef:c,progressRing:z,rightCircleRef:u},t[46]=z,t[47]=j):j=t[47],j}l.default=p}),98);
__d("BaseProgressRing.react",["BaseLoadingStateElement.react","FBLogger","FDSProgressRingUtils","performanceNavigationStart","react","useBaseProgressRingSvg.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useLayoutEffect,p=u.useRef,_=u.useState,f={rootDiv:{position:"x1n2onr6",$$css:!0},rootSizing:function(t,n){return[{height:n!=null?"x16ye13r":n,width:t!=null?"x5lhr3w":t,$$css:!0},{"--x-height":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}},g=o("FDSProgressRingUtils").getCubicBezierPercentageFunc(.45,0,.25,.85);function h(e){var t=e["aria-label"],n=e["aria-labelledby"],o=e.backgroundColor,a=e.beginningPercentage,i=e.duration,l=e.explicitStartTime,u=e.foregroundColor,h=e.onComplete,b=e.pause,v=e.percentage,S=e.size,R=e.type;R!=="default"&&v!=null&&r("FBLogger")("comet_ui").mustfix("percentage should only be applied to default type");var L=p(null),E=p(null),k=_(!0),I=k[0],T=k[1],D=y(R,v,a),x=D.completedPercentage,$=D.finalPercentage,P=D.startPercentage,N=p(P),M=p($),w=p(x),A=r("useBaseProgressRingSvg.react")({backgroundColor:o,foregroundColor:u,isHidden:I,size:S}),F=A.backgroundRef,O=A.leftCircleRef,B=A.progressRing,W=A.rightCircleRef,q=c(function(e){var t=W.current,n=O.current;if(!(t==null||n==null)&&!(!(t instanceof SVGSVGElement)||!(n instanceof SVGSVGElement))&&!((R==="default"||R==="count-down")&&b===!0)){if(E.current==null&&(E.current=l!=null?l-r("performanceNavigationStart")():e),R==="estimated")if(w.current>75)w.current+=.3*Math.pow((100-w.current)/50,2);else{var o=(e-E.current)/i/1e3,a=g(o);w.current=a*75}else if(R==="default"&&w.current<M.current){var s=(e-E.current)/1e3/i*100;w.current=Math.min(s,100)}else if(R==="count-down"&&w.current>M.current){var u=(e-E.current)/1e3/i*100;w.current=N.current-u,w.current=Math.max(w.current,0)}var c=Math.max(0,Math.min(100,w.current))/100*360;t.style.transform="rotate("+Math.min(c,180)+"deg)",n.style.transform="rotate("+Math.max(c-180,0)+"deg)",C(R,w.current,v)?(window.cancelAnimationFrame(L.current),t.style.opacity="0",n.style.opacity="0",E.current=null,L.current=null,F.current instanceof SVGSVGElement&&(F.current.style.opacity="0"),h&&h()):L.current=window.requestAnimationFrame(q)}},[F,i,l,O,h,b,v,W,R]);return m(function(){I&&T(!I)},[I]),d(function(){if(window.requestAnimationFrame!=null)return L.current=window.requestAnimationFrame(q),function(){L.current!=null&&(E.current=null,window.cancelAnimationFrame(L.current),L.current=null)}},[S,q]),s.jsx(r("BaseLoadingStateElement.react"),{"aria-label":t,"aria-labelledby":n,xstyle:[f.rootDiv,f.rootSizing(S,S)],children:B})}h.displayName=h.name+" [from "+i.id+"]";function y(e,t,n){switch(e){case"default":return{completedPercentage:n!=null?n:0,finalPercentage:t!=null?t:100,startPercentage:n!=null?n:0};case"count-down":return{completedPercentage:100,finalPercentage:0,startPercentage:100};case"estimated":return{completedPercentage:0,finalPercentage:75,startPercentage:0};default:return{completedPercentage:0,finalPercentage:0,startPercentage:0}}}function C(e,t,n){return e==="count-down"?t<=0||t>100:t>=(n!=null?n:100)}l.default=h}),98);
__d("CometUFICommentListComposer_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentListComposer_feedback",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_provider",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"current_actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIComposer_actor"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ConstituentBadgeBannerRenderer",kind:"LinkedField",name:"constituent_badge_banner_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentListComposer_feedback_constituentBadgeBanner",fragmentName:"CometUFICommentingAsConstituentHeader_constituentBadgeBannerRenderer",fragmentPropName:"constituentBadgeBannerRenderer",kind:"ModuleImport"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIComposer_feedback"},{args:null,kind:"FragmentSpread",name:"useCometUFIComposerPluginProps_feedback"},{args:null,kind:"FragmentSpread",name:"useCometUFIComposerPlaceholder_feedback"},{args:null,kind:"FragmentSpread",name:"useCometHandleCommitCommentCreateExperimental_feedback"},{args:null,kind:"FragmentSpread",name:"useCometUFIDisabledNotice_feedback"}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("CometUFICommentListComposer.react",["CometColumn.react","CometColumnItem.react","CometRelay","CometUFICommentComposerUtils","CometUFICommentListComposer_feedback.graphql","CometUFIComposer.react","CometUFIComposerDecoratorContext","CometUFIModernCommentListContextProvider","react","react-compiler-runtime","react-strict-dom","useCometHandleCommitCommentCreateExperimental.react","useCometUFIComposerPlaceholder","useCometUFIComposerPluginProps","useCometUFIDisabledNotice"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo,p=c.useRef,_={replyComposer:{marginInlineEnd:"x1ys307a",marginInlineStart:"x13fj5qh",$$css:!0},rootDepth0:{flexGrow:"x1iyjqo2",$$css:!0},rootDepth1NonThreaded:{paddingInlineStart:"x1cf5odj",$$css:!0}};function f(t){var a,i=o("react-compiler-runtime").c(43),l=t.composerCallbacks,s=t.composerRef,c=t.depth,d=t.feedback,m=t.handleComposerRef,f=t.isLast,g=t.isParentLast,h=t.onActorSelected,y=o("CometRelay").useFragment(e!==void 0?e:e=n("CometUFICommentListComposer_feedback.graphql"),d),C=o("CometUFIModernCommentListContextProvider").useCometUFIModernCommentListContext(),b=C.canViewerComment,v=C.feedbackSource,S=C.feedLocation,R=C.focusCommentID,L=C.shouldDisplayInReverse,E=C.threadingEnabled,k=y==null||(a=y.actor_provider)==null?void 0:a.current_actor,I=r("useCometUFIComposerPluginProps")(y),T;i[0]!==c||i[1]!==y?(T={depth:c,feedback:y},i[0]=c,i[1]=y,i[2]=T):T=i[2];var D=r("useCometUFIComposerPlaceholder")(T),x;i[3]!==c||i[4]!==y?(x={depth:c,feedbackRef:y},i[3]=c,i[4]=y,i[5]=x):x=i[5];var $=r("useCometHandleCommitCommentCreateExperimental.react")(x),P=p(!1),N;i[6]!==m?(N=function(t){P.current&&t!=null&&(o("CometUFICommentComposerUtils").focusAndScrollToComposer(t),P.current=!1),m&&m(t)},i[6]=m,i[7]=N):N=i[7];var M=N,w;i[8]!==c||i[9]!==f||i[10]!==g||i[11]!==E?(w={depth:c,isLast:f,isParentLast:g,threaded:E},i[8]=c,i[9]=f,i[10]=g,i[11]=E,i[12]=w):w=i[12];var A=w,F=r("useCometUFIDisabledNotice")(y,L),O=F.areCommentsDisabled,B=F.commentsDisabledComponent;if(O)return B;if(k==null||!b)return null;var W=c===0&&_.rootDepth0,q=c===1&&!E&&_.rootDepth1NonThreaded,U;i[13]!==W||i[14]!==q?(U=[W,q],i[13]=W,i[14]=q,i[15]=U):U=i[15];var V;i[16]!==y.constituent_badge_banner_renderer?(V=u.jsx(o("CometRelay").MatchContainer,{match:y.constituent_badge_banner_renderer}),i[16]=y.constituent_badge_banner_renderer,i[17]=V):V=i[17];var H=l==null?void 0:l.composerOnBlur,G;i[18]!==l?(G=function(){l==null||l.composerOnFocus==null||l.composerOnFocus()},i[18]=l,i[19]=G):G=i[19];var z=c>0&&_.replyComposer,j;i[20]!==k||i[21]!==$||i[22]!==D||i[23]!==s||i[24]!==c||i[25]!==S||i[26]!==y||i[27]!==v||i[28]!==R||i[29]!==M||i[30]!==I||i[31]!==h||i[32]!==G||i[33]!==z||i[34]!==H?(j=u.jsx(r("CometUFIComposer.react"),{actor:k,commentAction:"ADD",commentID:null,componentRef:s,depth:c,feedLocation:S,feedback:y,feedbackSource:v,focusCommentID:R,initialLexicalPlugins:I,onActorSelected:h,onBlur:H,onCommitExperimental:$,onFocus:G,placeholder:D,ref:M,useDefaultActor:!1,xstyle:z}),i[20]=k,i[21]=$,i[22]=D,i[23]=s,i[24]=c,i[25]=S,i[26]=y,i[27]=v,i[28]=R,i[29]=M,i[30]=I,i[31]=h,i[32]=G,i[33]=z,i[34]=H,i[35]=j):j=i[35];var K;i[36]!==A||i[37]!==j||i[38]!==V?(K=u.jsx(r("CometColumn.react"),{paddingHorizontal:0,paddingTop:4,paddingVertical:8,children:u.jsx(r("CometColumnItem.react"),{children:u.jsxs(r("CometUFIComposerDecoratorContext").Provider,{value:A,children:[V,j]})})}),i[36]=A,i[37]=j,i[38]=V,i[39]=K):K=i[39];var Q;return i[40]!==K||i[41]!==U?(Q=u.jsx(o("react-strict-dom").html.div,{style:U,children:K}),i[40]=K,i[41]=U,i[42]=Q):Q=i[42],Q}l.CometUFICommentListComposer=f}),98);
__d("NullStateFiles",["cr:27629"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:27629")}),98);
__d("CometUFICommentListNoCommentBanner.react",["fbt","FDSNullState.react","NullStateFiles","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("FDSNullState.react"),{body:s._(/*BTDS*/"\u10d8\u10e7\u10d0\u10d5\u10d8\u10d7 \u10de\u10d8\u10e0\u10d5\u10d4\u10da\u10d8, \u10d5\u10d8\u10dc\u10ea \u10d9\u10dd\u10db\u10d4\u10dc\u10e2\u10d0\u10e0\u10e1 \u10d3\u10d0\u10e2\u10dd\u10d5\u10d4\u10d1\u10e1."),headline:s._(/*BTDS*/"\u10d9\u10dd\u10db\u10d4\u10dc\u10e2\u10d0\u10e0\u10d4\u10d1\u10d8 \u10ef\u10d4\u10e0 \u10d0\u10e0 \u10d0\u10e0\u10d8\u10e1"),icon:r("NullStateFiles")}),e[0]=t):t=e[0],t}l.default=c}),226);
__d("FDSEyeCrossFilled16Icon",["cr:14006"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14006")}),98);
__d("CometUFIFullCommentsPager.react",["CometUFICommentsPagerBase.react","CometUFIModernCommentListContextProvider","CometUFIPagerLabelType","CometUFIQPLInstanceKeyContext","CometUFIThreadedComponentDecorator.react","FDSEyeCrossFilled16Icon","UFICommonInteractionEvents","UFICommonInteractionLogger","getCometUFICommentsPagerLabel","getCometUFIPagerLabelType","getCometUFIRepliesPagerLabel","react","react-strict-dom","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useContext,m=u.useRef,p=r("requireDeferred")("CometUFIFunnelLogger").__setRef("CometUFIFullCommentsPager.react"),_={rootDepth0:{flexGrow:"x1iyjqo2",$$css:!0},rootDepth1NonThreaded:{paddingInlineStart:"x1cf5odj",$$css:!0}};function f(e){var t=e.depth,n=e.hasOnlyBTFComments,a=n===void 0?!1:n,i=e.isBottomPager,l=e.isCommunityQA,u=l===void 0?!1:l,f=e.isLast,g=e.isLoading,h=e.isParentLast,y=e.onBottomPagerClickComplete,C=e.onHoverIn,b=e.onHoverOut,v=e.onPress,S=e.overrideLabelType,R=e.pageSize,L=R===void 0?0:R,E=e.shouldShowReplyCount,k=E===void 0?!0:E,I=e.totalCommentsCount,T=e.visibleCommentsCount,D=o("CometUFIModernCommentListContextProvider").useCometUFIModernCommentListContext(),x=D.feedLocation,$=D.threadingEnabled,P=m(I),N=I-T,M=Math.max(I-T,0)<L,w=d(r("CometUFIQPLInstanceKeyContext")),A=r("getCometUFIPagerLabelType")({depth:t,hasLastPageLeftInDirection:M,hasOnlyBTFComments:a,isBottomPager:i,pagerCount:N,pageSize:L,shouldShowReplyCount:k,totalCommentsCount:I,visibleCommentsCount:T}),F=S!=null?S:A,O=null;switch(F){case r("CometUFIPagerLabelType").VIEW_ALL:O=t===0?null:I;break;case r("CometUFIPagerLabelType").VIEW_MORE_EXPLICIT:case r("CometUFIPagerLabelType").VIEW_PREVIOUS_EXPLICIT:O=N;break;case r("CometUFIPagerLabelType").VIEW_ONE:case r("CometUFIPagerLabelType").VIEW_ONE_MORE:O=1;break;default:break}var B=c(function(){var e=o("UFICommonInteractionLogger").startInteraction(t===0?r("UFICommonInteractionEvents").COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:r("UFICommonInteractionEvents").COMET_UFI_REPLY_COMMENTS_PAGINATION);p.onReady(function(e){var n=e.getPagerEventFromDepth(t);n&&e.addPoint(w,n)});var n=function(){o("UFICommonInteractionLogger").endInteraction(e),i&&y!=null&&y()};v(n,O)},[t,O,i,y,v,w]),W=t>0?r("getCometUFIRepliesPagerLabel")({hasLastPageLeftInDirection:M,labelType:F,numCommentsToShow:N,numCommentsTotal:I}):r("getCometUFICommentsPagerLabel")({hasLastPageLeftInDirection:M,isCommunityQA:u,labelType:F,numCommentsToShow:N}),q=s.jsx(r("CometUFICommentsPagerBase.react"),{depth:t,feedLocation:x,freshIndicatorVisible:I>P.current,icon:a||F===r("CometUFIPagerLabelType").VIEW_HIDDEN?r("FDSEyeCrossFilled16Icon"):void 0,isLoading:g,onHoverIn:C,onHoverOut:b,onPress:B,children:W});return s.jsx(o("react-strict-dom").html.div,{style:[t===0&&_.rootDepth0,t===1&&!$&&_.rootDepth1NonThreaded],children:$&&t>0?s.jsx(r("CometUFIThreadedComponentDecorator.react"),{depth:t,hasChildren:!1,isLast:f,isParentLast:h,type:"pager",children:q}):q})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("FDSProgressRing.react",["BaseProgressRing.react","FDSProgressRingUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(15),n=e.beginningPercentage,a=e.color,i=e.duration,l=e.explicitStartTime,u=e.onComplete,c=e.pause,d=e.percentage,m=e.size,p=e.type,_=e["aria-label"],f=e["aria-labelledby"],g;t[0]!==a?(g=o("FDSProgressRingUtils").getRingColor(a),t[0]=a,t[1]=g):g=t[1];var h=g,y=h.backgroundColor,C=h.foregroundColor,b;return t[2]!==_||t[3]!==f||t[4]!==y||t[5]!==n||t[6]!==i||t[7]!==l||t[8]!==C||t[9]!==u||t[10]!==c||t[11]!==d||t[12]!==m||t[13]!==p?(b=s.jsx(r("BaseProgressRing.react"),{"aria-label":_,"aria-labelledby":f,backgroundColor:y,beginningPercentage:n,duration:i,explicitStartTime:l,foregroundColor:C,onComplete:u,pause:c,percentage:d,size:m,type:p}),t[2]=_,t[3]=f,t[4]=y,t[5]=n,t[6]=i,t[7]=l,t[8]=C,t[9]=u,t[10]=c,t[11]=d,t[12]=m,t[13]=p,t[14]=b):b=t[14],b}l.default=u}),98);
__d("useQPLInstanceKey",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useState,u=0;function c(){return s(function(){return++u})[0]}l.default=c}),98);