;/*FB_PKG_DELIM*/

__d("CometSpriteBase.react",["BaseImage.react","CometPressable.react","react","react-compiler-runtime","useMergeRefs","xplatToDOMRef"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={innerSprite:{animationDelay:"x1uzojwf",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationPlayState:"xoj058f",animationTimingFunction:"x1nxgg22",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(20),n=e.accessibilityCaption,a=e.animationStyle,i=e.containerRef,l=e.cursorEnabled,c=e.imgHeight,d=e.imgRef,m=e.imgWidth,p=e.linkProps,_=e.onHoverIn,f=e.onPress,g=e.overlayEnabled,h=e.pressableRef,y=e.showFocusOverlay,C=e.showHoverOverlay,b=e.src,v=e.style,S=e.xstyle,R=r("useMergeRefs")(h,i),L=!l,E=!y,k=!C,I=!g,T;t[0]!==n||t[1]!==a||t[2]!==c||t[3]!==d||t[4]!==m||t[5]!==b?(T=function(t){var e=t.overlay;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"x6ikm8r x10wlt62 x1n2onr6 x1pdlv7q x5yr21d xh8yej3",children:s.jsx(r("BaseImage.react"),{alt:n,draggable:!1,height:"100%",ref:d&&o("xplatToDOMRef").xplatToDOMRef(d),src:b,style:babelHelpers.extends({height:c,width:m},a==null?void 0:a(t)),width:"100%",xstyle:u.innerSprite})}),e]})},t[0]=n,t[1]=a,t[2]=c,t[3]=d,t[4]=m,t[5]=b,t[6]=T):T=t[6];var D;return t[7]!==n||t[8]!==p||t[9]!==R||t[10]!==_||t[11]!==f||t[12]!==v||t[13]!==L||t[14]!==E||t[15]!==k||t[16]!==I||t[17]!==T||t[18]!==S?(D=s.jsx(r("CometPressable.react"),{cursorDisabled:L,hideFocusOverlay:E,hideHoverOverlay:k,label:n,linkProps:p,onHoverIn:_,onPress:f,overlayDisabled:I,overlayRadius:4,ref:R,style:v,xstyle:S,children:T}),t[7]=n,t[8]=p,t[9]=R,t[10]=_,t[11]=f,t[12]=v,t[13]=L,t[14]=E,t[15]=k,t[16]=I,t[17]=T,t[18]=S,t[19]=D):D=t[19],D}l.default=c}),98);
__d("cometAnimationStateReducer",[],(function(t,n,r,o,a,i){"use strict";function e(){return Object.freeze({hasAnimated:!1,iterationIndex:1,shouldAnimate:!1})}function l(e,t){switch(t.type){case"FORCE_STOP_ANIMATION":return d(e,t);case"RESTART_ANIMATION":return u(e,t);case"START_ANIMATION":return s(e,t);case"NEXT_ITERATION":return c(e,t);default:t.type;break}return e}function s(e,t){var n=e.hasAnimated;return n?l(e,{type:"RESTART_ANIMATION"}):babelHelpers.extends({},e,{shouldAnimate:!0})}function u(e,t){var n=l(e,{type:"FORCE_STOP_ANIMATION"});return babelHelpers.extends({},n,{shouldAnimate:!0})}function c(e,t){var n=t.iterationLimit,r=e.iterationIndex,o=r>=n;return babelHelpers.extends({},e,{hasAnimated:o,iterationIndex:o?1:r+1})}function d(t,n){return babelHelpers.extends({},t,e(),{shouldAnimate:!1})}i.getInitialState=e,i.reducer=l}),66);
__d("useCometAnimationStateReducer",["cometAnimationStateReducer","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useMemo,c=s.useReducer;function d(e){var t=o("react-compiler-runtime").c(4),n=e.frameCount,r=e.frameRate,a=e.iterationLimit,i=c(o("cometAnimationStateReducer").reducer,null,o("cometAnimationStateReducer").getInitialState),l=i[0],s=i[1],u=l.shouldAnimate&&!l.hasAnimated,d=r*n,m;return t[0]!==u||t[1]!==d||t[2]!==a?(m={canAnimate:u,duration:d,nextAnimationIteration:function(){s({iterationLimit:a,type:"NEXT_ITERATION"})},startAnimation:function(){s({type:"START_ANIMATION"})}},t[0]=u,t[1]=d,t[2]=a,t[3]=m):m=t[3],m}l.default=d}),98);
__d("useMemoByObjectVariables",["areEqual","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useMemo,d=u.useRef,m=u.useState,p=0;function _(t){var n=d(p),o=m(t),a=o[0],i=o[1],l=!(e||(e=r("areEqual")))(t,a);l&&(n.current+=1,i(t));var s=c(function(){return t},[n.current]);return c(function(){return[s,n.current]},[s])}l.default=_}),98);
__d("useCometAnimationTrigger",["react","useCometAnimationStateReducer","useMemoByObjectVariables"],(function(t,n,r,o,a,i,l){"use strict";var e=["animationTriggers"],s,u=s||(s=o("react")),c=u.useCallback,d=u.useMemo,m=u.useRef;function p(e,t){var n=t.hovered;return n===!0&&e.hover===!0}function _(t){var n=t.animationTriggers,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=m(!1),i=r("useCometAnimationStateReducer")(o),l=r("useMemoByObjectVariables")(n),s=l[0],u=d(function(){if(s.hover===!0)return function(){i.startAnimation()}},[i,s]),_=d(function(){if(a.current===!1&&s.load===!0)return function(){a.current=!0,i.startAnimation()}},[i,s]),f=c(function(e){return i.canAnimate||p(s,e)},[i,s]);return d(function(){return{duration:i.duration,getShouldAnimate:f,onHoverIn:u,onLoad:_,onNextAnimationIteration:i.nextAnimationIteration}},[i,f,u,_])}l.default=_}),98);
__d("useInvalidNumberThrowsViolation",["fb-error","useCometErrorProject"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=t===void 0?"Unexpected invalid number value":t,o=r("useCometErrorProject")();if(o==null)throw new Error("useInvalidNumberThrowsViolation can only be used if CometErrorProjectContext\n        has a provider in your component tree");if(!Number.isNaN(e)&&Number.isFinite(e))return e;throw r("fb-error").TAAL.blameToPreviousFrame(new Error(n))}l.default=e}),98);
__d("useSpriteAnimation",["FBLogger","react","react-compiler-runtime","stylex","useInvalidNumberThrowsViolation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useLayoutEffect,c=0;function d(e,t,n){return"__DYNAMIC__CometAnimatedSprite_"+e+"_"+t+"_"+n}function m(e){var t=e.frameCount,n=e.framesPerCol,o=e.framesPerRow,a=e.step,i=a/t*100,l=a%o/o*100,s=Math.floor(a/o)/n*100,u=Number.isNaN(l)||Number.isNaN(s)||Number.isNaN(i)||!Number.isFinite(l)||!Number.isFinite(s)||!Number.isFinite(i);if(u===!0)throw r("FBLogger")("comet_ui").mustfixThrow("Invalid animation input provided.");return i+"% { transform: translate(-"+l+"%, -"+s+"%); }"}function p(e,t,n,o){var a=[];if(!Number.isFinite(t)||Number.isNaN(t))throw r("FBLogger")("comet_ui").mustfixThrow("Invalid framecount");for(var i=0;i<t;i++)a.push(m({frameCount:t,framesPerCol:n,framesPerRow:o,step:i}));if(a.length<=0)throw r("FBLogger")("comet_ui").mustfixThrow("There were no animation frames to create an animation.");return"\n  @keyframes "+e+" {\n    "+a.join("\n  ")+"\n  }\n"}function _(t,n,a){var i=o("react-compiler-runtime").c(10);r("useInvalidNumberThrowsViolation")(t),r("useInvalidNumberThrowsViolation")(n),r("useInvalidNumberThrowsViolation")(a);var l;i[0]!==t||i[1]!==n||i[2]!==a?(l=d(t,n,a),i[0]=t,i[1]=n,i[2]=a,i[3]=l):l=i[3];var s=l,m,_;return i[4]!==s||i[5]!==t||i[6]!==n||i[7]!==a?(m=function(){(e||(e=r("stylex"))).inject(p(s,t,n,a),c)},_=[s,t,n,a],i[4]=s,i[5]=t,i[6]=n,i[7]=a,i[8]=m,i[9]=_):(m=i[8],_=i[9]),u(m,_),s}l.default=_}),98);
__d("CometAnimatedSprite.react",["CometSpriteBase.react","react","react-compiler-runtime","useCometAnimationTrigger","useInvalidNumberThrowsViolation","useRefEffect","useSpriteAnimation","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e=["animationTriggers","frameCount","frameRate","framesPerCol","framesPerRow","repeatNumber","spriteUri"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(32),a,i,l,s,c,d,m,p;n[0]!==t?(a=t.animationTriggers,i=t.frameCount,l=t.frameRate,s=t.framesPerCol,c=t.framesPerRow,p=t.repeatNumber,m=t.spriteUri,d=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m,n[8]=p):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7],p=n[8]);var _=p===void 0?3:p,f;n[9]!==a||n[10]!==i||n[11]!==l||n[12]!==_?(f={animationTriggers:a,frameCount:i,frameRate:l,iterationLimit:_},n[9]=a,n[10]=i,n[11]=l,n[12]=_,n[13]=f):f=n[13];var g=r("useCometAnimationTrigger")(f),h=g.duration,y=g.getShouldAnimate,C=g.onHoverIn,b=g.onLoad,v=g.onNextAnimationIteration,S=r("useSpriteAnimation")(i,s,c),R=r("useInvalidNumberThrowsViolation")(s*100),L=r("useInvalidNumberThrowsViolation")(c*100),E;n[14]!==b?(E={onVisible:b},n[14]=b,n[15]=E):E=n[15];var k=r("useVisibilityObserver")(E),I,T;n[16]!==v?(I=function(t){return t.addEventListener("animationiteration",v),(function(){t.removeEventListener("animationiteration",v)})},T=[v],n[16]=v,n[17]=I,n[18]=T):(I=n[17],T=n[18]);var D=r("useRefEffect")(I,T),x;n[19]!==S||n[20]!==h||n[21]!==y?(x=function(t){return y(t)?{animationDuration:h+"ms",animationName:S}:{animation:"none"}},n[19]=S,n[20]=h,n[21]=y,n[22]=x):x=n[22];var $=R+"%",P=L+"%",N;return n[23]!==D||n[24]!==C||n[25]!==d||n[26]!==m||n[27]!==k||n[28]!==x||n[29]!==$||n[30]!==P?(N=u.jsx(r("CometSpriteBase.react"),babelHelpers.extends({},d,{animationStyle:x,containerRef:k,imgHeight:$,imgRef:D,imgWidth:P,onHoverIn:C,src:m})),n[23]=D,n[24]=C,n[25]=d,n[26]=m,n[27]=k,n[28]=x,n[29]=$,n[30]=P,n[31]=N):N=n[31],N}l.default=c}),98);
__d("CometAnimatedSticker.react",["CometAnimatedSprite.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["alt","frameCount","frameRate","framesPerCol","framesPerRow","uri"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(16),a,i,l,s,c,d,m;n[0]!==t?(a=t.alt,i=t.frameCount,l=t.frameRate,s=t.framesPerCol,c=t.framesPerRow,m=t.uri,d=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7]);var p;return n[8]!==a||n[9]!==i||n[10]!==l||n[11]!==s||n[12]!==c||n[13]!==d||n[14]!==m?(p=u.jsx(r("CometAnimatedSprite.react"),babelHelpers.extends({},d,{accessibilityCaption:a,frameCount:i,frameRate:l,framesPerCol:s,framesPerRow:c,spriteUri:m})),n[8]=a,n[9]=i,n[10]=l,n[11]=s,n[12]=c,n[13]=d,n[14]=m,n[15]=p):p=n[15],p}l.default=c}),98);
__d("CometStickerRelay_sticker.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"width"}],t={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"height"},{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"width"}],kind:"Fragment",metadata:null,name:"CometStickerRelay_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"LOG",path:"pack.name"}],storageKey:null},{alias:null,args:e,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[{kind:"RequiredField",field:t,action:"LOG",path:"sprite_image.uri"}],storageKey:null},{alias:null,args:e,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{kind:"RequiredField",field:t,action:"LOG",path:"image.uri"},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null}],type:"Sticker",abstractKey:null}})();a.exports=e}),null);
__d("CometStickerRelay.react",["fbt","CometAnimatedSticker.react","CometRelay","CometSpriteBase.react","CometStickerRelay_sticker.graphql","FBLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["animationTriggers","sticker","style"],u,c,d=c||(c=o("react")),m=c.useMemo,p="AI generated sticker";function _(t){var a=o("react-compiler-runtime").c(28),i,l,c,m;a[0]!==t?(i=t.animationTriggers,c=t.sticker,m=t.style,l=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=c,a[4]=m):(i=a[1],l=a[2],c=a[3],m=a[4]);var _=o("CometRelay").useFragment(u!==void 0?u:u=n("CometStickerRelay_sticker.graphql"),c),f=_.frame_count,g=_.frame_rate,h=_.frames_per_column,y=_.frames_per_row,C=_.image,b=_.label,v=_.pack,S=_.sprite_image,R=S==null?void 0:S.uri,L=C==null?void 0:C.uri,E=C==null?void 0:C.width,k=C==null?void 0:C.height,I=v==null?void 0:v.name,T;e:{if(typeof m=="function"){var D;a[5]!==k||a[6]!==m||a[7]!==E?(D=m({height:k,width:E}),a[5]=k,a[6]=m,a[7]=E,a[8]=D):D=a[8],T=D;break e}T=m}var x=T;b==null&&r("FBLogger")("comet_ui").mustfix("Invalid label received in CometSticker");var $=b===p,P;a[9]!==$||a[10]!==b||a[11]!==I?(P=I!=null?s._(/*BTDS*/"{pack name} {sticker name}{sticker suffix}",[s._param("pack name",I),s._param("sticker name",b),s._param("sticker suffix",$?"":" sticker")]):b!=null?b:"",a[9]=$,a[10]=b,a[11]=I,a[12]=P):P=a[12];var N=P;if(R!=null)if(f!=null&&g!=null&&h!=null&&y!=null){var M;return a[13]!==i||a[14]!==N||a[15]!==f||a[16]!==g||a[17]!==h||a[18]!==y||a[19]!==l||a[20]!==x||a[21]!==R?(M=d.jsx(r("CometAnimatedSticker.react"),babelHelpers.extends({},l,{alt:N,animationTriggers:i,frameCount:f,frameRate:g,framesPerCol:h,framesPerRow:y,style:x,uri:R})),a[13]=i,a[14]=N,a[15]=f,a[16]=g,a[17]=h,a[18]=y,a[19]=l,a[20]=x,a[21]=R,a[22]=M):M=a[22],M}else r("FBLogger")("comet_ui").mustfix("Invalid sticker animation data received");if(L==null)throw r("FBLogger")("comet_ui").mustfixThrow("Invalid sticker data received");var w;return a[23]!==N||a[24]!==L||a[25]!==l||a[26]!==x?(w=d.jsx(r("CometSpriteBase.react"),babelHelpers.extends({},l,{accessibilityCaption:N,src:L,style:x})),a[23]=N,a[24]=L,a[25]=l,a[26]=x,a[27]=w):w=a[27],w}l.default=_}),226);
__d("CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{args:[{kind:"Literal",name:"height",value:80},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:80}],kind:"FragmentSpread",name:"CometStickerRelay_sticker"}],storageKey:null}],storageKey:null}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null};a.exports=e}),null);
__d("CometUFICommentStickerAttachmentStyle.react",["CometRelay","CometStickerRelay.react","CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql","FBLogger","LiveProducerCommentsRenderingContext","UFI2ScaleRect","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=80,_=.75;function f(t){var a=o("react-compiler-runtime").c(7),i=t.styleTypeRenderer,l=o("CometRelay").useFragment(e!==void 0?e:e=n("CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql"),i),s=l.attachment,c=s==null?void 0:s.media,d=m(r("LiveProducerCommentsRenderingContext")),f=d.shrinkStickers,g;a[0]!==f?(g=function(t){var e=t.height,n=t.width;return o("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:f?p*_:p,maxWidth:f?p*_:p,srcHeight:e!=null?e:p,srcWidth:n!=null?n:p})},a[0]=f,a[1]=g):g=a[1];var h=g;if(c==null)return r("FBLogger")("ufi2").mustfix("CometUFICommentStickerAvatarAttachmentStyle: Tried to render a sticker, but attachment information is null."),null;var y;a[2]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x1iorvi4"},a[2]=y):y=a[2];var C;a[3]===Symbol.for("react.memo_cache_sentinel")?(C={hover:!0,load:!0},a[3]=C):C=a[3];var b;return a[4]!==c||a[5]!==h?(b=u.jsx("div",babelHelpers.extends({},y,{children:u.jsx(r("CometStickerRelay.react"),{animationTriggers:C,sticker:c,style:h})})),a[4]=c,a[5]=h,a[6]=b):b=a[6],b}l.default=f}),98);
__d("CometUFICommentStickerAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Literal",name:"height",value:80},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:80}],n={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},r=[e];return{kind:"SplitOperation",metadata:{},name:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e],storageKey:null},{alias:null,args:t,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[n],storageKey:null},{alias:null,args:t,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null}],type:"Sticker",abstractKey:null},{kind:"InlineFragment",selections:r,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:r,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:r,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:r,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:r,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null}]}})();a.exports=e}),null);